(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function xg(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ct={},ha=[],ur=()=>{},mL=()=>!1,lf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Eg=t=>t.startsWith("onUpdate:"),jt=Object.assign,Cg=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},gL=Object.prototype.hasOwnProperty,ht=(t,e)=>gL.call(t,e),Re=Array.isArray,pa=t=>Pc(t)==="[object Map]",Da=t=>Pc(t)==="[object Set]",dw=t=>Pc(t)==="[object Date]",je=t=>typeof t=="function",Dt=t=>typeof t=="string",Hi=t=>typeof t=="symbol",yt=t=>t!==null&&typeof t=="object",Sx=t=>(yt(t)||je(t))&&je(t.then)&&je(t.catch),xx=Object.prototype.toString,Pc=t=>xx.call(t),vL=t=>Pc(t).slice(8,-1),Ex=t=>Pc(t)==="[object Object]",Tg=t=>Dt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Xl=xg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cf=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},bL=/-(\w)/g,hi=cf(t=>t.replace(bL,(e,n)=>n?n.toUpperCase():"")),yL=/\B([A-Z])/g,Xr=cf(t=>t.replace(yL,"-$1").toLowerCase()),uf=cf(t=>t.charAt(0).toUpperCase()+t.slice(1)),mp=cf(t=>t?`on${uf(t)}`:""),jn=(t,e)=>!Object.is(t,e),fd=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Cx=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},Od=t=>{const e=parseFloat(t);return isNaN(e)?t:e},wL=t=>{const e=Dt(t)?Number(t):NaN;return isNaN(e)?t:e};let fw;const df=()=>fw||(fw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ao(t){if(Re(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=Dt(i)?CL(i):Ao(i);if(r)for(const s in r)e[s]=r[s]}return e}else if(Dt(t)||yt(t))return t}const SL=/;(?![^(]*\))/g,xL=/:([^]+)/,EL=/\/\*[^]*?\*\//g;function CL(t){const e={};return t.replace(EL,"").split(SL).forEach(n=>{if(n){const i=n.split(xL);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function mt(t){let e="";if(Dt(t))e=t;else if(Re(t))for(let n=0;n<t.length;n++){const i=mt(t[n]);i&&(e+=i+" ")}else if(yt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const TL="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ML=xg(TL);function Tx(t){return!!t||t===""}function _L(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=vo(t[i],e[i]);return n}function vo(t,e){if(t===e)return!0;let n=dw(t),i=dw(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=Hi(t),i=Hi(e),n||i)return t===e;if(n=Re(t),i=Re(e),n||i)return n&&i?_L(t,e):!1;if(n=yt(t),i=yt(e),n||i){if(!n||!i)return!1;const r=Object.keys(t).length,s=Object.keys(e).length;if(r!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!vo(t[o],e[o]))return!1}}return String(t)===String(e)}function Mg(t,e){return t.findIndex(n=>vo(n,e))}const Mx=t=>!!(t&&t.__v_isRef===!0),Qt=t=>Dt(t)?t:t==null?"":Re(t)||yt(t)&&(t.toString===xx||!je(t.toString))?Mx(t)?Qt(t.value):JSON.stringify(t,_x,2):String(t),_x=(t,e)=>Mx(e)?_x(t,e.value):pa(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,r],s)=>(n[gp(i,s)+" =>"]=r,n),{})}:Da(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>gp(n))}:Hi(e)?gp(e):yt(e)&&!Re(e)&&!Ex(e)?String(e):e,gp=(t,e="")=>{var n;return Hi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xn;class Ax{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=xn,!e&&xn&&(this.index=(xn.scopes||(xn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=xn;try{return xn=this,e()}finally{xn=n}}}on(){++this._on===1&&(this.prevScope=xn,xn=this)}off(){this._on>0&&--this._on===0&&(xn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function kx(t){return new Ax(t)}function Ox(){return xn}function AL(t,e=!1){xn&&xn.cleanups.push(t)}let St;const vp=new WeakSet;class Rx{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,xn&&xn.active&&xn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vp.has(this)&&(vp.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ix(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,hw(this),Lx(this);const e=St,n=Bi;St=this,Bi=!0;try{return this.fn()}finally{Dx(this),St=e,Bi=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)kg(e);this.deps=this.depsTail=void 0,hw(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vp.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){pm(this)&&this.run()}get dirty(){return pm(this)}}let Px=0,ql,Gl;function Ix(t,e=!1){if(t.flags|=8,e){t.next=Gl,Gl=t;return}t.next=ql,ql=t}function _g(){Px++}function Ag(){if(--Px>0)return;if(Gl){let e=Gl;for(Gl=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;ql;){let e=ql;for(ql=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function Lx(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Dx(t){let e,n=t.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),kg(i),kL(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}t.deps=e,t.depsTail=n}function pm(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Nx(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Nx(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ac)||(t.globalVersion=ac,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!pm(t))))return;t.flags|=2;const e=t.dep,n=St,i=Bi;St=t,Bi=!0;try{Lx(t);const r=t.fn(t._value);(e.version===0||jn(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{St=n,Bi=i,Dx(t),t.flags&=-3}}function kg(t,e=!1){const{dep:n,prevSub:i,nextSub:r}=t;if(i&&(i.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)kg(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function kL(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Bi=!0;const zx=[];function Wr(){zx.push(Bi),Bi=!1}function Vr(){const t=zx.pop();Bi=t===void 0?!0:t}function hw(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=St;St=void 0;try{e()}finally{St=n}}}let ac=0,OL=class{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class ff{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!St||!Bi||St===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==St)n=this.activeLink=new OL(St,this),St.deps?(n.prevDep=St.depsTail,St.depsTail.nextDep=n,St.depsTail=n):St.deps=St.depsTail=n,$x(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=St.depsTail,n.nextDep=void 0,St.depsTail.nextDep=n,St.depsTail=n,St.deps===n&&(St.deps=i)}return n}trigger(e){this.version++,ac++,this.notify(e)}notify(e){_g();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ag()}}}function $x(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)$x(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Rd=new WeakMap,ao=Symbol(""),mm=Symbol(""),lc=Symbol("");function Cn(t,e,n){if(Bi&&St){let i=Rd.get(t);i||Rd.set(t,i=new Map);let r=i.get(n);r||(i.set(n,r=new ff),r.map=i,r.key=n),r.track()}}function Lr(t,e,n,i,r,s){const o=Rd.get(t);if(!o){ac++;return}const a=l=>{l&&l.trigger()};if(_g(),e==="clear")o.forEach(a);else{const l=Re(t),u=l&&Tg(n);if(l&&n==="length"){const d=Number(i);o.forEach((h,p)=>{(p==="length"||p===lc||!Hi(p)&&p>=d)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(lc)),e){case"add":l?u&&a(o.get("length")):(a(o.get(ao)),pa(t)&&a(o.get(mm)));break;case"delete":l||(a(o.get(ao)),pa(t)&&a(o.get(mm)));break;case"set":pa(t)&&a(o.get(ao));break}}Ag()}function RL(t,e){const n=Rd.get(t);return n&&n.get(e)}function qo(t){const e=ot(t);return e===t?e:(Cn(e,"iterate",lc),Ai(t)?e:e.map(un))}function hf(t){return Cn(t=ot(t),"iterate",lc),t}const PL={__proto__:null,[Symbol.iterator](){return bp(this,Symbol.iterator,un)},concat(...t){return qo(this).concat(...t.map(e=>Re(e)?qo(e):e))},entries(){return bp(this,"entries",t=>(t[1]=un(t[1]),t))},every(t,e){return Ar(this,"every",t,e,void 0,arguments)},filter(t,e){return Ar(this,"filter",t,e,n=>n.map(un),arguments)},find(t,e){return Ar(this,"find",t,e,un,arguments)},findIndex(t,e){return Ar(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ar(this,"findLast",t,e,un,arguments)},findLastIndex(t,e){return Ar(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ar(this,"forEach",t,e,void 0,arguments)},includes(...t){return yp(this,"includes",t)},indexOf(...t){return yp(this,"indexOf",t)},join(t){return qo(this).join(t)},lastIndexOf(...t){return yp(this,"lastIndexOf",t)},map(t,e){return Ar(this,"map",t,e,void 0,arguments)},pop(){return ol(this,"pop")},push(...t){return ol(this,"push",t)},reduce(t,...e){return pw(this,"reduce",t,e)},reduceRight(t,...e){return pw(this,"reduceRight",t,e)},shift(){return ol(this,"shift")},some(t,e){return Ar(this,"some",t,e,void 0,arguments)},splice(...t){return ol(this,"splice",t)},toReversed(){return qo(this).toReversed()},toSorted(t){return qo(this).toSorted(t)},toSpliced(...t){return qo(this).toSpliced(...t)},unshift(...t){return ol(this,"unshift",t)},values(){return bp(this,"values",un)}};function bp(t,e,n){const i=hf(t),r=i[e]();return i!==t&&!Ai(t)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const IL=Array.prototype;function Ar(t,e,n,i,r,s){const o=hf(t),a=o!==t&&!Ai(t),l=o[e];if(l!==IL[e]){const h=l.apply(t,s);return a?un(h):h}let u=n;o!==t&&(a?u=function(h,p){return n.call(this,un(h),p,t)}:n.length>2&&(u=function(h,p){return n.call(this,h,p,t)}));const d=l.call(o,u,i);return a&&r?r(d):d}function pw(t,e,n,i){const r=hf(t);let s=n;return r!==t&&(Ai(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,un(a),l,t)}),r[e](s,...i)}function yp(t,e,n){const i=ot(t);Cn(i,"iterate",lc);const r=i[e](...n);return(r===-1||r===!1)&&Pg(n[0])?(n[0]=ot(n[0]),i[e](...n)):r}function ol(t,e,n=[]){Wr(),_g();const i=ot(t)[e].apply(t,n);return Ag(),Vr(),i}const LL=xg("__proto__,__v_isRef,__isVue"),Bx=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Hi));function DL(t){Hi(t)||(t=String(t));const e=ot(this);return Cn(e,"has",t),e.hasOwnProperty(t)}class Fx{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?UL:jx:s?Vx:Wx).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=Re(e);if(!r){let l;if(o&&(l=PL[n]))return l;if(n==="hasOwnProperty")return DL}const a=Reflect.get(e,n,Bt(e)?e:i);return(Hi(n)?Bx.has(n):LL(n))||(r||Cn(e,"get",n),s)?a:Bt(a)?o&&Tg(n)?a:a.value:yt(a)?r?Yx(a):ar(a):a}}class Hx extends Fx{constructor(e=!1){super(!1,e)}set(e,n,i,r){let s=e[n];if(!this._isShallow){const l=Ps(s);if(!Ai(i)&&!Ps(i)&&(s=ot(s),i=ot(i)),!Re(e)&&Bt(s)&&!Bt(i))return l?!1:(s.value=i,!0)}const o=Re(e)&&Tg(n)?Number(n)<e.length:ht(e,n),a=Reflect.set(e,n,i,Bt(e)?e:r);return e===ot(r)&&(o?jn(i,s)&&Lr(e,"set",n,i):Lr(e,"add",n,i)),a}deleteProperty(e,n){const i=ht(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&i&&Lr(e,"delete",n,void 0),r}has(e,n){const i=Reflect.has(e,n);return(!Hi(n)||!Bx.has(n))&&Cn(e,"has",n),i}ownKeys(e){return Cn(e,"iterate",Re(e)?"length":ao),Reflect.ownKeys(e)}}class NL extends Fx{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const zL=new Hx,$L=new NL,BL=new Hx(!0);const gm=t=>t,Bu=t=>Reflect.getPrototypeOf(t);function FL(t,e,n){return function(...i){const r=this.__v_raw,s=ot(r),o=pa(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=r[t](...i),d=n?gm:e?Pd:un;return!e&&Cn(s,"iterate",l?mm:ao),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[d(h[0]),d(h[1])]:d(h),done:p}},[Symbol.iterator](){return this}}}}function Fu(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function HL(t,e){const n={get(r){const s=this.__v_raw,o=ot(s),a=ot(r);t||(jn(r,a)&&Cn(o,"get",r),Cn(o,"get",a));const{has:l}=Bu(o),u=e?gm:t?Pd:un;if(l.call(o,r))return u(s.get(r));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(r)},get size(){const r=this.__v_raw;return!t&&Cn(ot(r),"iterate",ao),Reflect.get(r,"size",r)},has(r){const s=this.__v_raw,o=ot(s),a=ot(r);return t||(jn(r,a)&&Cn(o,"has",r),Cn(o,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const o=this,a=o.__v_raw,l=ot(a),u=e?gm:t?Pd:un;return!t&&Cn(l,"iterate",ao),a.forEach((d,h)=>r.call(s,u(d),u(h),o))}};return jt(n,t?{add:Fu("add"),set:Fu("set"),delete:Fu("delete"),clear:Fu("clear")}:{add(r){!e&&!Ai(r)&&!Ps(r)&&(r=ot(r));const s=ot(this);return Bu(s).has.call(s,r)||(s.add(r),Lr(s,"add",r,r)),this},set(r,s){!e&&!Ai(s)&&!Ps(s)&&(s=ot(s));const o=ot(this),{has:a,get:l}=Bu(o);let u=a.call(o,r);u||(r=ot(r),u=a.call(o,r));const d=l.call(o,r);return o.set(r,s),u?jn(s,d)&&Lr(o,"set",r,s):Lr(o,"add",r,s),this},delete(r){const s=ot(this),{has:o,get:a}=Bu(s);let l=o.call(s,r);l||(r=ot(r),l=o.call(s,r)),a&&a.call(s,r);const u=s.delete(r);return l&&Lr(s,"delete",r,void 0),u},clear(){const r=ot(this),s=r.size!==0,o=r.clear();return s&&Lr(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=FL(r,t,e)}),n}function Og(t,e){const n=HL(t,e);return(i,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(ht(n,r)&&r in i?n:i,r,s)}const WL={get:Og(!1,!1)},VL={get:Og(!1,!0)},jL={get:Og(!0,!1)};const Wx=new WeakMap,Vx=new WeakMap,jx=new WeakMap,UL=new WeakMap;function YL(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function XL(t){return t.__v_skip||!Object.isExtensible(t)?0:YL(vL(t))}function ar(t){return Ps(t)?t:Rg(t,!1,zL,WL,Wx)}function Ux(t){return Rg(t,!1,BL,VL,Vx)}function Yx(t){return Rg(t,!0,$L,jL,jx)}function Rg(t,e,n,i,r){if(!yt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=XL(t);if(s===0)return t;const o=r.get(t);if(o)return o;const a=new Proxy(t,s===2?i:n);return r.set(t,a),a}function Ms(t){return Ps(t)?Ms(t.__v_raw):!!(t&&t.__v_isReactive)}function Ps(t){return!!(t&&t.__v_isReadonly)}function Ai(t){return!!(t&&t.__v_isShallow)}function Pg(t){return t?!!t.__v_raw:!1}function ot(t){const e=t&&t.__v_raw;return e?ot(e):t}function pf(t){return!ht(t,"__v_skip")&&Object.isExtensible(t)&&Cx(t,"__v_skip",!0),t}const un=t=>yt(t)?ar(t):t,Pd=t=>yt(t)?Yx(t):t;function Bt(t){return t?t.__v_isRef===!0:!1}function Oe(t){return qx(t,!1)}function Xx(t){return qx(t,!0)}function qx(t,e){return Bt(t)?t:new qL(t,e)}class qL{constructor(e,n){this.dep=new ff,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:ot(e),this._value=n?e:un(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||Ai(e)||Ps(e);e=i?e:ot(e),jn(e,n)&&(this._rawValue=e,this._value=i?e:un(e),this.dep.trigger())}}function et(t){return Bt(t)?t.value:t}const GL={get:(t,e,n)=>e==="__v_raw"?t:et(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return Bt(r)&&!Bt(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function Gx(t){return Ms(t)?t:new Proxy(t,GL)}class KL{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new ff,{get:i,set:r}=e(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Kx(t){return new KL(t)}function JL(t){const e=Re(t)?new Array(t.length):{};for(const n in t)e[n]=QL(t,n);return e}class ZL{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return RL(ot(this._object),this._key)}}function QL(t,e,n){const i=t[e];return Bt(i)?i:new ZL(t,e,n)}class eD{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new ff(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ac-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&St!==this)return Ix(this,!0),!0}get value(){const e=this.dep.track();return Nx(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function tD(t,e,n=!1){let i,r;return je(t)?i=t:(i=t.get,r=t.set),new eD(i,r,n)}const Hu={},Id=new WeakMap;let eo;function nD(t,e=!1,n=eo){if(n){let i=Id.get(n);i||Id.set(n,i=[]),i.push(t)}}function iD(t,e,n=ct){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=n,u=M=>r?M:Ai(M)||r===!1||r===0?Dr(M,1):Dr(M);let d,h,p,g,m=!1,b=!1;if(Bt(t)?(h=()=>t.value,m=Ai(t)):Ms(t)?(h=()=>u(t),m=!0):Re(t)?(b=!0,m=t.some(M=>Ms(M)||Ai(M)),h=()=>t.map(M=>{if(Bt(M))return M.value;if(Ms(M))return u(M);if(je(M))return l?l(M,2):M()})):je(t)?e?h=l?()=>l(t,2):t:h=()=>{if(p){Wr();try{p()}finally{Vr()}}const M=eo;eo=d;try{return l?l(t,3,[g]):t(g)}finally{eo=M}}:h=ur,e&&r){const M=h,A=r===!0?1/0:r;h=()=>Dr(M(),A)}const y=Ox(),S=()=>{d.stop(),y&&y.active&&Cg(y.effects,d)};if(s&&e){const M=e;e=(...A)=>{M(...A),S()}}let x=b?new Array(t.length).fill(Hu):Hu;const E=M=>{if(!(!(d.flags&1)||!d.dirty&&!M))if(e){const A=d.run();if(r||m||(b?A.some((z,L)=>jn(z,x[L])):jn(A,x))){p&&p();const z=eo;eo=d;try{const L=[A,x===Hu?void 0:b&&x[0]===Hu?[]:x,g];x=A,l?l(e,3,L):e(...L)}finally{eo=z}}}else d.run()};return a&&a(E),d=new Rx(h),d.scheduler=o?()=>o(E,!1):E,g=M=>nD(M,!1,d),p=d.onStop=()=>{const M=Id.get(d);if(M){if(l)l(M,4);else for(const A of M)A();Id.delete(d)}},e?i?E(!0):x=d.run():o?o(E.bind(null,!0),!0):d.run(),S.pause=d.pause.bind(d),S.resume=d.resume.bind(d),S.stop=S,S}function Dr(t,e=1/0,n){if(e<=0||!yt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Bt(t))Dr(t.value,e,n);else if(Re(t))for(let i=0;i<t.length;i++)Dr(t[i],e,n);else if(Da(t)||pa(t))t.forEach(i=>{Dr(i,e,n)});else if(Ex(t)){for(const i in t)Dr(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Dr(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ic(t,e,n,i){try{return i?t(...i):t()}catch(r){mf(r,e,n)}}function Wi(t,e,n,i){if(je(t)){const r=Ic(t,e,n,i);return r&&Sx(r)&&r.catch(s=>{mf(s,e,n)}),r}if(Re(t)){const r=[];for(let s=0;s<t.length;s++)r.push(Wi(t[s],e,n,i));return r}}function mf(t,e,n,i=!0){const r=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ct;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](t,l,u)===!1)return}a=a.parent}if(s){Wr(),Ic(s,null,10,[t,l,u]),Vr();return}}rD(t,n,r,i,o)}function rD(t,e,n,i=!0,r=!1){if(r)throw t;console.error(t)}const Pn=[];let nr=-1;const ma=[];let ps=null,ra=0;const Jx=Promise.resolve();let Ld=null;function jr(t){const e=Ld||Jx;return t?e.then(this?t.bind(this):t):e}function sD(t){let e=nr+1,n=Pn.length;for(;e<n;){const i=e+n>>>1,r=Pn[i],s=cc(r);s<t||s===t&&r.flags&2?e=i+1:n=i}return e}function Ig(t){if(!(t.flags&1)){const e=cc(t),n=Pn[Pn.length-1];!n||!(t.flags&2)&&e>=cc(n)?Pn.push(t):Pn.splice(sD(e),0,t),t.flags|=1,Zx()}}function Zx(){Ld||(Ld=Jx.then(e1))}function oD(t){Re(t)?ma.push(...t):ps&&t.id===-1?ps.splice(ra+1,0,t):t.flags&1||(ma.push(t),t.flags|=1),Zx()}function mw(t,e,n=nr+1){for(;n<Pn.length;n++){const i=Pn[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Pn.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Qx(t){if(ma.length){const e=[...new Set(ma)].sort((n,i)=>cc(n)-cc(i));if(ma.length=0,ps){ps.push(...e);return}for(ps=e,ra=0;ra<ps.length;ra++){const n=ps[ra];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ps=null,ra=0}}const cc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function e1(t){try{for(nr=0;nr<Pn.length;nr++){const e=Pn[nr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ic(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;nr<Pn.length;nr++){const e=Pn[nr];e&&(e.flags&=-2)}nr=-1,Pn.length=0,Qx(),Ld=null,(Pn.length||ma.length)&&e1()}}let Xt=null,t1=null;function Dd(t){const e=Xt;return Xt=t,t1=t&&t.type.__scopeId||null,e}function xt(t,e=Xt,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&Cw(-1);const s=Dd(e);let o;try{o=t(...r)}finally{Dd(s),i._d&&Cw(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function bo(t,e){if(Xt===null)return t;const n=xf(Xt),i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[s,o,a,l=ct]=e[r];s&&(je(s)&&(s={mounted:s,updated:s}),s.deep&&Dr(o),i.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ks(t,e,n,i){const r=t.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(Wr(),Wi(l,n,8,[t.el,a,t,e]),Vr())}}const aD=Symbol("_vte"),lD=t=>t.__isTeleport,Go=Symbol("_leaveCb"),Wu=Symbol("_enterCb");function cD(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return gr(()=>{t.isMounted=!0}),Lc(()=>{t.isUnmounting=!0}),t}const xi=[Function,Array],uD={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xi,onEnter:xi,onAfterEnter:xi,onEnterCancelled:xi,onBeforeLeave:xi,onLeave:xi,onAfterLeave:xi,onLeaveCancelled:xi,onBeforeAppear:xi,onAppear:xi,onAfterAppear:xi,onAppearCancelled:xi};function dD(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function vm(t,e,n,i,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:p,onLeave:g,onAfterLeave:m,onLeaveCancelled:b,onBeforeAppear:y,onAppear:S,onAfterAppear:x,onAppearCancelled:E}=e,M=String(t.key),A=dD(n,t),z=(k,D)=>{k&&Wi(k,i,9,D)},L=(k,D)=>{const X=D[1];z(k,D),Re(k)?k.every(F=>F.length<=1)&&X():k.length<=1&&X()},R={mode:o,persisted:a,beforeEnter(k){let D=l;if(!n.isMounted)if(s)D=y||l;else return;k[Go]&&k[Go](!0);const X=A[M];X&&sa(t,X)&&X.el[Go]&&X.el[Go](),z(D,[k])},enter(k){let D=u,X=d,F=h;if(!n.isMounted)if(s)D=S||u,X=x||d,F=E||h;else return;let U=!1;const q=k[Wu]=oe=>{U||(U=!0,oe?z(F,[k]):z(X,[k]),R.delayedLeave&&R.delayedLeave(),k[Wu]=void 0)};D?L(D,[k,q]):q()},leave(k,D){const X=String(t.key);if(k[Wu]&&k[Wu](!0),n.isUnmounting)return D();z(p,[k]);let F=!1;const U=k[Go]=q=>{F||(F=!0,D(),q?z(b,[k]):z(m,[k]),k[Go]=void 0,A[X]===t&&delete A[X])};A[X]=t,g?L(g,[k,U]):U()},clone(k){return vm(k,e,n,i)}};return R}function uc(t,e){t.shapeFlag&6&&t.component?(t.transition=e,uc(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function n1(t,e=!1,n){let i=[],r=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Pt?(o.patchFlag&128&&r++,i=i.concat(n1(o.children,e,a))):(e||o.type!==dr)&&i.push(a!=null?yo(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function gf(t,e){return je(t)?jt({name:t.name},e,{setup:t}):t}function i1(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Na(t){const e=Sf(),n=Xx(null);if(e){const r=e.refs===ct?e.refs={}:e.refs;Object.defineProperty(r,t,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}function Nd(t,e,n,i,r=!1){if(Re(t)){t.forEach((m,b)=>Nd(m,e&&(Re(e)?e[b]:e),n,i,r));return}if(ga(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Nd(t,e,n,i.component.subTree);return}const s=i.shapeFlag&4?xf(i.component):i.el,o=r?null:s,{i:a,r:l}=t,u=e&&e.r,d=a.refs===ct?a.refs={}:a.refs,h=a.setupState,p=ot(h),g=h===ct?()=>!1:m=>ht(p,m);if(u!=null&&u!==l&&(Dt(u)?(d[u]=null,g(u)&&(h[u]=null)):Bt(u)&&(u.value=null)),je(l))Ic(l,a,12,[o,d]);else{const m=Dt(l),b=Bt(l);if(m||b){const y=()=>{if(t.f){const S=m?g(l)?h[l]:d[l]:l.value;r?Re(S)&&Cg(S,s):Re(S)?S.includes(s)||S.push(s):m?(d[l]=[s],g(l)&&(h[l]=d[l])):(l.value=[s],t.k&&(d[t.k]=l.value))}else m?(d[l]=o,g(l)&&(h[l]=o)):b&&(l.value=o,t.k&&(d[t.k]=o))};o?(y.id=-1,ri(y,n)):y()}}}df().requestIdleCallback;df().cancelIdleCallback;const ga=t=>!!t.type.__asyncLoader,r1=t=>t.type.__isKeepAlive;function s1(t,e){a1(t,"a",e)}function o1(t,e){a1(t,"da",e)}function a1(t,e,n=Zt){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(vf(e,i,n),n){let r=n.parent;for(;r&&r.parent;)r1(r.parent.vnode)&&fD(i,e,n,r),r=r.parent}}function fD(t,e,n,i){const r=vf(e,t,i,!0);za(()=>{Cg(i[e],r)},n)}function vf(t,e,n=Zt,i=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Wr();const a=Dc(n),l=Wi(e,n,t,o);return a(),Vr(),l});return i?r.unshift(s):r.push(s),s}}const qr=t=>(e,n=Zt)=>{(!pc||t==="sp")&&vf(t,(...i)=>e(...i),n)},Ns=qr("bm"),gr=qr("m"),hD=qr("bu"),l1=qr("u"),Lc=qr("bum"),za=qr("um"),pD=qr("sp"),mD=qr("rtg"),gD=qr("rtc");function vD(t,e=Zt){vf("ec",t,e)}const c1="components";function di(t,e){return d1(c1,t,!0,e)||t}const u1=Symbol.for("v-ndc");function dc(t){return Dt(t)?d1(c1,t,!1)||t:t||u1}function d1(t,e,n=!0,i=!1){const r=Xt||Zt;if(r){const s=r.type;{const a=sN(s,!1);if(a&&(a===e||a===hi(e)||a===uf(hi(e))))return s}const o=gw(r[t]||s[t],e)||gw(r.appContext[t],e);return!o&&i?s:o}}function gw(t,e){return t&&(t[e]||t[hi(e)]||t[uf(hi(e))])}function Is(t,e,n,i){let r;const s=n,o=Re(t);if(o||Dt(t)){const a=o&&Ms(t);let l=!1,u=!1;a&&(l=!Ai(t),u=Ps(t),t=hf(t)),r=new Array(t.length);for(let d=0,h=t.length;d<h;d++)r[d]=e(l?u?Pd(un(t[d])):un(t[d]):t[d],d,void 0,s)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,s)}else if(yt(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const d=a[l];r[l]=e(t[d],d,l,s)}}else r=[];return r}function Kn(t,e,n={},i,r){if(Xt.ce||Xt.parent&&ga(Xt.parent)&&Xt.parent.ce)return e!=="default"&&(n.name=e),ee(),Pe(Pt,null,[ge("slot",n,i)],64);let s=t[e];s&&s._c&&(s._d=!1),ee();const o=s&&f1(s(n)),a=n.key||o&&o.key,l=Pe(Pt,{key:(a&&!Hi(a)?a:`_${e}`)+""},o||[],o&&t._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function f1(t){return t.some(e=>hc(e)?!(e.type===dr||e.type===Pt&&!f1(e.children)):!0)?t:null}const bm=t=>t?P1(t)?xf(t):bm(t.parent):null,Kl=jt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>bm(t.parent),$root:t=>bm(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>p1(t),$forceUpdate:t=>t.f||(t.f=()=>{Ig(t.update)}),$nextTick:t=>t.n||(t.n=jr.bind(t.proxy)),$watch:t=>HD.bind(t)}),wp=(t,e)=>t!==ct&&!t.__isScriptSetup&&ht(t,e),bD={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return s[e]}else{if(wp(i,e))return o[e]=1,i[e];if(r!==ct&&ht(r,e))return o[e]=2,r[e];if((u=t.propsOptions[0])&&ht(u,e))return o[e]=3,s[e];if(n!==ct&&ht(n,e))return o[e]=4,n[e];ym&&(o[e]=0)}}const d=Kl[e];let h,p;if(d)return e==="$attrs"&&Cn(t.attrs,"get",""),d(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==ct&&ht(n,e))return o[e]=4,n[e];if(p=l.config.globalProperties,ht(p,e))return p[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:s}=t;return wp(r,e)?(r[e]=n,!0):i!==ct&&ht(i,e)?(i[e]=n,!0):ht(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||t!==ct&&ht(t,o)||wp(e,o)||(a=s[0])&&ht(a,o)||ht(i,o)||ht(Kl,o)||ht(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ht(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function zd(t){return Re(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function rn(t,e){return!t||!e?t||e:Re(t)&&Re(e)?t.concat(e):jt({},zd(t),zd(e))}let ym=!0;function yD(t){const e=p1(t),n=t.proxy,i=t.ctx;ym=!1,e.beforeCreate&&vw(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:u,created:d,beforeMount:h,mounted:p,beforeUpdate:g,updated:m,activated:b,deactivated:y,beforeDestroy:S,beforeUnmount:x,destroyed:E,unmounted:M,render:A,renderTracked:z,renderTriggered:L,errorCaptured:R,serverPrefetch:k,expose:D,inheritAttrs:X,components:F,directives:U,filters:q}=e;if(u&&wD(u,i,null),o)for(const $ in o){const W=o[$];je(W)&&(i[$]=W.bind(n))}if(r){const $=r.call(n,n);yt($)&&(t.data=ar($))}if(ym=!0,s)for(const $ in s){const W=s[$],re=je(W)?W.bind(n,n):je(W.get)?W.get.bind(n,n):ur,Te=!je(W)&&je(W.set)?W.set.bind(n):ur,Be=be({get:re,set:Te});Object.defineProperty(i,$,{enumerable:!0,configurable:!0,get:()=>Be.value,set:tt=>Be.value=tt})}if(a)for(const $ in a)h1(a[$],i,n,$);if(l){const $=je(l)?l.call(n):l;Reflect.ownKeys($).forEach(W=>{hd(W,$[W])})}d&&vw(d,t,"c");function Z($,W){Re(W)?W.forEach(re=>$(re.bind(n))):W&&$(W.bind(n))}if(Z(Ns,h),Z(gr,p),Z(hD,g),Z(l1,m),Z(s1,b),Z(o1,y),Z(vD,R),Z(gD,z),Z(mD,L),Z(Lc,x),Z(za,M),Z(pD,k),Re(D))if(D.length){const $=t.exposed||(t.exposed={});D.forEach(W=>{Object.defineProperty($,W,{get:()=>n[W],set:re=>n[W]=re})})}else t.exposed||(t.exposed={});A&&t.render===ur&&(t.render=A),X!=null&&(t.inheritAttrs=X),F&&(t.components=F),U&&(t.directives=U),k&&i1(t)}function wD(t,e,n=ur){Re(t)&&(t=wm(t));for(const i in t){const r=t[i];let s;yt(r)?"default"in r?s=Lt(r.from||i,r.default,!0):s=Lt(r.from||i):s=Lt(r),Bt(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[i]=s}}function vw(t,e,n){Wi(Re(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function h1(t,e,n,i){let r=i.includes(".")?M1(n,i):()=>n[i];if(Dt(t)){const s=e[t];je(s)&&gn(r,s)}else if(je(t))gn(r,t.bind(n));else if(yt(t))if(Re(t))t.forEach(s=>h1(s,e,n,i));else{const s=je(t.handler)?t.handler.bind(n):e[t.handler];je(s)&&gn(r,s,t)}}function p1(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!n&&!i?l=e:(l={},r.length&&r.forEach(u=>$d(l,u,o,!0)),$d(l,e,o)),yt(e)&&s.set(e,l),l}function $d(t,e,n,i=!1){const{mixins:r,extends:s}=e;s&&$d(t,s,n,!0),r&&r.forEach(o=>$d(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=SD[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const SD={data:bw,props:yw,emits:yw,methods:Fl,computed:Fl,beforeCreate:Rn,created:Rn,beforeMount:Rn,mounted:Rn,beforeUpdate:Rn,updated:Rn,beforeDestroy:Rn,beforeUnmount:Rn,destroyed:Rn,unmounted:Rn,activated:Rn,deactivated:Rn,errorCaptured:Rn,serverPrefetch:Rn,components:Fl,directives:Fl,watch:ED,provide:bw,inject:xD};function bw(t,e){return e?t?function(){return jt(je(t)?t.call(this,this):t,je(e)?e.call(this,this):e)}:e:t}function xD(t,e){return Fl(wm(t),wm(e))}function wm(t){if(Re(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Rn(t,e){return t?[...new Set([].concat(t,e))]:e}function Fl(t,e){return t?jt(Object.create(null),t,e):e}function yw(t,e){return t?Re(t)&&Re(e)?[...new Set([...t,...e])]:jt(Object.create(null),zd(t),zd(e??{})):e}function ED(t,e){if(!t)return e;if(!e)return t;const n=jt(Object.create(null),t);for(const i in e)n[i]=Rn(t[i],e[i]);return n}function m1(){return{app:null,config:{isNativeTag:mL,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let CD=0;function TD(t,e){return function(i,r=null){je(i)||(i=jt({},i)),r!=null&&!yt(r)&&(r=null);const s=m1(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:CD++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:aN,get config(){return s.config},set config(d){},use(d,...h){return o.has(d)||(d&&je(d.install)?(o.add(d),d.install(u,...h)):je(d)&&(o.add(d),d(u,...h))),u},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),u},component(d,h){return h?(s.components[d]=h,u):s.components[d]},directive(d,h){return h?(s.directives[d]=h,u):s.directives[d]},mount(d,h,p){if(!l){const g=u._ceVNode||ge(i,r);return g.appContext=s,p===!0?p="svg":p===!1&&(p=void 0),t(g,d,p),l=!0,u._container=d,d.__vue_app__=u,xf(g.component)}},onUnmount(d){a.push(d)},unmount(){l&&(Wi(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(d,h){return s.provides[d]=h,u},runWithContext(d){const h=lo;lo=u;try{return d()}finally{lo=h}}};return u}}let lo=null;function hd(t,e){if(Zt){let n=Zt.provides;const i=Zt.parent&&Zt.parent.provides;i===n&&(n=Zt.provides=Object.create(i)),n[t]=e}}function Lt(t,e,n=!1){const i=Zt||Xt;if(i||lo){let r=lo?lo._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&je(e)?e.call(i&&i.proxy):e}}function MD(){return!!(Zt||Xt||lo)}const g1={},v1=()=>Object.create(g1),b1=t=>Object.getPrototypeOf(t)===g1;function _D(t,e,n,i=!1){const r={},s=v1();t.propsDefaults=Object.create(null),y1(t,e,r,s);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=i?r:Ux(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function AD(t,e,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=t,a=ot(r),[l]=t.propsOptions;let u=!1;if((i||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let h=0;h<d.length;h++){let p=d[h];if(yf(t.emitsOptions,p))continue;const g=e[p];if(l)if(ht(s,p))g!==s[p]&&(s[p]=g,u=!0);else{const m=hi(p);r[m]=Sm(l,a,m,g,t,!1)}else g!==s[p]&&(s[p]=g,u=!0)}}}else{y1(t,e,r,s)&&(u=!0);let d;for(const h in a)(!e||!ht(e,h)&&((d=Xr(h))===h||!ht(e,d)))&&(l?n&&(n[h]!==void 0||n[d]!==void 0)&&(r[h]=Sm(l,a,h,void 0,t,!0)):delete r[h]);if(s!==a)for(const h in s)(!e||!ht(e,h))&&(delete s[h],u=!0)}u&&Lr(t.attrs,"set","")}function y1(t,e,n,i){const[r,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Xl(l))continue;const u=e[l];let d;r&&ht(r,d=hi(l))?!s||!s.includes(d)?n[d]=u:(a||(a={}))[d]=u:yf(t.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,o=!0)}if(s){const l=ot(n),u=a||ct;for(let d=0;d<s.length;d++){const h=s[d];n[h]=Sm(r,l,h,u[h],t,!ht(u,h))}}return o}function Sm(t,e,n,i,r,s){const o=t[n];if(o!=null){const a=ht(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&je(l)){const{propsDefaults:u}=r;if(n in u)i=u[n];else{const d=Dc(r);i=u[n]=l.call(null,e),d()}}else i=l;r.ce&&r.ce._setProp(n,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===Xr(n))&&(i=!0))}return i}const kD=new WeakMap;function w1(t,e,n=!1){const i=n?kD:e.propsCache,r=i.get(t);if(r)return r;const s=t.props,o={},a=[];let l=!1;if(!je(t)){const d=h=>{l=!0;const[p,g]=w1(h,e,!0);jt(o,p),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!s&&!l)return yt(t)&&i.set(t,ha),ha;if(Re(s))for(let d=0;d<s.length;d++){const h=hi(s[d]);ww(h)&&(o[h]=ct)}else if(s)for(const d in s){const h=hi(d);if(ww(h)){const p=s[d],g=o[h]=Re(p)||je(p)?{type:p}:jt({},p),m=g.type;let b=!1,y=!0;if(Re(m))for(let S=0;S<m.length;++S){const x=m[S],E=je(x)&&x.name;if(E==="Boolean"){b=!0;break}else E==="String"&&(y=!1)}else b=je(m)&&m.name==="Boolean";g[0]=b,g[1]=y,(b||ht(g,"default"))&&a.push(h)}}const u=[o,a];return yt(t)&&i.set(t,u),u}function ww(t){return t[0]!=="$"&&!Xl(t)}const Lg=t=>t[0]==="_"||t==="$stable",Dg=t=>Re(t)?t.map(rr):[rr(t)],OD=(t,e,n)=>{if(e._n)return e;const i=xt((...r)=>Dg(e(...r)),n);return i._c=!1,i},S1=(t,e,n)=>{const i=t._ctx;for(const r in t){if(Lg(r))continue;const s=t[r];if(je(s))e[r]=OD(r,s,i);else if(s!=null){const o=Dg(s);e[r]=()=>o}}},x1=(t,e)=>{const n=Dg(e);t.slots.default=()=>n},E1=(t,e,n)=>{for(const i in e)(n||!Lg(i))&&(t[i]=e[i])},RD=(t,e,n)=>{const i=t.slots=v1();if(t.vnode.shapeFlag&32){const r=e._;r?(E1(i,e,n),n&&Cx(i,"_",r,!0)):S1(e,i)}else e&&x1(t,e)},PD=(t,e,n)=>{const{vnode:i,slots:r}=t;let s=!0,o=ct;if(i.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:E1(r,e,n):(s=!e.$stable,S1(e,r)),o=e}else e&&(x1(t,e),o={default:1});if(s)for(const a in r)!Lg(a)&&o[a]==null&&delete r[a]},ri=XD;function ID(t){return LD(t)}function LD(t,e){const n=df();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:d,parentNode:h,nextSibling:p,setScopeId:g=ur,insertStaticContent:m}=t,b=(O,I,H,J=null,ce=null,Q=null,Y=void 0,se=null,te=!!I.dynamicChildren)=>{if(O===I)return;O&&!sa(O,I)&&(J=B(O),tt(O,ce,Q,!0),O=null),I.patchFlag===-2&&(te=!1,I.dynamicChildren=null);const{type:ae,ref:_e,shapeFlag:ye}=I;switch(ae){case wf:y(O,I,H,J);break;case dr:S(O,I,H,J);break;case pd:O==null&&x(I,H,J,Y);break;case Pt:F(O,I,H,J,ce,Q,Y,se,te);break;default:ye&1?A(O,I,H,J,ce,Q,Y,se,te):ye&6?U(O,I,H,J,ce,Q,Y,se,te):(ye&64||ye&128)&&ae.process(O,I,H,J,ce,Q,Y,se,te,xe)}_e!=null&&ce&&Nd(_e,O&&O.ref,Q,I||O,!I)},y=(O,I,H,J)=>{if(O==null)i(I.el=a(I.children),H,J);else{const ce=I.el=O.el;I.children!==O.children&&u(ce,I.children)}},S=(O,I,H,J)=>{O==null?i(I.el=l(I.children||""),H,J):I.el=O.el},x=(O,I,H,J)=>{[O.el,O.anchor]=m(O.children,I,H,J,O.el,O.anchor)},E=({el:O,anchor:I},H,J)=>{let ce;for(;O&&O!==I;)ce=p(O),i(O,H,J),O=ce;i(I,H,J)},M=({el:O,anchor:I})=>{let H;for(;O&&O!==I;)H=p(O),r(O),O=H;r(I)},A=(O,I,H,J,ce,Q,Y,se,te)=>{I.type==="svg"?Y="svg":I.type==="math"&&(Y="mathml"),O==null?z(I,H,J,ce,Q,Y,se,te):k(O,I,ce,Q,Y,se,te)},z=(O,I,H,J,ce,Q,Y,se)=>{let te,ae;const{props:_e,shapeFlag:ye,transition:Ae,dirs:Ie}=O;if(te=O.el=o(O.type,Q,_e&&_e.is,_e),ye&8?d(te,O.children):ye&16&&R(O.children,te,null,J,ce,Sp(O,Q),Y,se),Ie&&Ks(O,null,J,"created"),L(te,O,O.scopeId,Y,J),_e){for(const Ke in _e)Ke!=="value"&&!Xl(Ke)&&s(te,Ke,null,_e[Ke],Q,J);"value"in _e&&s(te,"value",null,_e.value,Q),(ae=_e.onVnodeBeforeMount)&&Qi(ae,J,O)}Ie&&Ks(O,null,J,"beforeMount");const qe=DD(ce,Ae);qe&&Ae.beforeEnter(te),i(te,I,H),((ae=_e&&_e.onVnodeMounted)||qe||Ie)&&ri(()=>{ae&&Qi(ae,J,O),qe&&Ae.enter(te),Ie&&Ks(O,null,J,"mounted")},ce)},L=(O,I,H,J,ce)=>{if(H&&g(O,H),J)for(let Q=0;Q<J.length;Q++)g(O,J[Q]);if(ce){let Q=ce.subTree;if(I===Q||k1(Q.type)&&(Q.ssContent===I||Q.ssFallback===I)){const Y=ce.vnode;L(O,Y,Y.scopeId,Y.slotScopeIds,ce.parent)}}},R=(O,I,H,J,ce,Q,Y,se,te=0)=>{for(let ae=te;ae<O.length;ae++){const _e=O[ae]=se?ms(O[ae]):rr(O[ae]);b(null,_e,I,H,J,ce,Q,Y,se)}},k=(O,I,H,J,ce,Q,Y)=>{const se=I.el=O.el;let{patchFlag:te,dynamicChildren:ae,dirs:_e}=I;te|=O.patchFlag&16;const ye=O.props||ct,Ae=I.props||ct;let Ie;if(H&&Js(H,!1),(Ie=Ae.onVnodeBeforeUpdate)&&Qi(Ie,H,I,O),_e&&Ks(I,O,H,"beforeUpdate"),H&&Js(H,!0),(ye.innerHTML&&Ae.innerHTML==null||ye.textContent&&Ae.textContent==null)&&d(se,""),ae?D(O.dynamicChildren,ae,se,H,J,Sp(I,ce),Q):Y||W(O,I,se,null,H,J,Sp(I,ce),Q,!1),te>0){if(te&16)X(se,ye,Ae,H,ce);else if(te&2&&ye.class!==Ae.class&&s(se,"class",null,Ae.class,ce),te&4&&s(se,"style",ye.style,Ae.style,ce),te&8){const qe=I.dynamicProps;for(let Ke=0;Ke<qe.length;Ke++){const Je=qe[Ke],Mt=ye[Je],qt=Ae[Je];(qt!==Mt||Je==="value")&&s(se,Je,Mt,qt,ce,H)}}te&1&&O.children!==I.children&&d(se,I.children)}else!Y&&ae==null&&X(se,ye,Ae,H,ce);((Ie=Ae.onVnodeUpdated)||_e)&&ri(()=>{Ie&&Qi(Ie,H,I,O),_e&&Ks(I,O,H,"updated")},J)},D=(O,I,H,J,ce,Q,Y)=>{for(let se=0;se<I.length;se++){const te=O[se],ae=I[se],_e=te.el&&(te.type===Pt||!sa(te,ae)||te.shapeFlag&198)?h(te.el):H;b(te,ae,_e,null,J,ce,Q,Y,!0)}},X=(O,I,H,J,ce)=>{if(I!==H){if(I!==ct)for(const Q in I)!Xl(Q)&&!(Q in H)&&s(O,Q,I[Q],null,ce,J);for(const Q in H){if(Xl(Q))continue;const Y=H[Q],se=I[Q];Y!==se&&Q!=="value"&&s(O,Q,se,Y,ce,J)}"value"in H&&s(O,"value",I.value,H.value,ce)}},F=(O,I,H,J,ce,Q,Y,se,te)=>{const ae=I.el=O?O.el:a(""),_e=I.anchor=O?O.anchor:a("");let{patchFlag:ye,dynamicChildren:Ae,slotScopeIds:Ie}=I;Ie&&(se=se?se.concat(Ie):Ie),O==null?(i(ae,H,J),i(_e,H,J),R(I.children||[],H,_e,ce,Q,Y,se,te)):ye>0&&ye&64&&Ae&&O.dynamicChildren?(D(O.dynamicChildren,Ae,H,ce,Q,Y,se),(I.key!=null||ce&&I===ce.subTree)&&C1(O,I,!0)):W(O,I,H,_e,ce,Q,Y,se,te)},U=(O,I,H,J,ce,Q,Y,se,te)=>{I.slotScopeIds=se,O==null?I.shapeFlag&512?ce.ctx.activate(I,H,J,Y,te):q(I,H,J,ce,Q,Y,te):oe(O,I,te)},q=(O,I,H,J,ce,Q,Y)=>{const se=O.component=eN(O,J,ce);if(r1(O)&&(se.ctx.renderer=xe),tN(se,!1,Y),se.asyncDep){if(ce&&ce.registerDep(se,Z,Y),!O.el){const te=se.subTree=ge(dr);S(null,te,I,H)}}else Z(se,O,I,H,ce,Q,Y)},oe=(O,I,H)=>{const J=I.component=O.component;if(UD(O,I,H))if(J.asyncDep&&!J.asyncResolved){$(J,I,H);return}else J.next=I,J.update();else I.el=O.el,J.vnode=I},Z=(O,I,H,J,ce,Q,Y)=>{const se=()=>{if(O.isMounted){let{next:ye,bu:Ae,u:Ie,parent:qe,vnode:Ke}=O;{const $n=T1(O);if($n){ye&&(ye.el=Ke.el,$(O,ye,Y)),$n.asyncDep.then(()=>{O.isUnmounted||se()});return}}let Je=ye,Mt;Js(O,!1),ye?(ye.el=Ke.el,$(O,ye,Y)):ye=Ke,Ae&&fd(Ae),(Mt=ye.props&&ye.props.onVnodeBeforeUpdate)&&Qi(Mt,qe,ye,Ke),Js(O,!0);const qt=xw(O),zn=O.subTree;O.subTree=qt,b(zn,qt,h(zn.el),B(zn),O,ce,Q),ye.el=qt.el,Je===null&&YD(O,qt.el),Ie&&ri(Ie,ce),(Mt=ye.props&&ye.props.onVnodeUpdated)&&ri(()=>Qi(Mt,qe,ye,Ke),ce)}else{let ye;const{el:Ae,props:Ie}=I,{bm:qe,m:Ke,parent:Je,root:Mt,type:qt}=O,zn=ga(I);Js(O,!1),qe&&fd(qe),!zn&&(ye=Ie&&Ie.onVnodeBeforeMount)&&Qi(ye,Je,I),Js(O,!0);{Mt.ce&&Mt.ce._injectChildStyle(qt);const $n=O.subTree=xw(O);b(null,$n,H,J,O,ce,Q),I.el=$n.el}if(Ke&&ri(Ke,ce),!zn&&(ye=Ie&&Ie.onVnodeMounted)){const $n=I;ri(()=>Qi(ye,Je,$n),ce)}(I.shapeFlag&256||Je&&ga(Je.vnode)&&Je.vnode.shapeFlag&256)&&O.a&&ri(O.a,ce),O.isMounted=!0,I=H=J=null}};O.scope.on();const te=O.effect=new Rx(se);O.scope.off();const ae=O.update=te.run.bind(te),_e=O.job=te.runIfDirty.bind(te);_e.i=O,_e.id=O.uid,te.scheduler=()=>Ig(_e),Js(O,!0),ae()},$=(O,I,H)=>{I.component=O;const J=O.vnode.props;O.vnode=I,O.next=null,AD(O,I.props,J,H),PD(O,I.children,H),Wr(),mw(O),Vr()},W=(O,I,H,J,ce,Q,Y,se,te=!1)=>{const ae=O&&O.children,_e=O?O.shapeFlag:0,ye=I.children,{patchFlag:Ae,shapeFlag:Ie}=I;if(Ae>0){if(Ae&128){Te(ae,ye,H,J,ce,Q,Y,se,te);return}else if(Ae&256){re(ae,ye,H,J,ce,Q,Y,se,te);return}}Ie&8?(_e&16&&ie(ae,ce,Q),ye!==ae&&d(H,ye)):_e&16?Ie&16?Te(ae,ye,H,J,ce,Q,Y,se,te):ie(ae,ce,Q,!0):(_e&8&&d(H,""),Ie&16&&R(ye,H,J,ce,Q,Y,se,te))},re=(O,I,H,J,ce,Q,Y,se,te)=>{O=O||ha,I=I||ha;const ae=O.length,_e=I.length,ye=Math.min(ae,_e);let Ae;for(Ae=0;Ae<ye;Ae++){const Ie=I[Ae]=te?ms(I[Ae]):rr(I[Ae]);b(O[Ae],Ie,H,null,ce,Q,Y,se,te)}ae>_e?ie(O,ce,Q,!0,!1,ye):R(I,H,J,ce,Q,Y,se,te,ye)},Te=(O,I,H,J,ce,Q,Y,se,te)=>{let ae=0;const _e=I.length;let ye=O.length-1,Ae=_e-1;for(;ae<=ye&&ae<=Ae;){const Ie=O[ae],qe=I[ae]=te?ms(I[ae]):rr(I[ae]);if(sa(Ie,qe))b(Ie,qe,H,null,ce,Q,Y,se,te);else break;ae++}for(;ae<=ye&&ae<=Ae;){const Ie=O[ye],qe=I[Ae]=te?ms(I[Ae]):rr(I[Ae]);if(sa(Ie,qe))b(Ie,qe,H,null,ce,Q,Y,se,te);else break;ye--,Ae--}if(ae>ye){if(ae<=Ae){const Ie=Ae+1,qe=Ie<_e?I[Ie].el:J;for(;ae<=Ae;)b(null,I[ae]=te?ms(I[ae]):rr(I[ae]),H,qe,ce,Q,Y,se,te),ae++}}else if(ae>Ae)for(;ae<=ye;)tt(O[ae],ce,Q,!0),ae++;else{const Ie=ae,qe=ae,Ke=new Map;for(ae=qe;ae<=Ae;ae++){const on=I[ae]=te?ms(I[ae]):rr(I[ae]);on.key!=null&&Ke.set(on.key,ae)}let Je,Mt=0;const qt=Ae-qe+1;let zn=!1,$n=0;const br=new Array(qt);for(ae=0;ae<qt;ae++)br[ae]=0;for(ae=Ie;ae<=ye;ae++){const on=O[ae];if(Mt>=qt){tt(on,ce,Q,!0);continue}let Bn;if(on.key!=null)Bn=Ke.get(on.key);else for(Je=qe;Je<=Ae;Je++)if(br[Je-qe]===0&&sa(on,I[Je])){Bn=Je;break}Bn===void 0?tt(on,ce,Q,!0):(br[Bn-qe]=ae+1,Bn>=$n?$n=Bn:zn=!0,b(on,I[Bn],H,null,ce,Q,Y,se,te),Mt++)}const Po=zn?ND(br):ha;for(Je=Po.length-1,ae=qt-1;ae>=0;ae--){const on=qe+ae,Bn=I[on],Io=on+1<_e?I[on+1].el:J;br[ae]===0?b(null,Bn,H,Io,ce,Q,Y,se,te):zn&&(Je<0||ae!==Po[Je]?Be(Bn,H,Io,2):Je--)}}},Be=(O,I,H,J,ce=null)=>{const{el:Q,type:Y,transition:se,children:te,shapeFlag:ae}=O;if(ae&6){Be(O.component.subTree,I,H,J);return}if(ae&128){O.suspense.move(I,H,J);return}if(ae&64){Y.move(O,I,H,xe);return}if(Y===Pt){i(Q,I,H);for(let ye=0;ye<te.length;ye++)Be(te[ye],I,H,J);i(O.anchor,I,H);return}if(Y===pd){E(O,I,H);return}if(J!==2&&ae&1&&se)if(J===0)se.beforeEnter(Q),i(Q,I,H),ri(()=>se.enter(Q),ce);else{const{leave:ye,delayLeave:Ae,afterLeave:Ie}=se,qe=()=>{O.ctx.isUnmounted?r(Q):i(Q,I,H)},Ke=()=>{ye(Q,()=>{qe(),Ie&&Ie()})};Ae?Ae(Q,qe,Ke):Ke()}else i(Q,I,H)},tt=(O,I,H,J=!1,ce=!1)=>{const{type:Q,props:Y,ref:se,children:te,dynamicChildren:ae,shapeFlag:_e,patchFlag:ye,dirs:Ae,cacheIndex:Ie}=O;if(ye===-2&&(ce=!1),se!=null&&(Wr(),Nd(se,null,H,O,!0),Vr()),Ie!=null&&(I.renderCache[Ie]=void 0),_e&256){I.ctx.deactivate(O);return}const qe=_e&1&&Ae,Ke=!ga(O);let Je;if(Ke&&(Je=Y&&Y.onVnodeBeforeUnmount)&&Qi(Je,I,O),_e&6)fe(O.component,H,J);else{if(_e&128){O.suspense.unmount(H,J);return}qe&&Ks(O,null,I,"beforeUnmount"),_e&64?O.type.remove(O,I,H,xe,J):ae&&!ae.hasOnce&&(Q!==Pt||ye>0&&ye&64)?ie(ae,I,H,!1,!0):(Q===Pt&&ye&384||!ce&&_e&16)&&ie(te,I,H),J&&Nt(O)}(Ke&&(Je=Y&&Y.onVnodeUnmounted)||qe)&&ri(()=>{Je&&Qi(Je,I,O),qe&&Ks(O,null,I,"unmounted")},H)},Nt=O=>{const{type:I,el:H,anchor:J,transition:ce}=O;if(I===Pt){yn(H,J);return}if(I===pd){M(O);return}const Q=()=>{r(H),ce&&!ce.persisted&&ce.afterLeave&&ce.afterLeave()};if(O.shapeFlag&1&&ce&&!ce.persisted){const{leave:Y,delayLeave:se}=ce,te=()=>Y(H,Q);se?se(O.el,Q,te):te()}else Q()},yn=(O,I)=>{let H;for(;O!==I;)H=p(O),r(O),O=H;r(I)},fe=(O,I,H)=>{const{bum:J,scope:ce,job:Q,subTree:Y,um:se,m:te,a:ae,parent:_e,slots:{__:ye}}=O;Sw(te),Sw(ae),J&&fd(J),_e&&Re(ye)&&ye.forEach(Ae=>{_e.renderCache[Ae]=void 0}),ce.stop(),Q&&(Q.flags|=8,tt(Y,O,I,H)),se&&ri(se,I),ri(()=>{O.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},ie=(O,I,H,J=!1,ce=!1,Q=0)=>{for(let Y=Q;Y<O.length;Y++)tt(O[Y],I,H,J,ce)},B=O=>{if(O.shapeFlag&6)return B(O.component.subTree);if(O.shapeFlag&128)return O.suspense.next();const I=p(O.anchor||O.el),H=I&&I[aD];return H?p(H):I};let de=!1;const ve=(O,I,H)=>{O==null?I._vnode&&tt(I._vnode,null,null,!0):b(I._vnode||null,O,I,null,null,null,H),I._vnode=O,de||(de=!0,mw(),Qx(),de=!1)},xe={p:b,um:tt,m:Be,r:Nt,mt:q,mc:R,pc:W,pbc:D,n:B,o:t};return{render:ve,hydrate:void 0,createApp:TD(ve)}}function Sp({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Js({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function DD(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function C1(t,e,n=!1){const i=t.children,r=e.children;if(Re(i)&&Re(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=ms(r[s]),a.el=o.el),!n&&a.patchFlag!==-2&&C1(o,a)),a.type===wf&&(a.el=o.el),a.type===dr&&!a.el&&(a.el=o.el)}}function ND(t){const e=t.slice(),n=[0];let i,r,s,o,a;const l=t.length;for(i=0;i<l;i++){const u=t[i];if(u!==0){if(r=n[n.length-1],t[r]<u){e[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function T1(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:T1(e)}function Sw(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const zD=Symbol.for("v-scx"),$D=()=>Lt(zD);function BD(t,e){return bf(t,null,e)}function FD(t,e){return bf(t,null,{flush:"sync"})}function gn(t,e,n){return bf(t,e,n)}function bf(t,e,n=ct){const{immediate:i,deep:r,flush:s,once:o}=n,a=jt({},n),l=e&&i||!e&&s!=="post";let u;if(pc){if(s==="sync"){const g=$D();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=ur,g.resume=ur,g.pause=ur,g}}const d=Zt;a.call=(g,m,b)=>Wi(g,d,m,b);let h=!1;s==="post"?a.scheduler=g=>{ri(g,d&&d.suspense)}:s!=="sync"&&(h=!0,a.scheduler=(g,m)=>{m?g():Ig(g)}),a.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,d&&(g.id=d.uid,g.i=d))};const p=iD(t,e,a);return pc&&(u?u.push(p):l&&p()),p}function HD(t,e,n){const i=this.proxy,r=Dt(t)?t.includes(".")?M1(i,t):()=>i[t]:t.bind(i,i);let s;je(e)?s=e:(s=e.handler,n=e);const o=Dc(this),a=bf(r,s.bind(i),n);return o(),a}function M1(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function Vi(t,e,n=ct){const i=Sf(),r=hi(e),s=Xr(e),o=_1(t,r),a=Kx((l,u)=>{let d,h=ct,p;return FD(()=>{const g=t[r];jn(d,g)&&(d=g,u())}),{get(){return l(),n.get?n.get(d):d},set(g){const m=n.set?n.set(g):g;if(!jn(m,d)&&!(h!==ct&&jn(g,h)))return;const b=i.vnode.props;b&&(e in b||r in b||s in b)&&(`onUpdate:${e}`in b||`onUpdate:${r}`in b||`onUpdate:${s}`in b)||(d=g,u()),i.emit(`update:${e}`,m),jn(g,m)&&jn(g,h)&&!jn(m,p)&&u(),h=g,p=m}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||ct:a,done:!1}:{done:!0}}}},a}const _1=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${hi(e)}Modifiers`]||t[`${Xr(e)}Modifiers`];function WD(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||ct;let r=n;const s=e.startsWith("update:"),o=s&&_1(i,e.slice(7));o&&(o.trim&&(r=n.map(d=>Dt(d)?d.trim():d)),o.number&&(r=n.map(Od)));let a,l=i[a=mp(e)]||i[a=mp(hi(e))];!l&&s&&(l=i[a=mp(Xr(e))]),l&&Wi(l,t,6,r);const u=i[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Wi(u,t,6,r)}}function A1(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const s=t.emits;let o={},a=!1;if(!je(t)){const l=u=>{const d=A1(u,e,!0);d&&(a=!0,jt(o,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(yt(t)&&i.set(t,null),null):(Re(s)?s.forEach(l=>o[l]=null):jt(o,s),yt(t)&&i.set(t,o),o)}function yf(t,e){return!t||!lf(e)?!1:(e=e.slice(2).replace(/Once$/,""),ht(t,e[0].toLowerCase()+e.slice(1))||ht(t,Xr(e))||ht(t,e))}function xw(t){const{type:e,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:d,props:h,data:p,setupState:g,ctx:m,inheritAttrs:b}=t,y=Dd(t);let S,x;try{if(n.shapeFlag&4){const M=r||i,A=M;S=rr(u.call(A,M,d,h,g,p,m)),x=a}else{const M=e;S=rr(M.length>1?M(h,{attrs:a,slots:o,emit:l}):M(h,null)),x=e.props?a:VD(a)}}catch(M){Jl.length=0,mf(M,t,1),S=ge(dr)}let E=S;if(x&&b!==!1){const M=Object.keys(x),{shapeFlag:A}=E;M.length&&A&7&&(s&&M.some(Eg)&&(x=jD(x,s)),E=yo(E,x,!1,!0))}return n.dirs&&(E=yo(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&uc(E,n.transition),S=E,Dd(y),S}const VD=t=>{let e;for(const n in t)(n==="class"||n==="style"||lf(n))&&((e||(e={}))[n]=t[n]);return e},jD=(t,e)=>{const n={};for(const i in t)(!Eg(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function UD(t,e,n){const{props:i,children:r,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?Ew(i,o,u):!!o;if(l&8){const d=e.dynamicProps;for(let h=0;h<d.length;h++){const p=d[h];if(o[p]!==i[p]&&!yf(u,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Ew(i,o,u):!0:!!o;return!1}function Ew(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==t[s]&&!yf(n,s))return!0}return!1}function YD({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const k1=t=>t.__isSuspense;function XD(t,e){e&&e.pendingBranch?Re(t)?e.effects.push(...t):e.effects.push(t):oD(t)}const Pt=Symbol.for("v-fgt"),wf=Symbol.for("v-txt"),dr=Symbol.for("v-cmt"),pd=Symbol.for("v-stc"),Jl=[];let li=null;function ee(t=!1){Jl.push(li=t?null:[])}function qD(){Jl.pop(),li=Jl[Jl.length-1]||null}let fc=1;function Cw(t,e=!1){fc+=t,t<0&&li&&e&&(li.hasOnce=!0)}function O1(t){return t.dynamicChildren=fc>0?li||ha:null,qD(),fc>0&&li&&li.push(t),t}function Ee(t,e,n,i,r,s){return O1(he(t,e,n,i,r,s,!0))}function Pe(t,e,n,i,r){return O1(ge(t,e,n,i,r,!0))}function hc(t){return t?t.__v_isVNode===!0:!1}function sa(t,e){return t.type===e.type&&t.key===e.key}const R1=({key:t})=>t??null,md=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Dt(t)||Bt(t)||je(t)?{i:Xt,r:t,k:e,f:!!n}:t:null);function he(t,e=null,n=null,i=0,r=null,s=t===Pt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&R1(e),ref:e&&md(e),scopeId:t1,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Xt};return a?(Ng(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Dt(n)?8:16),fc>0&&!o&&li&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&li.push(l),l}const ge=GD;function GD(t,e=null,n=null,i=0,r=null,s=!1){if((!t||t===u1)&&(t=dr),hc(t)){const a=yo(t,e,!0);return n&&Ng(a,n),fc>0&&!s&&li&&(a.shapeFlag&6?li[li.indexOf(t)]=a:li.push(a)),a.patchFlag=-2,a}if(oN(t)&&(t=t.__vccOpts),e){e=KD(e);let{class:a,style:l}=e;a&&!Dt(a)&&(e.class=mt(a)),yt(l)&&(Pg(l)&&!Re(l)&&(l=jt({},l)),e.style=Ao(l))}const o=Dt(t)?1:k1(t)?128:lD(t)?64:yt(t)?4:je(t)?2:0;return he(t,e,n,i,r,o,s,!0)}function KD(t){return t?Pg(t)||b1(t)?jt({},t):t:null}function yo(t,e,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?zg(r||{},e):r,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&R1(u),ref:e&&e.ref?n&&s?Re(s)?s.concat(md(e)):[s,md(e)]:md(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Pt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&yo(t.ssContent),ssFallback:t.ssFallback&&yo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&uc(d,l.clone(d)),d}function wo(t=" ",e=0){return ge(wf,null,t,e)}function JD(t,e){const n=ge(pd,null,t);return n.staticCount=e,n}function It(t="",e=!1){return e?(ee(),Pe(dr,null,t)):ge(dr,null,t)}function rr(t){return t==null||typeof t=="boolean"?ge(dr):Re(t)?ge(Pt,null,t.slice()):hc(t)?ms(t):ge(wf,null,String(t))}function ms(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:yo(t)}function Ng(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Re(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),Ng(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!b1(e)?e._ctx=Xt:r===3&&Xt&&(Xt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else je(e)?(e={default:e,_ctx:Xt},n=32):(e=String(e),i&64?(n=16,e=[wo(e)]):n=8);t.children=e,t.shapeFlag|=n}function zg(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=mt([e.class,i.class]));else if(r==="style")e.style=Ao([e.style,i.style]);else if(lf(r)){const s=e[r],o=i[r];o&&s!==o&&!(Re(s)&&s.includes(o))&&(e[r]=s?[].concat(s,o):o)}else r!==""&&(e[r]=i[r])}return e}function Qi(t,e,n,i=null){Wi(t,e,7,[n,i])}const ZD=m1();let QD=0;function eN(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||ZD,s={uid:QD++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ax(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:w1(i,r),emitsOptions:A1(i,r),emit:null,emitted:null,propsDefaults:ct,inheritAttrs:i.inheritAttrs,ctx:ct,data:ct,props:ct,attrs:ct,slots:ct,refs:ct,setupState:ct,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=WD.bind(null,s),t.ce&&t.ce(s),s}let Zt=null;const Sf=()=>Zt||Xt;let Bd,xm;{const t=df(),e=(n,i)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};Bd=e("__VUE_INSTANCE_SETTERS__",n=>Zt=n),xm=e("__VUE_SSR_SETTERS__",n=>pc=n)}const Dc=t=>{const e=Zt;return Bd(t),t.scope.on(),()=>{t.scope.off(),Bd(e)}},Tw=()=>{Zt&&Zt.scope.off(),Bd(null)};function P1(t){return t.vnode.shapeFlag&4}let pc=!1;function tN(t,e=!1,n=!1){e&&xm(e);const{props:i,children:r}=t.vnode,s=P1(t);_D(t,i,s,e),RD(t,r,n||e);const o=s?nN(t,e):void 0;return e&&xm(!1),o}function nN(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,bD);const{setup:i}=n;if(i){Wr();const r=t.setupContext=i.length>1?rN(t):null,s=Dc(t),o=Ic(i,t,0,[t.props,r]),a=Sx(o);if(Vr(),s(),(a||t.sp)&&!ga(t)&&i1(t),a){if(o.then(Tw,Tw),e)return o.then(l=>{Mw(t,l)}).catch(l=>{mf(l,t,0)});t.asyncDep=o}else Mw(t,o)}else I1(t)}function Mw(t,e,n){je(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:yt(e)&&(t.setupState=Gx(e)),I1(t)}function I1(t,e,n){const i=t.type;t.render||(t.render=i.render||ur);{const r=Dc(t);Wr();try{yD(t)}finally{Vr(),r()}}}const iN={get(t,e){return Cn(t,"get",""),t[e]}};function rN(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,iN),slots:t.slots,emit:t.emit,expose:e}}function xf(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Gx(pf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Kl)return Kl[n](t)},has(e,n){return n in e||n in Kl}})):t.proxy}function sN(t,e=!0){return je(t)?t.displayName||t.name:t.name||e&&t.__name}function oN(t){return je(t)&&"__vccOpts"in t}const be=(t,e)=>tD(t,e,pc);function $g(t,e,n){const i=arguments.length;return i===2?yt(e)&&!Re(e)?hc(e)?ge(t,null,[e]):ge(t,e):ge(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&hc(n)&&(n=[n]),ge(t,e,n))}const aN="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Em;const _w=typeof window<"u"&&window.trustedTypes;if(_w)try{Em=_w.createPolicy("vue",{createHTML:t=>t})}catch{}const L1=Em?t=>Em.createHTML(t):t=>t,lN="http://www.w3.org/2000/svg",cN="http://www.w3.org/1998/Math/MathML",Pr=typeof document<"u"?document:null,Aw=Pr&&Pr.createElement("template"),uN={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e==="svg"?Pr.createElementNS(lN,t):e==="mathml"?Pr.createElementNS(cN,t):n?Pr.createElement(t,{is:n}):Pr.createElement(t);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>Pr.createTextNode(t),createComment:t=>Pr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Pr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,s){const o=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{Aw.innerHTML=L1(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=Aw.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ss="transition",al="animation",ya=Symbol("_vtc"),D1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},dN=jt({},uD,D1),Zs=(t,e=[])=>{Re(t)?t.forEach(n=>n(...e)):t&&t(...e)},kw=t=>t?Re(t)?t.some(e=>e.length>1):t.length>1:!1;function fN(t){const e={};for(const F in t)F in D1||(e[F]=t[F]);if(t.css===!1)return e;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:d=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,m=hN(r),b=m&&m[0],y=m&&m[1],{onBeforeEnter:S,onEnter:x,onEnterCancelled:E,onLeave:M,onLeaveCancelled:A,onBeforeAppear:z=S,onAppear:L=x,onAppearCancelled:R=E}=e,k=(F,U,q,oe)=>{F._enterCancelled=oe,us(F,U?d:a),us(F,U?u:o),q&&q()},D=(F,U)=>{F._isLeaving=!1,us(F,h),us(F,g),us(F,p),U&&U()},X=F=>(U,q)=>{const oe=F?L:x,Z=()=>k(U,F,q);Zs(oe,[U,Z]),Ow(()=>{us(U,F?l:s),tr(U,F?d:a),kw(oe)||Rw(U,i,b,Z)})};return jt(e,{onBeforeEnter(F){Zs(S,[F]),tr(F,s),tr(F,o)},onBeforeAppear(F){Zs(z,[F]),tr(F,l),tr(F,u)},onEnter:X(!1),onAppear:X(!0),onLeave(F,U){F._isLeaving=!0;const q=()=>D(F,U);tr(F,h),F._enterCancelled?(tr(F,p),Cm()):(Cm(),tr(F,p)),Ow(()=>{F._isLeaving&&(us(F,h),tr(F,g),kw(M)||Rw(F,i,y,q))}),Zs(M,[F,q])},onEnterCancelled(F){k(F,!1,void 0,!0),Zs(E,[F])},onAppearCancelled(F){k(F,!0,void 0,!0),Zs(R,[F])},onLeaveCancelled(F){D(F),Zs(A,[F])}})}function hN(t){if(t==null)return null;if(yt(t))return[xp(t.enter),xp(t.leave)];{const e=xp(t);return[e,e]}}function xp(t){return wL(t)}function tr(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[ya]||(t[ya]=new Set)).add(e)}function us(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[ya];n&&(n.delete(e),n.size||(t[ya]=void 0))}function Ow(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let pN=0;function Rw(t,e,n,i){const r=t._endId=++pN,s=()=>{r===t._endId&&i()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=N1(t,e);if(!o)return i();const u=o+"end";let d=0;const h=()=>{t.removeEventListener(u,p),s()},p=g=>{g.target===t&&++d>=l&&h()};setTimeout(()=>{d<l&&h()},a+1),t.addEventListener(u,p)}function N1(t,e){const n=window.getComputedStyle(t),i=m=>(n[m]||"").split(", "),r=i(`${ss}Delay`),s=i(`${ss}Duration`),o=Pw(r,s),a=i(`${al}Delay`),l=i(`${al}Duration`),u=Pw(a,l);let d=null,h=0,p=0;e===ss?o>0&&(d=ss,h=o,p=s.length):e===al?u>0&&(d=al,h=u,p=l.length):(h=Math.max(o,u),d=h>0?o>u?ss:al:null,p=d?d===ss?s.length:l.length:0);const g=d===ss&&/\b(transform|all)(,|$)/.test(i(`${ss}Property`).toString());return{type:d,timeout:h,propCount:p,hasTransform:g}}function Pw(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>Iw(n)+Iw(t[i])))}function Iw(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Cm(){return document.body.offsetHeight}function mN(t,e,n){const i=t[ya];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Fd=Symbol("_vod"),z1=Symbol("_vsh"),mc={beforeMount(t,{value:e},{transition:n}){t[Fd]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):ll(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),ll(t,!0),i.enter(t)):i.leave(t,()=>{ll(t,!1)}):ll(t,e))},beforeUnmount(t,{value:e}){ll(t,e)}};function ll(t,e){t.style.display=e?t[Fd]:"none",t[z1]=!e}const gN=Symbol(""),vN=/(^|;)\s*display\s*:/;function bN(t,e,n){const i=t.style,r=Dt(n);let s=!1;if(n&&!r){if(e)if(Dt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&gd(i,a,"")}else for(const o in e)n[o]==null&&gd(i,o,"");for(const o in n)o==="display"&&(s=!0),gd(i,o,n[o])}else if(r){if(e!==n){const o=i[gN];o&&(n+=";"+o),i.cssText=n,s=vN.test(n)}}else e&&t.removeAttribute("style");Fd in t&&(t[Fd]=s?i.display:"",t[z1]&&(i.display="none"))}const Lw=/\s*!important$/;function gd(t,e,n){if(Re(n))n.forEach(i=>gd(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=yN(t,e);Lw.test(n)?t.setProperty(Xr(i),n.replace(Lw,""),"important"):t[i]=n}}const Dw=["Webkit","Moz","ms"],Ep={};function yN(t,e){const n=Ep[e];if(n)return n;let i=hi(e);if(i!=="filter"&&i in t)return Ep[e]=i;i=uf(i);for(let r=0;r<Dw.length;r++){const s=Dw[r]+i;if(s in t)return Ep[e]=s}return e}const Nw="http://www.w3.org/1999/xlink";function zw(t,e,n,i,r,s=ML(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Nw,e.slice(6,e.length)):t.setAttributeNS(Nw,e,n):n==null||s&&!Tx(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Hi(n)?String(n):n)}function $w(t,e,n,i,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?L1(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Tx(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function Nr(t,e,n,i){t.addEventListener(e,n,i)}function wN(t,e,n,i){t.removeEventListener(e,n,i)}const Bw=Symbol("_vei");function SN(t,e,n,i,r=null){const s=t[Bw]||(t[Bw]={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=xN(e);if(i){const u=s[e]=TN(i,r);Nr(t,a,u,l)}else o&&(wN(t,a,o,l),s[e]=void 0)}}const Fw=/(?:Once|Passive|Capture)$/;function xN(t){let e;if(Fw.test(t)){e={};let i;for(;i=t.match(Fw);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Xr(t.slice(2)),e]}let Cp=0;const EN=Promise.resolve(),CN=()=>Cp||(EN.then(()=>Cp=0),Cp=Date.now());function TN(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Wi(MN(i,n.value),e,5,[i])};return n.value=t,n.attached=CN(),n}function MN(t,e){if(Re(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const Hw=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,_N=(t,e,n,i,r,s)=>{const o=r==="svg";e==="class"?mN(t,i,o):e==="style"?bN(t,n,i):lf(e)?Eg(e)||SN(t,e,n,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):AN(t,e,i,o))?($w(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&zw(t,e,i,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Dt(i))?$w(t,hi(e),i,s,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),zw(t,e,i,o))};function AN(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&Hw(e)&&je(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Hw(e)&&Dt(n)?!1:e in t}const $1=new WeakMap,B1=new WeakMap,Hd=Symbol("_moveCb"),Ww=Symbol("_enterCb"),kN=t=>(delete t.props.mode,t),ON=kN({name:"TransitionGroup",props:jt({},dN,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Sf(),i=cD();let r,s;return l1(()=>{if(!r.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!DN(r[0].el,n.vnode.el,o)){r=[];return}r.forEach(PN),r.forEach(IN);const a=r.filter(LN);Cm(),a.forEach(l=>{const u=l.el,d=u.style;tr(u,o),d.transform=d.webkitTransform=d.transitionDuration="";const h=u[Hd]=p=>{p&&p.target!==u||(!p||/transform$/.test(p.propertyName))&&(u.removeEventListener("transitionend",h),u[Hd]=null,us(u,o))};u.addEventListener("transitionend",h)}),r=[]}),()=>{const o=ot(t),a=fN(o);let l=o.tag||Pt;if(r=[],s)for(let u=0;u<s.length;u++){const d=s[u];d.el&&d.el instanceof Element&&(r.push(d),uc(d,vm(d,a,i,n)),$1.set(d,d.el.getBoundingClientRect()))}s=e.default?n1(e.default()):[];for(let u=0;u<s.length;u++){const d=s[u];d.key!=null&&uc(d,vm(d,a,i,n))}return ge(l,null,s)}}}),RN=ON;function PN(t){const e=t.el;e[Hd]&&e[Hd](),e[Ww]&&e[Ww]()}function IN(t){B1.set(t,t.el.getBoundingClientRect())}function LN(t){const e=$1.get(t),n=B1.get(t),i=e.left-n.left,r=e.top-n.top;if(i||r){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${r}px)`,s.transitionDuration="0s",t}}function DN(t,e,n){const i=t.cloneNode(),r=t[ya];r&&r.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(i);const{hasTransform:o}=N1(i);return s.removeChild(i),o}const Ls=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Re(e)?n=>fd(e,n):e};function NN(t){t.target.composing=!0}function Vw(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ki=Symbol("_assign"),Tm={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t[ki]=Ls(r);const s=i||r.props&&r.props.type==="number";Nr(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Od(a)),t[ki](a)}),n&&Nr(t,"change",()=>{t.value=t.value.trim()}),e||(Nr(t,"compositionstart",NN),Nr(t,"compositionend",Vw),Nr(t,"change",Vw))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:r,number:s}},o){if(t[ki]=Ls(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?Od(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||r&&t.value.trim()===l)||(t.value=l))}},zN={deep:!0,created(t,e,n){t[ki]=Ls(n),Nr(t,"change",()=>{const i=t._modelValue,r=wa(t),s=t.checked,o=t[ki];if(Re(i)){const a=Mg(i,r),l=a!==-1;if(s&&!l)o(i.concat(r));else if(!s&&l){const u=[...i];u.splice(a,1),o(u)}}else if(Da(i)){const a=new Set(i);s?a.add(r):a.delete(r),o(a)}else o(F1(t,s))})},mounted:jw,beforeUpdate(t,e,n){t[ki]=Ls(n),jw(t,e,n)}};function jw(t,{value:e,oldValue:n},i){t._modelValue=e;let r;if(Re(e))r=Mg(e,i.props.value)>-1;else if(Da(e))r=e.has(i.props.value);else{if(e===n)return;r=vo(e,F1(t,!0))}t.checked!==r&&(t.checked=r)}const $N={created(t,{value:e},n){t.checked=vo(e,n.props.value),t[ki]=Ls(n),Nr(t,"change",()=>{t[ki](wa(t))})},beforeUpdate(t,{value:e,oldValue:n},i){t[ki]=Ls(i),e!==n&&(t.checked=vo(e,i.props.value))}},BN={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const r=Da(e);Nr(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Od(wa(o)):wa(o));t[ki](t.multiple?r?new Set(s):s:s[0]),t._assigning=!0,jr(()=>{t._assigning=!1})}),t[ki]=Ls(i)},mounted(t,{value:e}){Uw(t,e)},beforeUpdate(t,e,n){t[ki]=Ls(n)},updated(t,{value:e}){t._assigning||Uw(t,e)}};function Uw(t,e){const n=t.multiple,i=Re(e);if(!(n&&!i&&!Da(e))){for(let r=0,s=t.options.length;r<s;r++){const o=t.options[r],a=wa(o);if(n)if(i){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=Mg(e,a)>-1}else o.selected=e.has(a);else if(vo(wa(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function wa(t){return"_value"in t?t._value:t.value}function F1(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const FN={created(t,e,n){Vu(t,e,n,null,"created")},mounted(t,e,n){Vu(t,e,n,null,"mounted")},beforeUpdate(t,e,n,i){Vu(t,e,n,i,"beforeUpdate")},updated(t,e,n,i){Vu(t,e,n,i,"updated")}};function HN(t,e){switch(t){case"SELECT":return BN;case"TEXTAREA":return Tm;default:switch(e){case"checkbox":return zN;case"radio":return $N;default:return Tm}}}function Vu(t,e,n,i,r){const o=HN(t.tagName,n.props&&n.props.type)[r];o&&o(t,e,n,i)}const WN=["ctrl","shift","alt","meta"],VN={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>WN.some(n=>t[`${n}Key`]&&!e.includes(n))},Bg=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(r,...s)=>{for(let o=0;o<e.length;o++){const a=VN[e[o]];if(a&&a(r,e))return}return t(r,...s)})},jN={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},UN=(t,e)=>{const n=t._withKeys||(t._withKeys={}),i=e.join(".");return n[i]||(n[i]=r=>{if(!("key"in r))return;const s=Xr(r.key);if(e.some(o=>o===s||jN[o]===s))return t(r)})},YN=jt({patchProp:_N},uN);let Yw;function XN(){return Yw||(Yw=ID(YN))}const qN=(...t)=>{const e=XN().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=KN(i);if(!r)return;const s=e._component;!je(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,GN(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function GN(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function KN(t){return Dt(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let H1;const Ef=t=>H1=t,W1=Symbol();function Mm(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Zl;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Zl||(Zl={}));function JN(){const t=kx(!0),e=t.run(()=>Oe({}));let n=[],i=[];const r=pf({install(s){Ef(r),r._a=s,s.provide(W1,r),s.config.globalProperties.$pinia=r,i.forEach(o=>n.push(o)),i=[]},use(s){return this._a?n.push(s):i.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const V1=()=>{};function Xw(t,e,n,i=V1){t.push(e);const r=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),i())};return!n&&Ox()&&AL(r),r}function Ko(t,...e){t.slice().forEach(n=>{n(...e)})}const ZN=t=>t(),qw=Symbol(),Tp=Symbol();function _m(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,i)=>t.set(i,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],r=t[n];Mm(r)&&Mm(i)&&t.hasOwnProperty(n)&&!Bt(i)&&!Ms(i)?t[n]=_m(r,i):t[n]=i}return t}const QN=Symbol();function ez(t){return!Mm(t)||!Object.prototype.hasOwnProperty.call(t,QN)}const{assign:ds}=Object;function tz(t){return!!(Bt(t)&&t.effect)}function nz(t,e,n,i){const{state:r,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=r?r():{});const d=JL(n.state.value[t]);return ds(d,s,Object.keys(o||{}).reduce((h,p)=>(h[p]=pf(be(()=>{Ef(n);const g=n._s.get(t);return o[p].call(g,g)})),h),{}))}return l=j1(t,u,e,n,i,!0),l}function j1(t,e,n={},i,r,s){let o;const a=ds({actions:{}},n),l={deep:!0};let u,d,h=[],p=[],g;const m=i.state.value[t];!s&&!m&&(i.state.value[t]={}),Oe({});let b;function y(R){let k;u=d=!1,typeof R=="function"?(R(i.state.value[t]),k={type:Zl.patchFunction,storeId:t,events:g}):(_m(i.state.value[t],R),k={type:Zl.patchObject,payload:R,storeId:t,events:g});const D=b=Symbol();jr().then(()=>{b===D&&(u=!0)}),d=!0,Ko(h,k,i.state.value[t])}const S=s?function(){const{state:k}=n,D=k?k():{};this.$patch(X=>{ds(X,D)})}:V1;function x(){o.stop(),h=[],p=[],i._s.delete(t)}const E=(R,k="")=>{if(qw in R)return R[Tp]=k,R;const D=function(){Ef(i);const X=Array.from(arguments),F=[],U=[];function q($){F.push($)}function oe($){U.push($)}Ko(p,{args:X,name:D[Tp],store:A,after:q,onError:oe});let Z;try{Z=R.apply(this&&this.$id===t?this:A,X)}catch($){throw Ko(U,$),$}return Z instanceof Promise?Z.then($=>(Ko(F,$),$)).catch($=>(Ko(U,$),Promise.reject($))):(Ko(F,Z),Z)};return D[qw]=!0,D[Tp]=k,D},M={_p:i,$id:t,$onAction:Xw.bind(null,p),$patch:y,$reset:S,$subscribe(R,k={}){const D=Xw(h,R,k.detached,()=>X()),X=o.run(()=>gn(()=>i.state.value[t],F=>{(k.flush==="sync"?d:u)&&R({storeId:t,type:Zl.direct,events:g},F)},ds({},l,k)));return D},$dispose:x},A=ar(M);i._s.set(t,A);const L=(i._a&&i._a.runWithContext||ZN)(()=>i._e.run(()=>(o=kx()).run(()=>e({action:E}))));for(const R in L){const k=L[R];if(Bt(k)&&!tz(k)||Ms(k))s||(m&&ez(k)&&(Bt(k)?k.value=m[R]:_m(k,m[R])),i.state.value[t][R]=k);else if(typeof k=="function"){const D=E(k,R);L[R]=D,a.actions[R]=k}}return ds(A,L),ds(ot(A),L),Object.defineProperty(A,"$state",{get:()=>i.state.value[t],set:R=>{y(k=>{ds(k,R)})}}),i._p.forEach(R=>{ds(A,o.run(()=>R({store:A,app:i._a,pinia:i,options:a})))}),m&&s&&n.hydrate&&n.hydrate(A.$state,m),u=!0,d=!0,A}/*! #__NO_SIDE_EFFECTS__ */function Fg(t,e,n){let i;const r=typeof e=="function";i=r?n:e;function s(o,a){const l=MD();return o=o||(l?Lt(W1,null):null),o&&Ef(o),o=H1,o._s.has(t)||(r?j1(t,e,i,o):nz(t,i,o)),o._s.get(t)}return s.$id=t,s}/*!
 * perfect-scrollbar v1.5.6
 * Copyright 2024 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function lr(t){return getComputedStyle(t)}function Un(t,e){for(var n in e){var i=e[n];typeof i=="number"&&(i=i+"px"),t.style[n]=i}return t}function ju(t){var e=document.createElement("div");return e.className=t,e}var Gw=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function Ss(t,e){if(!Gw)throw new Error("No element matching method supported");return Gw.call(t,e)}function ua(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function Kw(t,e){return Array.prototype.filter.call(t.children,function(n){return Ss(n,e)})}var Ht={main:"ps",rtl:"ps__rtl",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},U1={x:null,y:null};function Y1(t,e){var n=t.element.classList,i=Ht.state.scrolling(e);n.contains(i)?clearTimeout(U1[e]):n.add(i)}function X1(t,e){U1[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(Ht.state.scrolling(e))},t.settings.scrollingThreshold)}function iz(t,e){Y1(t,e),X1(t,e)}var Nc=function(e){this.element=e,this.handlers={}},q1={isEmpty:{configurable:!0}};Nc.prototype.bind=function(e,n){typeof this.handlers[e]>"u"&&(this.handlers[e]=[]),this.handlers[e].push(n),this.element.addEventListener(e,n,!1)};Nc.prototype.unbind=function(e,n){var i=this;this.handlers[e]=this.handlers[e].filter(function(r){return n&&r!==n?!0:(i.element.removeEventListener(e,r,!1),!1)})};Nc.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)};q1.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return t.handlers[e].length===0})};Object.defineProperties(Nc.prototype,q1);var $a=function(){this.eventElements=[]};$a.prototype.eventElement=function(e){var n=this.eventElements.filter(function(i){return i.element===e})[0];return n||(n=new Nc(e),this.eventElements.push(n)),n};$a.prototype.bind=function(e,n,i){this.eventElement(e).bind(n,i)};$a.prototype.unbind=function(e,n,i){var r=this.eventElement(e);r.unbind(n,i),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)};$a.prototype.unbindAll=function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]};$a.prototype.once=function(e,n,i){var r=this.eventElement(e),s=function(o){r.unbind(n,s),i(o)};r.bind(n,s)};function Uu(t){if(typeof window.CustomEvent=="function")return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function Wd(t,e,n,i,r){i===void 0&&(i=!0),r===void 0&&(r=!1);var s;if(e==="top")s=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(e==="left")s=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");rz(t,n,s,i,r)}function rz(t,e,n,i,r){var s=n[0],o=n[1],a=n[2],l=n[3],u=n[4],d=n[5];i===void 0&&(i=!0),r===void 0&&(r=!1);var h=t.element;t.reach[l]=null,h[a]<1&&(t.reach[l]="start"),h[a]>t[s]-t[o]-1&&(t.reach[l]="end"),e&&(h.dispatchEvent(Uu("ps-scroll-"+l)),e<0?h.dispatchEvent(Uu("ps-scroll-"+u)):e>0&&h.dispatchEvent(Uu("ps-scroll-"+d)),i&&iz(t,l)),t.reach[l]&&(e||r)&&h.dispatchEvent(Uu("ps-"+l+"-reach-"+t.reach[l]))}function At(t){return parseInt(t,10)||0}function sz(t){return Ss(t,"input,[contenteditable]")||Ss(t,"select,[contenteditable]")||Ss(t,"textarea,[contenteditable]")||Ss(t,"button,[contenteditable]")}function oz(t){var e=lr(t);return At(e.width)+At(e.paddingLeft)+At(e.paddingRight)+At(e.borderLeftWidth)+At(e.borderRightWidth)}var oa={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function Ur(t){var e=t.element,n=Math.floor(e.scrollTop),i=e.getBoundingClientRect();t.containerWidth=Math.floor(i.width),t.containerHeight=Math.floor(i.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(Kw(e,Ht.element.rail("x")).forEach(function(r){return ua(r)}),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(Kw(e,Ht.element.rail("y")).forEach(function(r){return ua(r)}),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=Jw(t,At(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=At((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=Jw(t,At(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=At(n*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),az(e,t),t.scrollbarXActive?e.classList.add(Ht.state.active("x")):(e.classList.remove(Ht.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=t.isRtl===!0?t.contentWidth:0),t.scrollbarYActive?e.classList.add(Ht.state.active("y")):(e.classList.remove(Ht.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}function Jw(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function az(t,e){var n={width:e.railXWidth},i=Math.floor(t.scrollTop);e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:n.left=t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-i:n.top=e.scrollbarXTop+i,Un(e.scrollbarXRail,n);var r={top:i,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?r.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:r.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?r.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth*2-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:r.left=e.scrollbarYLeft+t.scrollLeft,Un(e.scrollbarYRail,r),Un(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),Un(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}function lz(t){t.event.bind(t.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),t.event.bind(t.scrollbarYRail,"mousedown",function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top,i=n>t.scrollbarYTop?1:-1;t.element.scrollTop+=i*t.containerHeight,Ur(t),e.stopPropagation()}),t.event.bind(t.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),t.event.bind(t.scrollbarXRail,"mousedown",function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left,i=n>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=i*t.containerWidth,Ur(t),e.stopPropagation()})}var Yu=null;function cz(t){Zw(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"]),Zw(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"])}function Zw(t,e){var n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],h=t.element,p=null,g=null,m=null;function b(x){x.touches&&x.touches[0]&&(x[r]=x.touches[0]["page"+u.toUpperCase()]),Yu===o&&(h[l]=p+m*(x[r]-g),Y1(t,u),Ur(t),x.stopPropagation(),x.preventDefault())}function y(){X1(t,u),t[d].classList.remove(Ht.state.clicking),document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",y),Yu=null}function S(x){Yu===null&&(Yu=o,p=h[l],x.touches&&(x[r]=x.touches[0]["page"+u.toUpperCase()]),g=x[r],m=(t[i]-t[n])/(t[s]-t[a]),x.touches?(document.addEventListener("touchmove",b,{passive:!1}),document.addEventListener("touchend",y)):(document.addEventListener("mousemove",b),document.addEventListener("mouseup",y)),t[d].classList.add(Ht.state.clicking)),x.stopPropagation(),x.cancelable&&x.preventDefault()}t[o].addEventListener("mousedown",S),t[o].addEventListener("touchstart",S)}function uz(t){var e=t.element,n=function(){return Ss(e,":hover")},i=function(){return Ss(t.scrollbarX,":focus")||Ss(t.scrollbarY,":focus")};function r(s,o){var a=Math.floor(e.scrollTop);if(s===0){if(!t.scrollbarYActive)return!1;if(a===0&&o>0||a>=t.contentHeight-t.containerHeight&&o<0)return!t.settings.wheelPropagation}var l=e.scrollLeft;if(o===0){if(!t.scrollbarXActive)return!1;if(l===0&&s<0||l>=t.contentWidth-t.containerWidth&&s>0)return!t.settings.wheelPropagation}return!0}t.event.bind(t.ownerDocument,"keydown",function(s){if(!(s.isDefaultPrevented&&s.isDefaultPrevented()||s.defaultPrevented)&&!(!n()&&!i())){var o=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(o){if(o.tagName==="IFRAME")o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(sz(o))return}var a=0,l=0;switch(s.which){case 37:s.metaKey?a=-t.contentWidth:s.altKey?a=-t.containerWidth:a=-30;break;case 38:s.metaKey?l=t.contentHeight:s.altKey?l=t.containerHeight:l=30;break;case 39:s.metaKey?a=t.contentWidth:s.altKey?a=t.containerWidth:a=30;break;case 40:s.metaKey?l=-t.contentHeight:s.altKey?l=-t.containerHeight:l=-30;break;case 32:s.shiftKey?l=t.containerHeight:l=-t.containerHeight;break;case 33:l=t.containerHeight;break;case 34:l=-t.containerHeight;break;case 36:l=t.contentHeight;break;case 35:l=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&a!==0||t.settings.suppressScrollY&&l!==0||(e.scrollTop-=l,e.scrollLeft+=a,Ur(t),r(a,l)&&s.preventDefault())}})}function dz(t){var e=t.element;function n(o,a){var l=Math.floor(e.scrollTop),u=e.scrollTop===0,d=l+e.offsetHeight===e.scrollHeight,h=e.scrollLeft===0,p=e.scrollLeft+e.offsetWidth===e.scrollWidth,g;return Math.abs(a)>Math.abs(o)?g=u||d:g=h||p,g?!t.settings.wheelPropagation:!0}function i(o){var a=o.deltaX,l=-1*o.deltaY;return(typeof a>"u"||typeof l>"u")&&(a=-1*o.wheelDeltaX/6,l=o.wheelDeltaY/6),o.deltaMode&&o.deltaMode===1&&(a*=10,l*=10),a!==a&&l!==l&&(a=0,l=o.wheelDelta),o.shiftKey?[-l,-a]:[a,l]}function r(o,a,l){if(!oa.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(o))return!1;for(var u=o;u&&u!==e;){if(u.classList.contains(Ht.element.consuming))return!0;var d=lr(u);if(l&&d.overflowY.match(/(scroll|auto)/)){var h=u.scrollHeight-u.clientHeight;if(h>0&&(u.scrollTop>0&&l<0||u.scrollTop<h&&l>0))return!0}if(a&&d.overflowX.match(/(scroll|auto)/)){var p=u.scrollWidth-u.clientWidth;if(p>0&&(u.scrollLeft>0&&a<0||u.scrollLeft<p&&a>0))return!0}u=u.parentNode}return!1}function s(o){var a=i(o),l=a[0],u=a[1];if(!r(o.target,l,u)){var d=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(u?e.scrollTop-=u*t.settings.wheelSpeed:e.scrollTop+=l*t.settings.wheelSpeed,d=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(l?e.scrollLeft+=l*t.settings.wheelSpeed:e.scrollLeft-=u*t.settings.wheelSpeed,d=!0):(e.scrollTop-=u*t.settings.wheelSpeed,e.scrollLeft+=l*t.settings.wheelSpeed),Ur(t),d=d||n(l,u),d&&!o.ctrlKey&&(o.stopPropagation(),o.preventDefault())}}typeof window.onwheel<"u"?t.event.bind(e,"wheel",s):typeof window.onmousewheel<"u"&&t.event.bind(e,"mousewheel",s)}function fz(t){if(!oa.supportsTouch&&!oa.supportsIePointer)return;var e=t.element,n={startOffset:{},startTime:0,speed:{},easingLoop:null};function i(h,p){var g=Math.floor(e.scrollTop),m=e.scrollLeft,b=Math.abs(h),y=Math.abs(p);if(y>b){if(p<0&&g===t.contentHeight-t.containerHeight||p>0&&g===0)return window.scrollY===0&&p>0&&oa.isChrome}else if(b>y&&(h<0&&m===t.contentWidth-t.containerWidth||h>0&&m===0))return!0;return!0}function r(h,p){e.scrollTop-=p,e.scrollLeft-=h,Ur(t)}function s(h){return h.targetTouches?h.targetTouches[0]:h}function o(h){return h.target===t.scrollbarX||h.target===t.scrollbarY||h.pointerType&&h.pointerType==="pen"&&h.buttons===0?!1:!!(h.targetTouches&&h.targetTouches.length===1||h.pointerType&&h.pointerType!=="mouse"&&h.pointerType!==h.MSPOINTER_TYPE_MOUSE)}function a(h){if(o(h)){var p=s(h);n.startOffset.pageX=p.pageX,n.startOffset.pageY=p.pageY,n.startTime=new Date().getTime(),n.easingLoop!==null&&clearInterval(n.easingLoop)}}function l(h,p,g){if(!e.contains(h))return!1;for(var m=h;m&&m!==e;){if(m.classList.contains(Ht.element.consuming))return!0;var b=lr(m);if(g&&b.overflowY.match(/(scroll|auto)/)){var y=m.scrollHeight-m.clientHeight;if(y>0&&(m.scrollTop>0&&g<0||m.scrollTop<y&&g>0))return!0}if(p&&b.overflowX.match(/(scroll|auto)/)){var S=m.scrollWidth-m.clientWidth;if(S>0&&(m.scrollLeft>0&&p<0||m.scrollLeft<S&&p>0))return!0}m=m.parentNode}return!1}function u(h){if(o(h)){var p=s(h),g={pageX:p.pageX,pageY:p.pageY},m=g.pageX-n.startOffset.pageX,b=g.pageY-n.startOffset.pageY;if(l(h.target,m,b))return;r(m,b),n.startOffset=g;var y=new Date().getTime(),S=y-n.startTime;S>0&&(n.speed.x=m/S,n.speed.y=b/S,n.startTime=y),i(m,b)&&h.cancelable&&h.preventDefault()}}function d(){t.settings.swipeEasing&&(clearInterval(n.easingLoop),n.easingLoop=setInterval(function(){if(t.isInitialized){clearInterval(n.easingLoop);return}if(!n.speed.x&&!n.speed.y){clearInterval(n.easingLoop);return}if(Math.abs(n.speed.x)<.01&&Math.abs(n.speed.y)<.01){clearInterval(n.easingLoop);return}r(n.speed.x*30,n.speed.y*30),n.speed.x*=.8,n.speed.y*=.8},10))}oa.supportsTouch?(t.event.bind(e,"touchstart",a),t.event.bind(e,"touchmove",u),t.event.bind(e,"touchend",d)):oa.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",a),t.event.bind(e,"pointermove",u),t.event.bind(e,"pointerup",d)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",a),t.event.bind(e,"MSPointerMove",u),t.event.bind(e,"MSPointerUp",d)))}var hz=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},pz={"click-rail":lz,"drag-thumb":cz,keyboard:uz,wheel:dz,touch:fz},zc=function(e,n){var i=this;if(n===void 0&&(n={}),typeof e=="string"&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=e,e.classList.add(Ht.main),this.settings=hz();for(var r in n)this.settings[r]=n[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s=function(){return e.classList.add(Ht.state.focus)},o=function(){return e.classList.remove(Ht.state.focus)};this.isRtl=lr(e).direction==="rtl",this.isRtl===!0&&e.classList.add(Ht.rtl),this.isNegativeScroll=function(){var u=e.scrollLeft,d=null;return e.scrollLeft=-1,d=e.scrollLeft<0,e.scrollLeft=u,d}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new $a,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=ju(Ht.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=ju(Ht.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",o),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var a=lr(this.scrollbarXRail);this.scrollbarXBottom=parseInt(a.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=At(a.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=At(a.borderLeftWidth)+At(a.borderRightWidth),Un(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=At(a.marginLeft)+At(a.marginRight),Un(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=ju(Ht.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=ju(Ht.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",o),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var l=lr(this.scrollbarYRail);this.scrollbarYRight=parseInt(l.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=At(l.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?oz(this.scrollbarY):null,this.railBorderYWidth=At(l.borderTopWidth)+At(l.borderBottomWidth),Un(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=At(l.marginTop)+At(l.marginBottom),Un(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(u){return pz[u](i)}),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",function(u){return i.onScroll(u)}),Ur(this)};zc.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,Un(this.scrollbarXRail,{display:"block"}),Un(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=At(lr(this.scrollbarXRail).marginLeft)+At(lr(this.scrollbarXRail).marginRight),this.railYMarginHeight=At(lr(this.scrollbarYRail).marginTop)+At(lr(this.scrollbarYRail).marginBottom),Un(this.scrollbarXRail,{display:"none"}),Un(this.scrollbarYRail,{display:"none"}),Ur(this),Wd(this,"top",0,!1,!0),Wd(this,"left",0,!1,!0),Un(this.scrollbarXRail,{display:""}),Un(this.scrollbarYRail,{display:""}))};zc.prototype.onScroll=function(e){this.isAlive&&(Ur(this),Wd(this,"top",this.element.scrollTop-this.lastScrollTop),Wd(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)};zc.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),ua(this.scrollbarX),ua(this.scrollbarY),ua(this.scrollbarXRail),ua(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)};zc.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(e){return!e.match(/^ps([-_].+|)$/)}).join(" ")};const mz=gf({__name:"PerfectScrollbar",props:{tag:{default:"div"},options:{default:()=>({})}},emits:["scroll","ps-scroll-y","ps-scroll-x","ps-scroll-up","ps-scroll-down","ps-scroll-left","ps-scroll-right","ps-y-reach-start","ps-y-reach-end","ps-x-reach-start","ps-x-reach-end"],setup(t,{expose:e,emit:n}){const i=t,r=n,s=Oe(null),o=Oe(null);gn(()=>i.options,()=>{l(),a()},{deep:!0}),gr(()=>{s.value&&a()}),Lc(()=>{l()});function a(){s.value&&(o.value=new zc(s.value,i.options),h())}function l(){o.value&&(h(!1),o.value.destroy(),o.value=null)}const u={scroll:d("scroll"),"ps-scroll-y":d("ps-scroll-y"),"ps-scroll-x":d("ps-scroll-x"),"ps-scroll-up":d("ps-scroll-up"),"ps-scroll-down":d("ps-scroll-down"),"ps-scroll-left":d("ps-scroll-left"),"ps-scroll-right":d("ps-scroll-right"),"ps-y-reach-start":d("ps-y-reach-start"),"ps-y-reach-end":d("ps-y-reach-end"),"ps-x-reach-start":d("ps-x-reach-start"),"ps-x-reach-end":d("ps-x-reach-end")};function d(p){return function(g){r(p,g)}}function h(p=!0){var g;(g=o.value)!=null&&g.element&&Object.entries(u).forEach(([m,b])=>{var y,S;p?(y=o.value)==null||y.element.addEventListener(m,b):(S=o.value)==null||S.element.removeEventListener(m,b)})}return e({ps:o}),(p,g)=>(ee(),Pe(dc(p.tag),{ref_key:"scrollbar",ref:s,class:"ps"},{default:xt(()=>[Kn(p.$slots,"default")]),_:3},512))}}),gz={componentName:"PerfectScrollbar"},vz={install(t,e){const n=Object.assign(gz,e);t.component(n.componentName,mz)}},$c=Fg("user",()=>{const{storage:t}=Lt("utils"),{userService:e}=Lt("services"),n=Oe(null),i=Oe({}),r=Oe(null),s=be(()=>!!n.value),o=be(()=>!!i.value.is_verified),a=be(()=>i.value.avatar?"http://localhost:7070/"+i.value.avatar:null);function l(){n.value=t.get("token",null),r.value=t.get("resendTimer",null),e.setToken(n.value)}async function u(){try{i.value=await e.check()}catch{n.value=null,i.value={},t.clear()}}async function d({email:S,password:x}){try{const E=await e.register(S,x);n.value=E.token,i.value=E.user,t.set("token",E.token)}catch({message:E,errors:M}){throw{message:E,errors:M}}}async function h({email:S,password:x}){try{const E=await e.login(S,x);n.value=E.token,i.value=E.user,t.set("token",E.token)}catch({message:E,errors:M}){throw{message:E,errors:M}}}async function p(){try{await e.logout(),n.value=null,i.value={},t.clear()}catch(S){alert(S)}}async function g(S){try{i.value=await e.changeAvatar(S)}catch(x){alert(x)}}async function m(S){try{i.value=await e.update(S)}catch(x){alert(x)}}async function b(){r.value=t.set("resendTimer",60),y();try{await e.resend()}catch(S){alert(S)}}function y(){if(!r.value)return;let S=null;S=setInterval(()=>{if(r.value<=0){r.value=t.remove("resendTimer"),clearInterval(S);return}r.value=t.set("resendTimer",--r.value)},1e3)}return l(),{token:n,user:i,resendTimer:r,avatar:a,isLogged:s,isVerified:o,check:u,register:d,login:h,logout:p,changeAvatar:g,update:m,resend:b,startResendTimer:y}}),Bc=Fg("woojs",()=>{const{woojService:t,topicService:e}=Lt("services"),n="all",i="pinned",r="public",s="custom",o=Oe([]),a=Oe([]),l=Oe({}),u=Oe({}),d=be(()=>o.value.find(Y=>Y.type===n)),h=be(()=>o.value.find(Y=>Y.type===i)),p=be(()=>o.value.find(Y=>Y.type===r)),g=be(()=>o.value.filter(Y=>Y.type===s)),m=be(()=>{const Y=te=>l.value[te.id]!==void 0?l.value[te.id]:te.is_pinned,se=te=>u.value[te.id]!==void 0?u.value[te.id]:te.is_deleted;return a.value.map(te=>(te.is_pinned=Y(te),te.is_deleted=se(te),te))}),b=be(()=>m.value.filter(Y=>!Y.is_deleted)),y=be(()=>b.value.reduce((Y,se)=>(Y[se.id]=se,Y),{})),S=be(()=>o.value.reduce((Y,se)=>{const te=[];for(const ae of se.wooj_positions)y.value[ae]&&te.push(y.value[ae]);return Y[se.id]=te,Y},{})),x=Oe(null),E=Oe(null),M=be(()=>o.value.find(({id:Y})=>Y===x.value)),A=be(()=>y.value[E.value]),z=be(()=>S.value[x.value]||[]),L=be(()=>{var Y;return S.value[(Y=d.value)==null?void 0:Y.id]||[]}),R=be(()=>{var se;return(S.value[(se=h.value)==null?void 0:se.id]||[]).filter(te=>te.is_pinned)}),k=be(()=>{var Y;return S.value[(Y=p.value)==null?void 0:Y.id]||[]}),D=be(()=>m.value.filter(Y=>Y.is_deleted)),X=be(()=>{var Y;return!!((Y=M.value)!=null&&Y.id)}),F=be(()=>{var Y;return!!((Y=A.value)!=null&&Y.id)}),U=Oe(!1),q=Oe(!1),oe=Oe(!1),Z=Oe(!1),$=Oe(!1),W=Oe(!1),re=Oe(!1);async function Te(){oe.value=!1;try{const Y=await Promise.all([e.getAll(),t.getAll()]);o.value=Y[0],a.value=Y[1]}catch(Y){console.error(Y)}U.value=!1,oe.value=!0,q.value=!0}async function Be(Y){Y=Y||{},Z.value=!0,q.value=!1;let se=null;try{se=await e.create(Y),await Te()}catch(te){alert(te)}return q.value=!0,Z.value=!1,se}const tt=async(Y,se)=>{se=se||{},W.value=!0,q.value=!1;let te=null;try{te=await e.update(Y,se),await Te()}catch(ae){alert(ae)}return q.value=!0,W.value=!1,te},Nt=async Y=>{W.value=!0,q.value=!1;let se=null;try{se=await e.delete(Y),await Te()}catch(te){alert(te)}return q.value=!0,W.value=!1,se},yn=async Y=>{Y=Y||{},$.value=!0;let se=null;try{se=await t.create(Y),await Te()}catch(te){alert(te)}return $.value=!1,se},fe=async(Y,se)=>{se=se||{},re.value=!0;let te=null;try{te=await t.update(Y,se),U.value=!0}catch(ae){alert(ae)}return re.value=!1,te},ie=async(Y,se)=>{re.value=!0;let te=null;try{te=await t.setTopics(Y,se),U.value=!0}catch(ae){alert(ae)}return re.value=!1,te};function B(Y){x.value=Number(Y)}function de(Y){E.value=Number(Y)}function ve(){B(null)}function xe(){de(null)}const He=async Y=>{l.value[Y.id]=!0,await t.pin(Y.id),U.value=!0},O=async Y=>{l.value[Y.id]=!1,await t.unpin(Y.id),U.value=!0};return{topics:o,woojs:a,topicAll:d,topicPinned:h,topicPublished:p,customTopics:g,activeTopicId:x,activeWoojId:E,activeTopic:M,activeWooj:A,activeWoojs:z,allWoojs:L,pinnedWoojs:R,publishedWoojs:k,removedWoojs:D,hasActiveTopic:X,hasActiveWooj:F,isNeedUpdate:U,isLoadedTopics:q,isLoaded:oe,isCreatingTopic:Z,isCreatingWooj:$,isUpdatingTopic:W,isUpdatingWooj:re,fetchAll:Te,activateTopic:B,activateWooj:de,deactivateTopic:ve,deactivateWooj:xe,createTopic:Be,updateTopic:tt,deleteTopic:Nt,createWooj:yn,updateWooj:fe,setWoojTopics:ie,pin:He,unpin:O,togglePin:Y=>Y.is_pinned?O(Y):He(Y),remove:async Y=>{u.value[Y.id]=!0,await t.delete(Y.id)},restore:async Y=>{u.value[Y.id]=!1,await t.restore(Y.id)},clearTrash:async()=>{await t.clearTrash(),await Te()},sort:async(Y,se)=>{await e.sort(Y,se),U.value=!0}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const aa=typeof document<"u";function G1(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function bz(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&G1(t.default)}const ft=Object.assign;function Mp(t,e){const n={};for(const i in e){const r=e[i];n[i]=ji(r)?r.map(t):t(r)}return n}const Ql=()=>{},ji=Array.isArray,K1=/#/g,yz=/&/g,wz=/\//g,Sz=/=/g,xz=/\?/g,J1=/\+/g,Ez=/%5B/g,Cz=/%5D/g,Z1=/%5E/g,Tz=/%60/g,Q1=/%7B/g,Mz=/%7C/g,eE=/%7D/g,_z=/%20/g;function Hg(t){return encodeURI(""+t).replace(Mz,"|").replace(Ez,"[").replace(Cz,"]")}function Az(t){return Hg(t).replace(Q1,"{").replace(eE,"}").replace(Z1,"^")}function Am(t){return Hg(t).replace(J1,"%2B").replace(_z,"+").replace(K1,"%23").replace(yz,"%26").replace(Tz,"`").replace(Q1,"{").replace(eE,"}").replace(Z1,"^")}function kz(t){return Am(t).replace(Sz,"%3D")}function Oz(t){return Hg(t).replace(K1,"%23").replace(xz,"%3F")}function Rz(t){return t==null?"":Oz(t).replace(wz,"%2F")}function gc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Pz=/\/$/,Iz=t=>t.replace(Pz,"");function _p(t,e,n="/"){let i,r={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),r=t(s)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=zz(i??e,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:gc(o)}}function Lz(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Qw(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Dz(t,e,n){const i=e.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&Sa(e.matched[i],n.matched[r])&&tE(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Sa(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function tE(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Nz(t[n],e[n]))return!1;return!0}function Nz(t,e){return ji(t)?e0(t,e):ji(e)?e0(e,t):t===e}function e0(t,e){return ji(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function zz(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(o).join("/")}const as={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var vc;(function(t){t.pop="pop",t.push="push"})(vc||(vc={}));var ec;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ec||(ec={}));function $z(t){if(!t)if(aa){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Iz(t)}const Bz=/^[^#]+#/;function Fz(t,e){return t.replace(Bz,"#")+e}function Hz(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const Cf=()=>({left:window.scrollX,top:window.scrollY});function Wz(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=Hz(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function t0(t,e){return(history.state?history.state.position-e:-1)+t}const km=new Map;function Vz(t,e){km.set(t,e)}function jz(t){const e=km.get(t);return km.delete(t),e}let Uz=()=>location.protocol+"//"+location.host;function nE(t,e){const{pathname:n,search:i,hash:r}=e,s=t.indexOf("#");if(s>-1){let a=r.includes(t.slice(s))?t.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Qw(l,"")}return Qw(n,t)+i+r}function Yz(t,e,n,i){let r=[],s=[],o=null;const a=({state:p})=>{const g=nE(t,location),m=n.value,b=e.value;let y=0;if(p){if(n.value=g,e.value=p,o&&o===m){o=null;return}y=b?p.position-b.position:0}else i(g);r.forEach(S=>{S(n.value,m,{delta:y,type:vc.pop,direction:y?y>0?ec.forward:ec.back:ec.unknown})})};function l(){o=n.value}function u(p){r.push(p);const g=()=>{const m=r.indexOf(p);m>-1&&r.splice(m,1)};return s.push(g),g}function d(){const{history:p}=window;p.state&&p.replaceState(ft({},p.state,{scroll:Cf()}),"")}function h(){for(const p of s)p();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function n0(t,e,n,i=!1,r=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:r?Cf():null}}function Xz(t){const{history:e,location:n}=window,i={value:nE(t,n)},r={value:e.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,d){const h=t.indexOf("#"),p=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:Uz()+t+l;try{e[d?"replaceState":"pushState"](u,"",p),r.value=u}catch(g){console.error(g),n[d?"replace":"assign"](p)}}function o(l,u){const d=ft({},e.state,n0(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});s(l,d,!0),i.value=l}function a(l,u){const d=ft({},r.value,e.state,{forward:l,scroll:Cf()});s(d.current,d,!0);const h=ft({},n0(i.value,l,null),{position:d.position+1},u);s(l,h,!1),i.value=l}return{location:i,state:r,push:a,replace:o}}function qz(t){t=$z(t);const e=Xz(t),n=Yz(t,e.state,e.location,e.replace);function i(s,o=!0){o||n.pauseListeners(),history.go(s)}const r=ft({location:"",base:t,go:i,createHref:Fz.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Gz(t){return typeof t=="string"||t&&typeof t=="object"}function iE(t){return typeof t=="string"||typeof t=="symbol"}const rE=Symbol("");var i0;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(i0||(i0={}));function xa(t,e){return ft(new Error,{type:t,[rE]:!0},e)}function kr(t,e){return t instanceof Error&&rE in t&&(e==null||!!(t.type&e))}const r0="[^/]+?",Kz={sensitive:!1,strict:!1,start:!0,end:!0},Jz=/[.+*?^${}()[\]/\\]/g;function Zz(t,e){const n=ft({},Kz,e),i=[];let r=n.start?"^":"";const s=[];for(const u of t){const d=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let h=0;h<u.length;h++){const p=u[h];let g=40+(n.sensitive?.25:0);if(p.type===0)h||(r+="/"),r+=p.value.replace(Jz,"\\$&"),g+=40;else if(p.type===1){const{value:m,repeatable:b,optional:y,regexp:S}=p;s.push({name:m,repeatable:b,optional:y});const x=S||r0;if(x!==r0){g+=10;try{new RegExp(`(${x})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${m}" (${x}): `+M.message)}}let E=b?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;h||(E=y&&u.length<2?`(?:/${E})`:"/"+E),y&&(E+="?"),r+=E,g+=20,y&&(g+=-8),b&&(g+=-20),x===".*"&&(g+=-50)}d.push(g)}i.push(d)}if(n.strict&&n.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(u){const d=u.match(o),h={};if(!d)return null;for(let p=1;p<d.length;p++){const g=d[p]||"",m=s[p-1];h[m.name]=g&&m.repeatable?g.split("/"):g}return h}function l(u){let d="",h=!1;for(const p of t){(!h||!d.endsWith("/"))&&(d+="/"),h=!1;for(const g of p)if(g.type===0)d+=g.value;else if(g.type===1){const{value:m,repeatable:b,optional:y}=g,S=m in u?u[m]:"";if(ji(S)&&!b)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const x=ji(S)?S.join("/"):S;if(!x)if(y)p.length<2&&(d.endsWith("/")?d=d.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);d+=x}}return d||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function Qz(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function sE(t,e){let n=0;const i=t.score,r=e.score;for(;n<i.length&&n<r.length;){const s=Qz(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(s0(i))return 1;if(s0(r))return-1}return r.length-i.length}function s0(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const e$={type:0,value:""},t$=/[a-zA-Z0-9_]/;function n$(t){if(!t)return[[]];if(t==="/")return[[e$]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,u="",d="";function h(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),n=1):p();break;case 4:p(),n=i;break;case 1:l==="("?n=2:t$.test(l)?p():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),r}function i$(t,e,n){const i=Zz(n$(t.path),n),r=ft(i,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function r$(t,e){const n=[],i=new Map;e=c0({strict:!1,end:!0,sensitive:!1},e);function r(h){return i.get(h)}function s(h,p,g){const m=!g,b=a0(h);b.aliasOf=g&&g.record;const y=c0(e,h),S=[b];if("alias"in h){const M=typeof h.alias=="string"?[h.alias]:h.alias;for(const A of M)S.push(a0(ft({},b,{components:g?g.record.components:b.components,path:A,aliasOf:g?g.record:b})))}let x,E;for(const M of S){const{path:A}=M;if(p&&A[0]!=="/"){const z=p.record.path,L=z[z.length-1]==="/"?"":"/";M.path=p.record.path+(A&&L+A)}if(x=i$(M,p,y),g?g.alias.push(x):(E=E||x,E!==x&&E.alias.push(x),m&&h.name&&!l0(x)&&o(h.name)),oE(x)&&l(x),b.children){const z=b.children;for(let L=0;L<z.length;L++)s(z[L],x,g&&g.children[L])}g=g||x}return E?()=>{o(E)}:Ql}function o(h){if(iE(h)){const p=i.get(h);p&&(i.delete(h),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=n.indexOf(h);p>-1&&(n.splice(p,1),h.record.name&&i.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const p=a$(h,n);n.splice(p,0,h),h.record.name&&!l0(h)&&i.set(h.record.name,h)}function u(h,p){let g,m={},b,y;if("name"in h&&h.name){if(g=i.get(h.name),!g)throw xa(1,{location:h});y=g.record.name,m=ft(o0(p.params,g.keys.filter(E=>!E.optional).concat(g.parent?g.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),h.params&&o0(h.params,g.keys.map(E=>E.name))),b=g.stringify(m)}else if(h.path!=null)b=h.path,g=n.find(E=>E.re.test(b)),g&&(m=g.parse(b),y=g.record.name);else{if(g=p.name?i.get(p.name):n.find(E=>E.re.test(p.path)),!g)throw xa(1,{location:h,currentLocation:p});y=g.record.name,m=ft({},p.params,h.params),b=g.stringify(m)}const S=[];let x=g;for(;x;)S.unshift(x.record),x=x.parent;return{name:y,path:b,params:m,matched:S,meta:o$(S)}}t.forEach(h=>s(h));function d(){n.length=0,i.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:r}}function o0(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function a0(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:s$(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function s$(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function l0(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function o$(t){return t.reduce((e,n)=>ft(e,n.meta),{})}function c0(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function a$(t,e){let n=0,i=e.length;for(;n!==i;){const s=n+i>>1;sE(t,e[s])<0?i=s:n=s+1}const r=l$(t);return r&&(i=e.lastIndexOf(r,i-1)),i}function l$(t){let e=t;for(;e=e.parent;)if(oE(e)&&sE(t,e)===0)return e}function oE({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function c$(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(J1," "),o=s.indexOf("="),a=gc(o<0?s:s.slice(0,o)),l=o<0?null:gc(s.slice(o+1));if(a in e){let u=e[a];ji(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function u0(t){let e="";for(let n in t){const i=t[n];if(n=kz(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(ji(i)?i.map(s=>s&&Am(s)):[i&&Am(i)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function u$(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=ji(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return e}const Wg=Symbol(""),d0=Symbol(""),Tf=Symbol(""),aE=Symbol(""),Om=Symbol("");function cl(){let t=[];function e(i){return t.push(i),()=>{const r=t.indexOf(i);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function lE(t,e,n){const i=()=>{t[e].delete(n)};za(i),o1(i),s1(()=>{t[e].add(n)}),t[e].add(n)}function d$(t){const e=Lt(Wg,{}).value;e&&lE(e,"leaveGuards",t)}function f$(t){const e=Lt(Wg,{}).value;e&&lE(e,"updateGuards",t)}function gs(t,e,n,i,r,s=o=>o()){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=p=>{p===!1?l(xa(4,{from:n,to:e})):p instanceof Error?l(p):Gz(p)?l(xa(2,{from:e,to:p})):(o&&i.enterCallbacks[r]===o&&typeof p=="function"&&o.push(p),a())},d=s(()=>t.call(i&&i.instances[r],e,n,u));let h=Promise.resolve(d);t.length<3&&(h=h.then(u)),h.catch(p=>l(p))})}function Ap(t,e,n,i,r=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(G1(l)){const d=(l.__vccOpts||l)[e];d&&s.push(gs(d,n,i,o,a,r))}else{let u=l();s.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=bz(d)?d.default:d;o.mods[a]=d,o.components[a]=h;const g=(h.__vccOpts||h)[e];return g&&gs(g,n,i,o,a,r)()}))}}return s}function f0(t){const e=Lt(Tf),n=Lt(aE),i=be(()=>{const l=et(t.to);return e.resolve(l)}),r=be(()=>{const{matched:l}=i.value,{length:u}=l,d=l[u-1],h=n.matched;if(!d||!h.length)return-1;const p=h.findIndex(Sa.bind(null,d));if(p>-1)return p;const g=h0(l[u-2]);return u>1&&h0(d)===g&&h[h.length-1].path!==g?h.findIndex(Sa.bind(null,l[u-2])):p}),s=be(()=>r.value>-1&&g$(n.params,i.value.params)),o=be(()=>r.value>-1&&r.value===n.matched.length-1&&tE(n.params,i.value.params));function a(l={}){if(m$(l)){const u=e[et(t.replace)?"replace":"push"](et(t.to)).catch(Ql);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:i,href:be(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}function h$(t){return t.length===1?t[0]:t}const p$=gf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:f0,setup(t,{slots:e}){const n=ar(f0(t)),{options:i}=Lt(Tf),r=be(()=>({[p0(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[p0(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&h$(e.default(n));return t.custom?s:$g("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),cE=p$;function m$(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function g$(t,e){for(const n in e){const i=e[n],r=t[n];if(typeof i=="string"){if(i!==r)return!1}else if(!ji(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function h0(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const p0=(t,e,n)=>t??e??n,v$=gf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=Lt(Om),r=be(()=>t.route||i.value),s=Lt(d0,0),o=be(()=>{let u=et(s);const{matched:d}=r.value;let h;for(;(h=d[u])&&!h.components;)u++;return u}),a=be(()=>r.value.matched[o.value]);hd(d0,be(()=>o.value+1)),hd(Wg,a),hd(Om,r);const l=Oe();return gn(()=>[l.value,a.value,t.name],([u,d,h],[p,g,m])=>{d&&(d.instances[h]=u,g&&g!==d&&u&&u===p&&(d.leaveGuards.size||(d.leaveGuards=g.leaveGuards),d.updateGuards.size||(d.updateGuards=g.updateGuards))),u&&d&&(!g||!Sa(d,g)||!p)&&(d.enterCallbacks[h]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=r.value,d=t.name,h=a.value,p=h&&h.components[d];if(!p)return m0(n.default,{Component:p,route:u});const g=h.props[d],m=g?g===!0?u.params:typeof g=="function"?g(u):g:null,y=$g(p,ft({},m,e,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(h.instances[d]=null)},ref:l}));return m0(n.default,{Component:y,route:u})||y}}});function m0(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const uE=v$;function b$(t){const e=r$(t.routes,t),n=t.parseQuery||c$,i=t.stringifyQuery||u0,r=t.history,s=cl(),o=cl(),a=cl(),l=Xx(as);let u=as;aa&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Mp.bind(null,B=>""+B),h=Mp.bind(null,Rz),p=Mp.bind(null,gc);function g(B,de){let ve,xe;return iE(B)?(ve=e.getRecordMatcher(B),xe=de):xe=B,e.addRoute(xe,ve)}function m(B){const de=e.getRecordMatcher(B);de&&e.removeRoute(de)}function b(){return e.getRoutes().map(B=>B.record)}function y(B){return!!e.getRecordMatcher(B)}function S(B,de){if(de=ft({},de||l.value),typeof B=="string"){const H=_p(n,B,de.path),J=e.resolve({path:H.path},de),ce=r.createHref(H.fullPath);return ft(H,J,{params:p(J.params),hash:gc(H.hash),redirectedFrom:void 0,href:ce})}let ve;if(B.path!=null)ve=ft({},B,{path:_p(n,B.path,de.path).path});else{const H=ft({},B.params);for(const J in H)H[J]==null&&delete H[J];ve=ft({},B,{params:h(H)}),de.params=h(de.params)}const xe=e.resolve(ve,de),He=B.hash||"";xe.params=d(p(xe.params));const O=Lz(i,ft({},B,{hash:Az(He),path:xe.path})),I=r.createHref(O);return ft({fullPath:O,hash:He,query:i===u0?u$(B.query):B.query||{}},xe,{redirectedFrom:void 0,href:I})}function x(B){return typeof B=="string"?_p(n,B,l.value.path):ft({},B)}function E(B,de){if(u!==B)return xa(8,{from:de,to:B})}function M(B){return L(B)}function A(B){return M(ft(x(B),{replace:!0}))}function z(B){const de=B.matched[B.matched.length-1];if(de&&de.redirect){const{redirect:ve}=de;let xe=typeof ve=="function"?ve(B):ve;return typeof xe=="string"&&(xe=xe.includes("?")||xe.includes("#")?xe=x(xe):{path:xe},xe.params={}),ft({query:B.query,hash:B.hash,params:xe.path!=null?{}:B.params},xe)}}function L(B,de){const ve=u=S(B),xe=l.value,He=B.state,O=B.force,I=B.replace===!0,H=z(ve);if(H)return L(ft(x(H),{state:typeof H=="object"?ft({},He,H.state):He,force:O,replace:I}),de||ve);const J=ve;J.redirectedFrom=de;let ce;return!O&&Dz(i,xe,ve)&&(ce=xa(16,{to:J,from:xe}),Be(xe,xe,!0,!1)),(ce?Promise.resolve(ce):D(J,xe)).catch(Q=>kr(Q)?kr(Q,2)?Q:Te(Q):W(Q,J,xe)).then(Q=>{if(Q){if(kr(Q,2))return L(ft({replace:I},x(Q.to),{state:typeof Q.to=="object"?ft({},He,Q.to.state):He,force:O}),de||J)}else Q=F(J,xe,!0,I,He);return X(J,xe,Q),Q})}function R(B,de){const ve=E(B,de);return ve?Promise.reject(ve):Promise.resolve()}function k(B){const de=yn.values().next().value;return de&&typeof de.runWithContext=="function"?de.runWithContext(B):B()}function D(B,de){let ve;const[xe,He,O]=y$(B,de);ve=Ap(xe.reverse(),"beforeRouteLeave",B,de);for(const H of xe)H.leaveGuards.forEach(J=>{ve.push(gs(J,B,de))});const I=R.bind(null,B,de);return ve.push(I),ie(ve).then(()=>{ve=[];for(const H of s.list())ve.push(gs(H,B,de));return ve.push(I),ie(ve)}).then(()=>{ve=Ap(He,"beforeRouteUpdate",B,de);for(const H of He)H.updateGuards.forEach(J=>{ve.push(gs(J,B,de))});return ve.push(I),ie(ve)}).then(()=>{ve=[];for(const H of O)if(H.beforeEnter)if(ji(H.beforeEnter))for(const J of H.beforeEnter)ve.push(gs(J,B,de));else ve.push(gs(H.beforeEnter,B,de));return ve.push(I),ie(ve)}).then(()=>(B.matched.forEach(H=>H.enterCallbacks={}),ve=Ap(O,"beforeRouteEnter",B,de,k),ve.push(I),ie(ve))).then(()=>{ve=[];for(const H of o.list())ve.push(gs(H,B,de));return ve.push(I),ie(ve)}).catch(H=>kr(H,8)?H:Promise.reject(H))}function X(B,de,ve){a.list().forEach(xe=>k(()=>xe(B,de,ve)))}function F(B,de,ve,xe,He){const O=E(B,de);if(O)return O;const I=de===as,H=aa?history.state:{};ve&&(xe||I?r.replace(B.fullPath,ft({scroll:I&&H&&H.scroll},He)):r.push(B.fullPath,He)),l.value=B,Be(B,de,ve,I),Te()}let U;function q(){U||(U=r.listen((B,de,ve)=>{if(!fe.listening)return;const xe=S(B),He=z(xe);if(He){L(ft(He,{replace:!0,force:!0}),xe).catch(Ql);return}u=xe;const O=l.value;aa&&Vz(t0(O.fullPath,ve.delta),Cf()),D(xe,O).catch(I=>kr(I,12)?I:kr(I,2)?(L(ft(x(I.to),{force:!0}),xe).then(H=>{kr(H,20)&&!ve.delta&&ve.type===vc.pop&&r.go(-1,!1)}).catch(Ql),Promise.reject()):(ve.delta&&r.go(-ve.delta,!1),W(I,xe,O))).then(I=>{I=I||F(xe,O,!1),I&&(ve.delta&&!kr(I,8)?r.go(-ve.delta,!1):ve.type===vc.pop&&kr(I,20)&&r.go(-1,!1)),X(xe,O,I)}).catch(Ql)}))}let oe=cl(),Z=cl(),$;function W(B,de,ve){Te(B);const xe=Z.list();return xe.length?xe.forEach(He=>He(B,de,ve)):console.error(B),Promise.reject(B)}function re(){return $&&l.value!==as?Promise.resolve():new Promise((B,de)=>{oe.add([B,de])})}function Te(B){return $||($=!B,q(),oe.list().forEach(([de,ve])=>B?ve(B):de()),oe.reset()),B}function Be(B,de,ve,xe){const{scrollBehavior:He}=t;if(!aa||!He)return Promise.resolve();const O=!ve&&jz(t0(B.fullPath,0))||(xe||!ve)&&history.state&&history.state.scroll||null;return jr().then(()=>He(B,de,O)).then(I=>I&&Wz(I)).catch(I=>W(I,B,de))}const tt=B=>r.go(B);let Nt;const yn=new Set,fe={currentRoute:l,listening:!0,addRoute:g,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:b,resolve:S,options:t,push:M,replace:A,go:tt,back:()=>tt(-1),forward:()=>tt(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:Z.add,isReady:re,install(B){const de=this;B.component("RouterLink",cE),B.component("RouterView",uE),B.config.globalProperties.$router=de,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>et(l)}),aa&&!Nt&&l.value===as&&(Nt=!0,M(r.location).catch(He=>{}));const ve={};for(const He in as)Object.defineProperty(ve,He,{get:()=>l.value[He],enumerable:!0});B.provide(Tf,de),B.provide(aE,Ux(ve)),B.provide(Om,l);const xe=B.unmount;yn.add(B),B.unmount=function(){yn.delete(B),yn.size<1&&(u=as,U&&U(),U=null,l.value=as,Nt=!1,$=!1),xe()}}};function ie(B){return B.reduce((de,ve)=>de.then(()=>k(ve)),Promise.resolve())}return fe}function y$(t,e){const n=[],i=[],r=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Sa(u,a))?i.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Sa(u,l))||r.push(l))}return[n,i,r]}function dE(){return Lt(Tf)}const Fc=Fg("layout",()=>{const{storage:t}=Lt("utils"),e=Oe(!1),n=Oe(!1),i=Oe(!1),r=Oe(!1),s=Oe(null);function o(){e.value=t.get("hasAiredSidebar",!1)}const a=({title:y,icon:S})=>{s.value={title:y,icon:S||""}},l=()=>{s.value=null},u=()=>n.value=!0,d=()=>n.value=!1,h=()=>i.value=!0,p=()=>i.value=!1,g=()=>{e.value=!e.value,t.set("hasAiredSidebar",e.value)},m=()=>r.value=!0,b=()=>r.value=!1;return o(),{hasAiredSidebar:e,isHoveredSidebar:n,isHoveredBars:i,isCreateWoojActive:r,statusBar:s,setStatusBar:a,unsetStatusBar:l,onOverSidebar:u,onLeaveSidebar:d,onOverBars:h,onLeaveBars:p,onToggleSidebar:g,onActivateCreateWooj:m,onDeactivateCreateWooj:b}}),gt=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},w$={key:1},S$={__name:"Tag",props:rn({type:{type:String,default:"primary"},text:{type:String,default:null},icon:{type:String,default:null},clickable:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=Vi(t,"modelValue"),n=t,i=be(()=>{const s=[n.type];return n.clickable&&s.push("clickable"),e.value&&s.push("checked"),s}),r=()=>{n.clickable&&(e.value=!e.value)};return(s,o)=>(ee(),Ee("span",{class:mt(["ui-tag",i.value]),onClick:r},[n.icon?(ee(),Ee("i",{key:0,class:mt(["ui-tag__icon",["fa-solid",`fa-${n.icon}`]])},null,2)):It("",!0),n.text?(ee(),Ee("span",w$,Qt(n.text),1)):Kn(s.$slots,"default",{key:2},void 0,!0)],2))}},Vg=gt(S$,[["__scopeId","data-v-e43f613b"]]),x$={key:0,class:"ui-link__loader fa-solid fa-spinner"},E$={__name:"Link",props:{type:{type:String,default:"primary"},active:{type:Boolean,default:!1},scalable:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:e}){const n=t,i=e,r=be(()=>{const o=[n.type];return n.loading&&o.push("loading"),n.active&&o.push("active"),n.scalable&&o.push("scalable"),o}),s=()=>!n.loading&&i("click");return(o,a)=>(ee(),Ee("span",{class:mt(["ui-link",r.value]),onClick:s},[n.loading?(ee(),Ee("i",x$)):Kn(o.$slots,"default",{key:1},void 0,!0)],2))}},fE=gt(E$,[["__scopeId","data-v-7604abd5"]]),C$={__name:"Logo",setup(t){const e=dE(),n=()=>e.push({name:"Index"});return(i,r)=>(ee(),Pe(fE,{scalable:!1,onClick:n},{default:xt(()=>r[0]||(r[0]=[he("span",{class:"logo"},"WOOJ",-1)])),_:1,__:[0]}))}},zs=()=>{const t=dE(),e=Bc(),n=u=>{t.push({name:"Wooj",params:{woojId:u.id}})},i=async()=>{const u=await e.createWooj();n(u)},r=async u=>{const d=await e.createTopic(u);t.push({name:"Topic",params:{topicId:d.id}})},s=async u=>{t.push({name:"All"}),await e.deleteTopic(u)},o=u=>{gn(()=>e.isLoaded,()=>e.isLoaded&&u())},a=()=>{f$(()=>{e.isNeedUpdate&&e.fetchAll()}),d$(()=>{e.isNeedUpdate&&e.fetchAll()})},l=be(()=>{var u,d;return{all:{id:"all",title:" ",woojs:e.allWoojs,isLoaded:e.isLoaded,sort:h=>e.sort("all",h),togglePin:e.togglePin,remove:e.remove,edit:n},pinned:{id:"pinned",title:"",woojs:e.pinnedWoojs,isLoaded:e.isLoaded,sort:h=>e.sort("pinned",h),togglePin:e.togglePin,remove:e.remove,edit:n},published:{id:"published",title:"",woojs:e.publishedWoojs,isLoaded:e.isLoaded,sort:h=>e.sort("published",h),togglePin:e.togglePin,remove:e.remove,edit:n},trash:{id:"trash",title:"",woojs:e.removedWoojs,isLoaded:e.isLoaded,restore:e.restore,clearTrash:e.clearTrash},custom:{id:`woojs-${((u=e.activeTopic)==null?void 0:u.id)||"custom"}`,title:((d=e.activeTopic)==null?void 0:d.name)||"",woojs:e.activeWoojs,isLoaded:e.isLoaded,sort:h=>{var p;return e.sort((p=e.activeTopic)==null?void 0:p.id,h)},togglePin:e.togglePin,remove:e.remove,edit:n,update:h=>{var p;return e.updateTopic((p=e.activeTopic)==null?void 0:p.id,h)},delete:()=>{var h;return s((h=e.activeTopic)==null?void 0:h.id)}}}});return{woojStore:e,onLoaded:o,setRouteListeners:a,topicParamsMap:l,createTopic:r,createWooj:i}},T$={__name:"IconLink",props:{icon:String,type:{type:String,default:"primary"},active:{type:Boolean,default:!1},scalable:{type:Boolean,default:!0},mirror:{type:Boolean,default:!1},rotatable:{type:Boolean,default:!1}},setup(t){const e=t,n=be(()=>{const i=["fa-solid",`fa-${e.icon}`];return e.mirror&&i.push("mirror"),e.rotatable&&i.push("rotatable"),i});return(i,r)=>(ee(),Pe(fE,{class:"ui-icon-link",type:e.type,active:e.active,scalable:e.scalable},{default:xt(()=>[he("i",{class:mt(["ui-icon-link__icon",n.value])},null,2)]),_:1},8,["type","active","scalable"]))}},Yr=gt(T$,[["__scopeId","data-v-936332c1"]]),M$={class:"header-bars"},_$={__name:"Bars",setup(t){const e=Fc(),{woojStore:n,createWooj:i}=zs(),r=()=>{e.onOverBars(),e.onOverSidebar()},s=async()=>{await i(),e.onActivateCreateWooj()};return(o,a)=>(ee(),Ee("div",M$,[ge(Yr,{icon:et(e).isHoveredBars?"chevron-left":"bars",mirror:et(e).hasAiredSidebar,onMouseover:r,onMouseleave:et(e).onLeaveBars,onClick:et(e).onToggleSidebar},null,8,["icon","mirror","onMouseleave","onClick"]),ge(Yr,{icon:"plus",active:et(e).isCreateWoojActive,loading:et(n).isCreatingWooj,onClick:s},null,8,["active","loading"])]))}},A$={class:"ui-modal__content-header"},k$={key:0,class:"ui-modal__content-header-title"},O$={class:"ui-modal__content-body"},R$={__name:"Modal",props:rn({title:{type:String,default:""},center:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=Vi(t,"modelValue"),n=t,i=Na("modal"),r=Oe(null),s=be(()=>{const{x:l,y:u}=r.value||{},d=20;return n.center||!l||!u?null:{top:`${u+d}px`,left:`${l+d}px`}});gn(e,l=>{l?jr(()=>document.body.append(i.value)):r.value=null});const o=({x:l,y:u})=>{r.value||(r.value={x:l,y:u})},a=()=>e.value=!1;return(l,u)=>e.value?(ee(),Ee("div",{key:0,class:"ui-modal",onMouseover:o,ref_key:"modal",ref:i},[he("div",{class:"ui-modal__background",onClick:a}),he("div",{class:"ui-modal__content",style:Ao(s.value)},[he("div",A$,[n.title?(ee(),Ee("div",k$,Qt(n.title),1)):It("",!0),ge(Yr,{icon:"xmark",type:"default",onClick:a})]),he("div",O$,[Kn(l.$slots,"default",{},void 0,!0)])],4)],544)):It("",!0)}},bc=gt(R$,[["__scopeId","data-v-e97ab60a"]]),P$=["contenteditable"],I$={__name:"EditableBlock",props:rn({min:{type:Number,default:2},max:{type:Number,default:255},locked:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{},focused:{},focusedModifiers:{}}),emits:rn(["change"],["update:modelValue","update:focused"]),setup(t,{emit:e}){const n=t,i=Vi(t,"modelValue"),r=Vi(t,"focused"),s=e,o=Na("block"),a=Oe(!1),l=p=>{const g=document.createRange(),m=window.getSelection();g.selectNodeContents(p),g.collapse(!1),m.removeAllRanges(),m.addRange(g)},u=p=>{p.target.innerText.length>n.max&&(p.target.innerText=p.target.innerText.substring(0,n.max),l(o.value))},d=()=>a.value=!1,h=p=>{const g=p.target.innerText.length;if(g<n.min||g>n.max){a.value=!0;return}i.value=p.target.innerText,r.value=!1,s("change",i.value)};return gn(()=>r.value,p=>{p&&(o.value.focus(),l(o.value))}),(p,g)=>(ee(),Ee("div",{ref_key:"block",ref:o,class:mt(["ui-editable-block",{editable:!n.locked,error:a.value}]),contenteditable:!n.locked,onKeydown:g[0]||(g[0]=UN(Bg(()=>{},["exact","prevent"]),["enter"])),onInput:u,onFocus:d,onBlur:h},Qt(i.value),43,P$))}},hE=gt(I$,[["__scopeId","data-v-d8103cc1"]]),L$={class:"ui-input"},D$=["type","placeholder","maxlength"],N$={__name:"Input",props:rn({type:{type:String,default:"text"},fieldClass:{type:String,default:""},placeholder:{type:String,default:""},focused:{type:Boolean,default:!1},max:{type:Number,default:255}},{modelValue:{},modelModifiers:{}}),emits:rn(["update","save"],["update:modelValue"]),setup(t,{emit:e}){const n=t,i=Vi(t,"modelValue"),r=e,s=Na("input"),o=Lt("createDeferredTimer")(),a=()=>{r("update",i.value),o.start(1e3,()=>r("save",i.value))};return gr(()=>{n.focused&&s.value.focus()}),(l,u)=>(ee(),Ee("div",L$,[bo(he("input",{ref_key:"input",ref:s,class:mt(["ui-input__field",n.fieldClass]),type:t.type,"onUpdate:modelValue":u[0]||(u[0]=d=>i.value=d),placeholder:n.placeholder,maxlength:n.max,onInput:a},null,42,D$),[[FN,i.value]])]))}},Rm=gt(N$,[["__scopeId","data-v-0f247a0a"]]),z$={class:"ui-password-input"},$$={class:"ui-password-input__wrap"},B$={__name:"PasswordInput",props:rn({placeholder:{type:String,default:""},withChecker:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:rn(["update","save"],["update:modelValue"]),setup(t,{emit:e}){const n=t,i=Vi(t,"modelValue"),r=Oe(!1),s=Oe(null),o=be(()=>r.value?"text":"password"),a=[{type:1,text:"",pattern:/^[a-z-0-9]{1,8}$/},{type:2,text:"",pattern:/^.{1,8}$/},{type:2,text:"",pattern:/^[a-z-0-9]{8,}$/},{type:3,text:"",pattern:/^[A-Za-z--0-9]{8,}$/},{type:3,text:"",pattern:/^.{8,}$/}],l=()=>r.value=!r.value;return gn(()=>i.value,u=>{n.withChecker&&(s.value=a.find(({pattern:d})=>d.test(i.value)))}),(u,d)=>(ee(),Ee("div",z$,[he("div",$$,[ge(Rm,{class:"ui-password-input__field",modelValue:i.value,"onUpdate:modelValue":d[0]||(d[0]=h=>i.value=h),type:o.value,placeholder:n.placeholder},null,8,["modelValue","type","placeholder"]),he("i",{class:mt(["ui-password-input__icon fa-solid",{"fa-eye":!r.value,"fa-eye-slash":r.value}]),onClick:l},null,2)]),n.withChecker&&s.value?(ee(),Ee("div",{key:0,class:mt(["ui-password-input__level",`level-${s.value.type}`])},Qt(s.value.text),3)):It("",!0)]))}},Pm=gt(B$,[["__scopeId","data-v-17dd24cd"]]),F$={},H$={class:"ui-loader"};function W$(t,e){return ee(),Ee("div",H$,e[0]||(e[0]=[JD('<svg class="ui-loader__figure" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-v-10b1e362><circle cx="4" cy="12" r="3" data-v-10b1e362><animate id="spinner_jObz" begin="0;spinner_vwSQ.end-0.25s" attributeName="r" dur="0.75s" values="3;.2;3" data-v-10b1e362></animate></circle><circle cx="12" cy="12" r="3" data-v-10b1e362><animate begin="spinner_jObz.end-0.6s" attributeName="r" dur="0.75s" values="3;.2;3" data-v-10b1e362></animate></circle><circle cx="20" cy="12" r="3" data-v-10b1e362><animate id="spinner_vwSQ" begin="spinner_jObz.end-0.45s" attributeName="r" dur="0.75s" values="3;.2;3" data-v-10b1e362></animate></circle></svg>',1)]))}const V$=gt(F$,[["render",W$],["__scopeId","data-v-10b1e362"]]),j$={class:"ui-button__wrapper"},U$={__name:"Button",props:{text:{type:String},type:{type:String,default:"primary"},icon:{type:String,default:null},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:e}){const n=t,i=e,r=be(()=>{const a=[n.type];return n.loading&&a.push("loading"),n.disabled&&a.push("disabled"),a}),s=be(()=>n.disabled||n.loading),o=()=>!s.value&&i("click");return(a,l)=>(ee(),Ee("button",{class:mt(["ui-button",r.value]),onClick:o},[n.loading?(ee(),Pe(V$,{key:0,class:"ui-button__loader"})):It("",!0),he("span",j$,[n.icon?(ee(),Ee("i",{key:0,class:mt(["ui-button__icon",["fa-solid",`fa-${n.icon}`]])},null,2)):It("",!0),wo(" "+Qt(n.text),1)])],2))}},Fi=gt(U$,[["__scopeId","data-v-1d93ebc8"]]);function g0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g0(Object(n),!0).forEach(function(i){Mi(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g0(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Mi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y$(t,e){if(t==null)return{};var n,i,r=function(o,a){if(o==null)return{};var l,u,d={},h=Object.keys(o);for(u=0;u<h.length;u++)l=h[u],a.indexOf(l)>=0||(d[l]=o[l]);return d}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function So(t){return function(e){if(Array.isArray(e))return kp(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,n){if(e){if(typeof e=="string")return kp(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return kp(e,n)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var v0,X$,Xu,Ot=(v0=function(t){/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var e={}.hasOwnProperty;function n(){for(var i=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&i.push(a)}}else if(o==="object")if(s.toString===Object.prototype.toString)for(var l in s)e.call(s,l)&&s[l]&&i.push(l);else i.push(s.toString())}}return i.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()},v0(Xu={path:X$,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e==null&&Xu.path)}},Xu.exports),Xu.exports),Ii=function(t){return function(e,n){if(!e)return t;var i;typeof e=="string"?i=e:n=e;var r=t;return i&&(r+="__"+i),r+(n?Object.keys(n).reduce(function(s,o){var a=n[o];return a&&(s+=" "+(typeof a=="boolean"?r+"--"+o:r+"--"+o+"_"+a)),s},""):"")}};function Im(t,e,n){var i,r,s,o,a;function l(){var d=Date.now()-o;d<e&&d>=0?i=setTimeout(l,e-d):(i=null,n||(a=t.apply(s,r),s=r=null))}e==null&&(e=100);var u=function(){s=this,r=arguments,o=Date.now();var d=n&&!i;return i||(i=setTimeout(l,e)),d&&(a=t.apply(s,r),s=r=null),a};return u.clear=function(){i&&(clearTimeout(i),i=null)},u.flush=function(){i&&(a=t.apply(s,r),s=r=null,clearTimeout(i),i=null)},u}Im.debounce=Im;var Lm=Im,Le=function(){return Le=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Le.apply(this,arguments)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function pE(t,e){var n,i;return t&&e?(n=""+t+e[0].toUpperCase()+e.slice(1),i=t+"-"+e):(n=t||e,i=t||e),{name:n,classname:i}}function mE(t){return/^blob:/.test(t)}function b0(t){return mE(t)||function(e){return/^data:/.test(e)}(t)}function Jo(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Kt(t){return t===void 0}function vd(t){return typeof t=="object"&&t!==null}function Dm(t,e,n){var i={};return vd(t)?(Object.keys(e).forEach(function(r){Kt(t[r])?i[r]=e[r]:vd(e[r])?vd(t[r])?i[r]=Dm(t[r],e[r],n[r]):i[r]=t[r]?e[r]:n[r]:e[r]===!0||e[r]===!1?i[r]=!!t[r]:i[r]=t[r]}),i):t?e:n}function qu(t){var e=Number(t);return Number.isNaN(e)?t:e}function y0(t){return typeof(t=="number"||function(e){return typeof e=="object"&&e!==null}(t)&&toString.call(t)=="[object Number]")&&!gE(t)}function gE(t){return t!=t}function vE(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}var tc=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.type="manipulateImage",this.move=t,this.scale=e},q$=function(t,e){e===void 0&&(e={}),this.type="resize",this.directions=t,this.params=e},jg=function(t){this.type="move",this.directions=t},G$=function(){function t(e,n,i,r,s){this.type="drag",this.nativeEvent=e,this.position=i,this.previousPosition=r,this.element=n,this.anchor=s}return t.prototype.shift=function(){var e=this,n=e.element,i=e.anchor,r=e.position;if(n){var s=n.getBoundingClientRect(),o=s.left,a=s.top;return{left:r.left-o-i.left,top:r.top-a-i.top}}return{left:0,top:0}},t}(),Ug={name:"DraggableElement",props:{classname:{type:String}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(t){t.cancelable&&!this.disabled&&t.touches.length===1&&(this.touches=So(t.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),t.touches.length&&this.initAnchor(this.touches.reduce(function(e,n){return{clientX:e.clientX+n.clientX/t.touches.length,clientY:e.clientY+n.clientY/t.touches.length}},{clientX:0,clientY:0})),t.preventDefault&&t.preventDefault(),t.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(t){this.touches.length&&(this.processMove(t,t.touches),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation())},onMouseDown:function(t){if(!this.disabled){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.initAnchor(e),t.stopPropagation()}},onMouseMove:function(t){this.touches.length&&(this.processMove(t,[{fake:!0,clientX:t.clientX,clientY:t.clientY}]),t.preventDefault&&t.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(t){var e=this.$refs.draggable.getBoundingClientRect(),n=e.left,i=e.right,r=e.bottom,s=e.top;this.anchor={left:t.clientX-n,top:t.clientY-s,bottom:r-t.clientY,right:i-t.clientX}},processMove:function(t,e){var n=So(e);if(this.touches.length){if(this.touches.length===1&&n.length===1){var i=this.$refs.draggable;this.$emit("drag",new G$(t,i,{left:n[0].clientX,top:n[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=n}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}},emits:["drag","drag-end","leave","enter"]};Ug.render=function(t,e,n,i,r,s){return ee(),Pe("div",{ref:"draggable",class:n.classname,onTouchstart:e[1]||(e[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:e[2]||(e[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)}),onMouseover:e[3]||(e[3]=function(){return s.onMouseOver&&s.onMouseOver.apply(s,arguments)}),onMouseleave:e[4]||(e[4]=function(){return s.onMouseLeave&&s.onMouseLeave.apply(s,arguments)})},[Kn(t.$slots,"default")],34)};var Op=Ii("vue-handler-wrapper"),bE={name:"HandlerWrapper",components:{DraggableElement:Ug},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var t;if(this.horizontalPosition||this.verticalPosition){var e,n=pE(this.horizontalPosition,this.verticalPosition);t=Op((Mi(e={},n.classname,!0),Mi(e,"disabled",this.disabled),e))}else t=Op({disabled:this.disabled});return{root:t,draggable:Op("draggable")}}},emits:["leave","enter","drag","drag-end"]};bE.render=function(t,e,n,i,r,s){var o=di("DraggableElement");return ee(),Pe("div",{class:s.classes.root},[ge(o,{class:s.classes.draggable,onDrag:e[1]||(e[1]=function(a){return t.$emit("drag",a)}),onDragEnd:e[2]||(e[2]=function(a){return t.$emit("drag-end")}),onLeave:e[3]||(e[3]=function(a){return t.$emit("leave")}),onEnter:e[4]||(e[4]=function(a){return t.$emit("enter")})},{default:xt(function(){return[Kn(t.$slots,"default")]}),_:3},8,["class"])],2)};var K$=Ii("vue-line-wrapper"),yE={name:"LineWrapper",components:{DraggableElement:Ug},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var t;return K$((Mi(t={},this.position,!0),Mi(t,"disabled",this.disabled),t))}},emits:["leave","enter","drag","drag-end"]};yE.render=function(t,e,n,i,r,s){var o=di("DraggableElement");return ee(),Pe(o,{class:s.classname,onDrag:e[1]||(e[1]=function(a){return t.$emit("drag",a)}),onDragEnd:e[2]||(e[2]=function(a){return t.$emit("drag-end")}),onLeave:e[3]||(e[3]=function(a){return t.$emit("leave")}),onEnter:e[4]||(e[4]=function(a){return t.$emit("enter")})},{default:xt(function(){return[Kn(t.$slots,"default")]}),_:3},8,["class"])};var or=["left","right","top","bottom"],J$=["left","right"],Z$=["top","bottom"],Q$=["left","top"],eB=["fill-area","fit-area","stencil","none"],w0={left:0,top:0,width:0,height:0};function S0(t,e,n){return!(n=n||["width","height","left","top"]).some(function(i){return t[i]!==e[i]})}function fr(t){return{left:t.left,top:t.top,right:t.left+t.width,bottom:t.top+t.height}}function Ea(t,e){return{left:t.left-e.left,top:t.top-e.top}}function hn(t){return{left:t.left+t.width/2,top:t.top+t.height/2}}function yc(t,e){var n={left:0,top:0,right:0,bottom:0};return or.forEach(function(i){var r=e[i],s=fr(t)[i];n[i]=r!==void 0&&s!==void 0?i==="left"||i==="top"?Math.max(0,r-s):Math.max(0,s-r):0}),n}function sr(t,e){return{left:t.left-e.left,top:t.top-e.top,width:t.width+e.left+e.right,height:t.height+e.top+e.bottom}}function Mf(t){return{left:-t.left,top:-t.top}}function Yn(t,e){return Le(Le({},t),{left:t.left+e.left,top:t.top+e.top})}function Oi(t,e,n,i){if(e!==1){if(n){var r=hn(t);return{width:t.width*e,height:t.height*e,left:t.left+t.width*(1-e)/2+(n.left-r.left)*(1-e),top:t.top+t.height*(1-e)/2+(n.top-r.top)*(1-e)}}return{width:t.width*e,height:t.height*e,left:t.left+t.width*(1-e)/2,top:t.top+t.height*(1-e)/2}}return t}function lt(t){return t.width/t.height}function Ca(t,e){return Math.min(e.right!==void 0&&e.left!==void 0?(e.right-e.left)/t.width:1/0,e.bottom!==void 0&&e.top!==void 0?(e.bottom-e.top)/t.height:1/0)}function Ta(t,e){var n={left:0,top:0},i=yc(t,e);return i.left&&i.left>0?n.left=i.left:i.right&&i.right>0&&(n.left=-i.right),i.top&&i.top>0?n.top=i.top:i.bottom&&i.bottom>0&&(n.top=-i.bottom),n}function Rp(t,e){var n;return e.minimum&&t<e.minimum?n=e.minimum:e.maximum&&t>e.maximum&&(n=e.maximum),n}function wE(t,e){var n=lt(t),i=lt(e);return e.width<1/0&&e.height<1/0?n>i?{width:e.width,height:e.width/n}:{width:e.height*n,height:e.height}:e.width<1/0?{width:e.width,height:e.width/n}:e.height<1/0?{width:e.height*n,height:e.height}:t}function SE(t,e){var n=e*Math.PI/180;return{width:Math.abs(t.width*Math.cos(n))+Math.abs(t.height*Math.sin(n)),height:Math.abs(t.width*Math.sin(n))+Math.abs(t.height*Math.cos(n))}}function ys(t,e){var n=e*Math.PI/180;return{left:t.left*Math.cos(n)-t.top*Math.sin(n),top:t.left*Math.sin(n)+t.top*Math.cos(n)}}function _f(t,e){var n=yc(pn(t,e),e);return n.left+n.right+n.top+n.bottom?n.left+n.right>n.top+n.bottom?Math.min((t.width+n.left+n.right)/t.width,Ca(t,e)):Math.min((t.height+n.top+n.bottom)/t.height,Ca(t,e)):1}function pn(t,e,n){n===void 0&&(n=!1);var i=Ta(t,e);return Yn(t,n?Mf(i):i)}function Nm(t){return{width:t.right!==void 0&&t.left!==void 0?t.right-t.left:1/0,height:t.bottom!==void 0&&t.top!==void 0?t.bottom-t.top:1/0}}function tB(t,e){return Le(Le({},t),{minWidth:Math.min(e.width,t.minWidth),minHeight:Math.min(e.height,t.minHeight),maxWidth:Math.min(e.width,t.maxWidth),maxHeight:Math.min(e.height,t.maxHeight)})}function xE(t,e,n){n===void 0&&(n=!0);var i={};return or.forEach(function(r){var s=t[r],o=e[r];s!==void 0&&o!==void 0?i[r]=r==="left"||r==="top"?n?Math.max(s,o):Math.min(s,o):n?Math.min(s,o):Math.max(s,o):o!==void 0?i[r]=o:s!==void 0&&(i[r]=s)}),i}function Af(t,e){return xE(t,e,!0)}function x0(t){var e=t.size,n=t.aspectRatio,i=t.ignoreMinimum,r=t.sizeRestrictions;return!!((e.correctRatio||lt(e)>=n.minimum&&lt(e)<=n.maximum)&&e.height<=r.maxHeight&&e.width<=r.maxWidth&&e.width&&e.height&&(i||e.height>=r.minHeight&&e.width>=r.minWidth))}function E0(t,e){return Math.pow(t.width-e.width,2)+Math.pow(t.height-e.height,2)}function $r(t){var e=t.width,n=t.height,i=t.sizeRestrictions,r={minimum:t.aspectRatio&&t.aspectRatio.minimum||0,maximum:t.aspectRatio&&t.aspectRatio.maximum||1/0},s={width:Math.max(i.minWidth,Math.min(i.maxWidth,e)),height:Math.max(i.minHeight,Math.min(i.maxHeight,n))};function o(u,d){return d===void 0&&(d=!1),u.reduce(function(h,p){return x0({size:p,aspectRatio:r,sizeRestrictions:i,ignoreMinimum:d})&&(!h||E0(p,{width:e,height:n})<E0(h,{width:e,height:n}))?p:h},null)}var a=[];r&&[r.minimum,r.maximum].forEach(function(u){u&&a.push({width:s.width,height:s.width/u,correctRatio:!0},{width:s.height*u,height:s.height,correctRatio:!0})}),x0({size:s,aspectRatio:r,sizeRestrictions:i})&&a.push(s);var l=o(a)||o(a,!0);return l&&{width:l.width,height:l.height}}function zm(t){var e=t.event,n=t.coordinates,i=t.positionRestrictions,r=i===void 0?{}:i,s=Yn(n,e.directions);return Yn(s,Ta(s,r))}function nB(t){var e=t.coordinates,n=t.transform,i=t.imageSize,r=t.sizeRestrictions,s=t.positionRestrictions,o=t.aspectRatio,a=t.visibleArea,l=function(d,h){return zm({coordinates:d,positionRestrictions:s,event:new jg({left:h.left-d.left,top:h.top-d.top})})},u=Le({},e);return(Array.isArray(n)?n:[n]).forEach(function(d){var h={};Kt((h=typeof d=="function"?d({coordinates:u,imageSize:i,visibleArea:a}):d).width)&&Kt(h.height)||(u=function(p,g){var m=Le(Le(Le({},p),$r({width:g.width,height:g.height,sizeRestrictions:r,aspectRatio:o})),{left:0,top:0});return l(m,{left:p.left,top:p.top})}(u,Le(Le({},u),h))),Kt(h.left)&&Kt(h.top)||(u=l(u,Le(Le({},u),h)))}),u}function iB(t){t.event;var e=t.getAreaRestrictions,n=t.boundaries,i=t.coordinates,r=t.visibleArea;t.aspectRatio;var s=t.stencilSize,o=t.sizeRestrictions,a=t.positionRestrictions;t.stencilReference;var l,u,d,h=Le({},i),p=Le({},r),g=Le({},s);l=lt(g),u=lt(h),d===void 0&&(d=.001),(l===0||u===0?Math.abs(u-l)<d:Math.abs(u/l)<1+d&&Math.abs(u/l)>1-d)||(h=Le(Le({},h),$r({sizeRestrictions:o,width:h.width,height:h.height,aspectRatio:{minimum:lt(g),maximum:lt(g)}})));var m=_f(p=Oi(p,h.width*n.width/(p.width*g.width)),e({visibleArea:p,type:"resize"}));return m!==1&&(p=Oi(p,m),h=Oi(h,m)),p=pn(p=Yn(p,Ea(hn(h),hn(p))),e({visibleArea:p,type:"move"})),{coordinates:h=pn(h,Af(fr(p),a)),visibleArea:p}}function rB(t){var e=t.event,n=t.getAreaRestrictions,i=t.boundaries,r=t.coordinates,s=t.visibleArea;t.aspectRatio,t.stencilSize,t.sizeRestrictions;var o=t.positionRestrictions;t.stencilReference;var a=Le({},r),l=Le({},s);if(r&&s&&e.type!=="manipulateImage"){var u={width:0,height:0};l.width,i.width,lt(i)>lt(a)?(u.height=.8*i.height,u.width=u.height*lt(a)):(u.width=.8*i.width,u.height=u.width*lt(a));var d=_f(l=Oi(l,a.width*i.width/(l.width*u.width)),n({visibleArea:l,type:"resize"}));l=Oi(l,d),d!==1&&(u.height/=d,u.width/=d),l=pn(l=Yn(l,Ea(hn(a),hn(l))),n({visibleArea:l,type:"move"})),a=pn(a,Af(fr(l),o))}return{coordinates:a,visibleArea:l}}function sB(t){var e=t.event,n=t.coordinates,i=t.visibleArea,r=t.getAreaRestrictions,s=Le({},i),o=Le({},n);if(e.type==="setCoordinates"){var a=Math.max(0,o.width-s.width),l=Math.max(0,o.height-s.height);a>l?s=Oi(s,Math.min(o.width/s.width,Ca(s,r({visibleArea:s,type:"resize"})))):l>a&&(s=Oi(s,Math.min(o.height/s.height,Ca(s,r({visibleArea:s,type:"resize"}))))),s=pn(s=Yn(s,Mf(Ta(o,fr(s)))),r({visibleArea:s,type:"move"}))}return{visibleArea:s,coordinates:o}}function oB(t){var e=t.imageSize,n=t.visibleArea,i=t.coordinates,r=n||e;return{left:(n?n.left:0)+r.width/2-i.width/2,top:(n?n.top:0)+r.height/2-i.height/2}}function aB(t){var e=t.imageSize,n=t.visibleArea,i=t.aspectRatio,r=t.sizeRestrictions,s=n||e,o=Math.min(i.maximum||1/0,Math.max(i.minimum||0,lt(s))),a=s.width<s.height?{width:.8*s.width,height:.8*s.width/o}:{height:.8*s.height,width:.8*s.height*o};return $r(Le(Le({},a),{aspectRatio:i,sizeRestrictions:r}))}function lB(t){var e,n,i=t.imageSize,r=t.visibleArea,s=t.boundaries,o=t.aspectRatio,a=t.sizeRestrictions,l=t.stencilSize,u=r||i;return lt(u)>lt(s)?n=(e=l.height*u.height/s.height)*lt(l):e=(n=l.width*u.width/s.width)/lt(l),$r({width:n,height:e,aspectRatio:o,sizeRestrictions:a})}function cB(t){var e=t.getAreaRestrictions,n=t.coordinates,i=t.imageSize,r=lt(t.boundaries);if(n){var s={height:Math.max(n.height,i.height),width:Math.max(n.width,i.width)},o=wE({width:lt(s)>r?s.width:s.height*r,height:lt(s)>r?s.width/r:s.height},Nm(e())),a={left:n.left+n.width/2-o.width/2,top:n.top+n.height/2-o.height/2,width:o.width,height:o.height},l=yc(n,fr(Le({left:0,top:0},i))),u={};return!l.left&&!l.right&&a.width<=i.width&&(u.left=0,u.right=i.width),!l.top&&!l.bottom&&a.height<=i.height&&(u.top=0,u.bottom=i.height),pn(a,u)}var d=lt(i);return o={height:d>r?i.height:i.width/r,width:d>r?i.height*r:i.width},{left:i.width/2-o.width/2,top:i.height/2-o.height/2,width:o.width,height:o.height}}function Gu(t,e){return xE(t,fr(e))}function uB(t){var e=t.event,n=t.coordinates,i=t.visibleArea,r=t.sizeRestrictions,s=t.getAreaRestrictions,o=t.positionRestrictions,a=t.adjustStencil,l=e.scale,u=e.move,d=Le({},i),h=Le({},n),p=1,g=1,m=l.factor&&Math.abs(l.factor-1)>.001;d=Yn(d,{left:u.left||0,top:u.top||0});var b={stencil:{minimum:Math.max(r.minWidth?r.minWidth/h.width:0,r.minHeight?r.minHeight/h.height:0),maximum:Math.min(r.maxWidth?r.maxWidth/h.width:1/0,r.maxHeight?r.maxHeight/h.height:1/0,Ca(h,o))},area:{maximum:Ca(d,s({visibleArea:d,type:"resize"}))}};l.factor&&m&&(l.factor<1?(g=Math.max(l.factor,b.stencil.minimum))>1&&(g=1):l.factor>1&&(g=Math.min(l.factor,Math.min(b.area.maximum,b.stencil.maximum)))<1&&(g=1)),g&&(d=Oi(d,g,l.center));var y=n.left-i.left,S=i.width+i.left-(n.width+n.left),x=n.top-i.top,E=i.height+i.top-(n.height+n.top);return d=pn(d=Yn(d,Ta(d,{left:o.left!==void 0?o.left-y*g:void 0,top:o.top!==void 0?o.top-x*g:void 0,bottom:o.bottom!==void 0?o.bottom+E*g:void 0,right:o.right!==void 0?o.right+S*g:void 0})),s({visibleArea:d,type:"move"})),h.width=h.width*g,h.height=h.height*g,h.left=d.left+y*g,h.top=d.top+x*g,h=pn(h,Af(fr(d),o)),l.factor&&m&&a&&(l.factor>1?p=Math.min(b.area.maximum,l.factor)/g:l.factor<1&&(p=Math.max(h.height/d.height,h.width/d.width,l.factor/g)),p!==1&&(d=Yn(d=pn(d=Oi(d,p,l.factor>1?l.center:hn(h)),s({visibleArea:d,type:"move"})),Mf(Ta(h,fr(d)))))),{coordinates:h,visibleArea:d}}function dB(t){var e=t.aspectRatio,n=t.getAreaRestrictions,i=t.coordinates,r=t.visibleArea,s=t.sizeRestrictions,o=t.positionRestrictions,a=t.imageSize,l=t.previousImageSize,u=t.angle,d=Le({},i),h=Le({},r),p=ys(hn(Le({left:0,top:0},l)),u);return(d=Le(Le({},$r({sizeRestrictions:s,aspectRatio:e,width:d.width,height:d.height})),ys(hn(d),u))).left-=p.left-a.width/2+d.width/2,d.top-=p.top-a.height/2+d.height/2,h=Oi(h,_f(h,n({visibleArea:h,type:"resize"}))),{coordinates:d=pn(d,o),visibleArea:h=pn(h=Yn(h,Ea(hn(d),hn(i))),n({visibleArea:h,type:"move"}))}}function fB(t){var e=t.flip,n=t.previousFlip,i=t.rotate,r=t.getAreaRestrictions,s=t.coordinates,o=t.visibleArea,a=t.imageSize,l=Le({},s),u=Le({},o),d=n.horizontal!==e.horizontal,h=n.vertical!==e.vertical;if(d||h){var p=ys({left:a.width/2,top:a.height/2},-i),g=ys(hn(l),-i),m=ys({left:d?p.left-(g.left-p.left):g.left,top:h?p.top-(g.top-p.top):g.top},i);l=Yn(l,Ea(m,hn(l))),g=ys(hn(u),-i),u=pn(u=Yn(u,Ea(m=ys({left:d?p.left-(g.left-p.left):g.left,top:h?p.top-(g.top-p.top):g.top},i),hn(u))),r({visibleArea:u,type:"move"}))}return{coordinates:l,visibleArea:u}}function C0(t){var e=t.directions,n=t.coordinates,i=t.positionRestrictions,r=i===void 0?{}:i,s=t.sizeRestrictions,o=t.preserveRatio,a=t.compensate,l=Le({},e),u=sr(n,l).width,d=sr(n,l).height;u<0&&(l.left<0&&l.right<0?(l.left=-(n.width-s.minWidth)/(l.left/l.right),l.right=-(n.width-s.minWidth)/(l.right/l.left)):l.left<0?l.left=-(n.width-s.minWidth):l.right<0&&(l.right=-(n.width-s.minWidth))),d<0&&(l.top<0&&l.bottom<0?(l.top=-(n.height-s.minHeight)/(l.top/l.bottom),l.bottom=-(n.height-s.minHeight)/(l.bottom/l.top)):l.top<0?l.top=-(n.height-s.minHeight):l.bottom<0&&(l.bottom=-(n.height-s.minHeight)));var h=yc(sr(n,l),r);a&&(h.left&&h.left>0&&h.right===0?(l.right+=h.left,l.left-=h.left):h.right&&h.right>0&&h.left===0&&(l.left+=h.right,l.right-=h.right),h.top&&h.top>0&&h.bottom===0?(l.bottom+=h.top,l.top-=h.top):h.bottom&&h.bottom>0&&h.top===0&&(l.top+=h.bottom,l.bottom-=h.bottom),h=yc(sr(n,l),r));var p={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(or.forEach(function(b){var y=h[b];y&&l[b]&&(p[b]=Math.max(0,1-y/l[b]))}),o){var g=Math.min.apply(null,or.map(function(b){return p[b]}));g!==1/0&&or.forEach(function(b){l[b]*=g})}else or.forEach(function(b){p[b]!==1/0&&(l[b]*=p[b])});if(u=sr(n,l).width,d=sr(n,l).height,l.right+l.left&&(u>s.maxWidth?p.width=(s.maxWidth-n.width)/(l.right+l.left):u<s.minWidth&&(p.width=(s.minWidth-n.width)/(l.right+l.left))),l.bottom+l.top&&(d>s.maxHeight?p.height=(s.maxHeight-n.height)/(l.bottom+l.top):d<s.minHeight&&(p.height=(s.minHeight-n.height)/(l.bottom+l.top))),o){var m=Math.min(p.width,p.height);m!==1/0&&or.forEach(function(b){l[b]*=m})}else p.width!==1/0&&J$.forEach(function(b){l[b]*=p.width}),p.height!==1/0&&Z$.forEach(function(b){l[b]*=p.height});return l}function Ku(t,e,n){return e==0&&n==0?t/2:e==0?0:n==0?t:t*Math.abs(e/(e+n))}var hB=Ii("vue-simple-handler"),pB=Ii("vue-simple-handler-wrapper"),kf={name:"SimpleHandler",components:{HandlerWrapper:bE},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var t,e=(Mi(t={},this.horizontalPosition,!!this.horizontalPosition),Mi(t,this.verticalPosition,!!this.verticalPosition),Mi(t,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),!!(this.verticalPosition&&this.horizontalPosition)),Mi(t,"hover",this.hover),t);return{default:Ot(hB(e),this.defaultClass,this.hover&&this.hoverClass),wrapper:Ot(pB(e),this.wrapperClass)}}},methods:{onDrag:function(t){this.$emit("drag",t)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};kf.render=function(t,e,n,i,r,s){var o=di("HandlerWrapper");return ee(),Pe(o,{class:s.classes.wrapper,"vertical-position":n.verticalPosition,"horizontal-position":n.horizontalPosition,disabled:n.disabled,onDrag:s.onDrag,onDragEnd:s.onDragEnd,onEnter:s.onEnter,onLeave:s.onLeave},{default:xt(function(){return[ge("div",{class:s.classes.default},null,2)]}),_:1},8,["class","vertical-position","horizontal-position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var mB=Ii("vue-simple-line"),gB=Ii("vue-simple-line-wrapper"),Of={name:"SimpleLine",components:{LineWrapper:yE},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:Ot(mB(Mi({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:Ot(gB(Mi({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(t){this.$emit("drag",t)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};Of.render=function(t,e,n,i,r,s){var o=di("LineWrapper");return ee(),Pe(o,{class:s.classes.wrapper,position:n.position,disabled:n.disabled,onDrag:s.onDrag,onDragEnd:s.onDragEnd,onEnter:s.onEnter,onLeave:s.onLeave},{default:xt(function(){return[ge("div",{class:s.classes.root},null,2)]}),_:1},8,["class","position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var Pp=Ii("vue-bounding-box"),vB=["east","west",null],bB=["south","north",null],Yg={name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return kf}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return Of}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var t=[];return vB.forEach(function(e){bB.forEach(function(n){if(e!==n){var i=pE(e,n),r=i.name,s=i.classname;t.push({name:r,classname:s,verticalDirection:n,horizontalDirection:e})}})}),{points:t}},computed:{style:function(){var t={};return this.width&&this.height&&(t.width="".concat(this.width,"px"),t.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),t},classes:function(){var t=this.handlersClasses,e=this.handlersWrappersClasses,n=this.linesClasses,i=this.linesWrappersClasses;return{root:Pp(),handlers:t,handlersWrappers:e,lines:n,linesWrappers:i}},lineNodes:function(){var t=this,e=[];return this.points.forEach(function(n){n.horizontalDirection&&n.verticalDirection||!t.lines[n.name]||e.push({name:n.name,component:t.linesComponent,class:Ot(t.classes.lines.default,t.classes.lines[n.name],!t.resizable&&t.classes.lines.disabled),wrapperClass:Ot(t.classes.linesWrappers.default,t.classes.linesWrappers[n.name],!t.resizable&&t.classes.linesWrappers.disabled),hoverClass:t.classes.lines.hover,verticalDirection:n.verticalDirection,horizontalDirection:n.horizontalDirection,disabled:!t.resizable})}),e},handlerNodes:function(){var t=this,e=[],n=this.width,i=this.height;return this.points.forEach(function(r){if(t.handlers[r.name]){var s={name:r.name,component:t.handlersComponent,class:Ot(t.classes.handlers.default,t.classes.handlers[r.name]),wrapperClass:Ot(t.classes.handlersWrappers.default,t.classes.handlersWrappers[r.name]),hoverClass:t.classes.handlers.hover,verticalDirection:r.verticalDirection,horizontalDirection:r.horizontalDirection,disabled:!t.resizable};if(n&&i){var o=r.horizontalDirection,a=r.verticalDirection,l=o==="east"?n:o==="west"?0:n/2,u=a==="south"?i:a==="north"?0:i/2;s.wrapperClass=Pp("handler"),s.wrapperStyle={transform:"translate(".concat(l,"px, ").concat(u,"px)")},t.transitions&&t.transitions.enabled&&(s.wrapperStyle.transition="".concat(t.transitions.time,"ms ").concat(t.transitions.timingFunction))}else s.wrapperClass=Pp("handler",Mi({},r.classname,!0));e.push(s)}}),e}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(t,e,n){var i,r=t.shift(),s=r.left,o=r.top,a={left:0,right:0,top:0,bottom:0};e==="west"?a.left-=s:e==="east"&&(a.right+=s),n==="north"?a.top-=o:n==="south"&&(a.bottom+=o),!n&&e?i="width":n&&!e&&(i="height"),this.resizable&&this.$emit("resize",new q$(a,{allowedDirections:{left:e==="west"||!e,right:e==="east"||!e,bottom:n==="south"||!n,top:n==="north"||!n},preserveAspectRatio:t.nativeEvent&&t.nativeEvent.shiftKey,respectDirection:i}))}},emits:["resize","resize-end"]};Yg.render=function(t,e,n,i,r,s){return ee(),Pe("div",{ref:"box",class:s.classes.root,style:s.style},[Kn(t.$slots,"default"),ge("div",null,[(ee(!0),Pe(Pt,null,Is(s.lineNodes,function(o){return ee(),Pe(dc(o.component),{key:o.name,"default-class":o.class,"hover-class":o.hoverClass,"wrapper-class":o.wrapperClass,position:o.name,disabled:o.disabled,onDrag:function(a){return s.onHandlerDrag(a,o.horizontalDirection,o.verticalDirection)},onDragEnd:e[1]||(e[1]=function(a){return s.onEnd()})},null,8,["default-class","hover-class","wrapper-class","position","disabled","onDrag"])}),128))]),(ee(!0),Pe(Pt,null,Is(s.handlerNodes,function(o){return ee(),Pe("div",{key:o.name,style:o.wrapperStyle,class:o.wrapperClass},[(ee(),Pe(dc(o.component),{"default-class":o.class,"hover-class":o.hoverClass,"wrapper-class":o.wrapperClass,"horizontal-position":o.horizontalDirection,"vertical-position":o.verticalDirection,disabled:o.disabled,onDrag:function(a){return s.onHandlerDrag(a,o.horizontalDirection,o.verticalDirection)},onDragEnd:e[2]||(e[2]=function(a){return s.onEnd()})},null,8,["default-class","hover-class","wrapper-class","horizontal-position","vertical-position","disabled","onDrag"]))],6)}),128))],6)};var yB=Ii("vue-draggable-area"),Xg={name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:yB()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(t){if(t.cancelable){var e=this.movable&&t.touches.length===1;e&&(this.touches=So(t.touches)),(this.touchStarted||e)&&(t.preventDefault(),t.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(t){this.touches.length>=1&&(this.touchStarted?(this.processMove(t,t.touches),t.preventDefault(),t.stopPropagation()):vE({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:t.touches[0].clientX,y:t.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(t){if(this.movable&&t.button===0){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.initAnchor(e),t.stopPropagation()}},onMouseMove:function(t){this.touches.length&&(this.processMove(t,[{fake:!0,clientX:t.clientX,clientY:t.clientY}]),t.preventDefault&&t.cancelable&&t.preventDefault(),t.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(t){var e=this.$refs.container.getBoundingClientRect(),n=e.left,i=e.top;this.anchor={x:t.clientX-n,y:t.clientY-i}},processMove:function(t,e){var n=So(e);if(this.touches.length){var i=this.$refs.container.getBoundingClientRect(),r=i.left,s=i.top;this.touches.length===1&&n.length===1&&this.$emit("move",new jg({left:n[0].clientX-(r+this.anchor.x),top:n[0].clientY-(s+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}},emits:["move","move-end"]};Xg.render=function(t,e,n,i,r,s){return ee(),Pe("div",{ref:"container",onTouchstart:e[1]||(e[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:e[2]||(e[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)})},[Kn(t.$slots,"default")],544)};function Ip(t){var e,n;return{rotate:t.rotate||0,flip:{horizontal:((e=t==null?void 0:t.flip)===null||e===void 0?void 0:e.horizontal)||!1,vertical:((n=t==null?void 0:t.flip)===null||n===void 0?void 0:n.vertical)||!1}}}function wB(t){return new Promise(function(e,n){try{if(t)if(/^data:/i.test(t))e(function(l){l=l.replace(/^data:([^;]+);base64,/gim,"");for(var u=atob(l),d=u.length,h=new ArrayBuffer(d),p=new Uint8Array(h),g=0;g<d;g++)p[g]=u.charCodeAt(g);return h}(t));else if(/^blob:/i.test(t)){var i=new FileReader;i.onload=function(l){e(l.target.result)},s=t,o=function(l){i.readAsArrayBuffer(l)},(a=new XMLHttpRequest).open("GET",s,!0),a.responseType="blob",a.onload=function(){this.status!=200&&this.status!==0||o(this.response)},a.send()}else{var r=new XMLHttpRequest;r.onreadystatechange=function(){r.readyState===4&&(r.status===200||r.status===0?e(r.response):n("Warning: could not load an image to parse its orientation"),r=null)},r.onprogress=function(){r.getResponseHeader("content-type")!=="image/jpeg"&&r.abort()},r.withCredentials=!1,r.open("GET",t,!0),r.responseType="arraybuffer",r.send(null)}else n("Error: the image is empty")}catch(l){n(l)}var s,o,a})}function EE(t){var e=t.rotate,n=t.flip,i=t.scaleX,r=t.scaleY,s="";return s+=" rotate("+e+"deg) ",s+=" scaleX("+i*(n.horizontal?-1:1)+") ",s+=" scaleY("+r*(n.vertical?-1:1)+") "}function SB(t){try{var e,n=new DataView(t),i=void 0,r=void 0,s=void 0,o=void 0;if(n.getUint8(0)===255&&n.getUint8(1)===216)for(var a=n.byteLength,l=2;l+1<a;){if(n.getUint8(l)===255&&n.getUint8(l+1)===225){s=l;break}l++}if(s&&(i=s+10,function(g,m,b){var y,S="";for(y=m,b+=m;y<b;y++)S+=String.fromCharCode(g.getUint8(y));return S}(n,s+4,4)==="Exif")){var u=n.getUint16(i);if(((r=u===18761)||u===19789)&&n.getUint16(i+2,r)===42){var d=n.getUint32(i+4,r);d>=8&&(o=i+d)}}if(o){for(var h=n.getUint16(o,r),p=0;p<h;p++)if(l=o+12*p+2,n.getUint16(l,r)===274){l+=8,e=n.getUint16(l,r),n.setUint16(l,1,r);break}}return e}catch{return null}}function T0(t,e){var n=e.getBoundingClientRect(),i=n.left,r=n.top,s={left:0,top:0},o=0;return t.forEach(function(a){s.left+=(a.clientX-i)/t.length,s.top+=(a.clientY-r)/t.length}),t.forEach(function(a){o+=vE({x:s.left,y:s.top},{x:a.clientX-i,y:a.clientY-r})}),{centerMass:s,spread:o,count:t.length}}var CE={props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=Lm(this.processEnd),this.touches=[]},methods:{processMove:function(t,e){if(this.touches.length){if(this.touches.length===1&&e.length===1)this.$emit("move",new tc({left:this.touches[0].clientX-e[0].clientX,top:this.touches[0].clientY-e[0].clientY}));else if(this.touches.length>1&&this.touchResize){var n=T0(e,this.$refs.container),i=this.oldGeometricProperties;i.count===n.count&&i.count>1&&this.$emit("resize",new tc({left:i.centerMass.left-n.centerMass.left,top:i.centerMass.top-n.centerMass.top},{factor:i.spread/n.spread,center:n.centerMass})),this.oldGeometricProperties=n}this.touches=e}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(t){return this.eventsFilter?this.eventsFilter(t,this.transforming)!==!1:(t.preventDefault(),t.stopPropagation(),!0)},onTouchStart:function(t){if(t.cancelable&&(this.touchMove||this.touchResize&&t.touches.length>1)&&this.processEvent(t)){var e=this.$refs.container,n=e.getBoundingClientRect(),i=n.left,r=n.top,s=n.bottom,o=n.right;this.touches=So(t.touches).filter(function(a){return a.clientX>i&&a.clientX<o&&a.clientY>r&&a.clientY<s}),this.oldGeometricProperties=T0(this.touches,e)}},onTouchEnd:function(t){t.touches.length===0&&(this.touches=[],this.processEnd())},onTouchMove:function(t){var e=this;if(this.touches.length){var n=So(t.touches).filter(function(i){return!i.identifier||e.touches.find(function(r){return r.identifier===i.identifier})});this.processEvent(t)&&(this.processMove(t,n),this.processStart())}},onMouseDown:function(t){if(this.mouseMove&&"buttons"in t&&t.buttons===1&&this.processEvent(t)){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.processStart()}},onMouseMove:function(t){this.touches.length&&this.processEvent(t)&&this.processMove(t,[{clientX:t.clientX,clientY:t.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(t){if(this.wheelResize&&this.processEvent(t)){var e=this.$refs.container.getBoundingClientRect(),n=e.left,i=e.top,r=1+this.wheelResize.ratio*(o=t.deltaY||t.detail||t.wheelDelta,(a=+o)==0||gE(a)?a:a>0?1:-1),s={left:t.clientX-n,top:t.clientY-i};this.$emit("resize",new tc({},{factor:r,center:s})),this.touches.length||this.debouncedProcessEnd()}var o,a}},emits:["resize","move","transform-end"]};CE.render=function(t,e,n,i,r,s){return ee(),Pe("div",{ref:"container",onTouchstart:e[1]||(e[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:e[2]||(e[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)}),onWheel:e[3]||(e[3]=function(){return s.onWheel&&s.onWheel.apply(s,arguments)})},[Kn(t.$slots,"default")],544)};var $m={components:{TransformableImage:CE},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}},emits:["resize","move"]};$m.render=function(t,e,n,i,r,s){var o=di("transformable-image");return ee(),Pe(o,{"touch-move":n.touchMove,"touch-resize":n.touchResize,"mouse-move":n.mouseMove,"wheel-resize":n.wheelResize,onMove:e[1]||(e[1]=function(a){return t.$emit("move",a)}),onResize:e[2]||(e[2]=function(a){return t.$emit("resize",a)})},{default:xt(function(){return[Kn(t.$slots,"default")]}),_:3},8,["touch-move","touch-resize","mouse-move","wheel-resize"])};var Ju=Ii("vue-preview"),TE={props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:Ju({fill:this.fill}),wrapper:Ju("wrapper"),imageWrapper:Ju("image-wrapper"),image:Ot(Ju("image"),this.imageClass)}},style:function(){if(this.fill)return{};var t={};return this.width&&(t.width="".concat(this.size.width,"px")),this.height&&(t.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},wrapperStyle:function(){var t={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},imageStyle:function(){if(this.coordinates&&this.image){var t=this.coordinates.width/this.size.width,e=at(at({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/t,scaleY:1/t}),n=this.imageSize.width,i=this.imageSize.height,r=SE({width:n,height:i},e.rotate),s={width:"".concat(n,"px"),height:"".concat(i,"px"),left:"0px",top:"0px"},o={rotate:{left:(n-r.width)*e.scaleX/2,top:(i-r.height)*e.scaleY/2},scale:{left:(1-e.scaleX)*n/2,top:(1-e.scaleY)*i/2}};return s.transform=`translate(
				`.concat(-this.coordinates.left/t-o.rotate.left-o.scale.left,"px,").concat(-this.coordinates.top/t-o.rotate.top-o.scale.top,"px) ")+EE(e),this.transitions&&this.transitions.enabled&&(s.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),s}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(t){(t.width||t.height)&&this.onChangeImage()}},mounted:function(){var t=this;this.onChangeImage(),this.$refs.image.addEventListener("load",function(){t.refreshImage()}),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var t=this.$refs.image;this.calculatedImageSize.height=t.naturalHeight,this.calculatedImageSize.width=t.naturalWidth},refresh:function(){var t=this.$refs.root;this.width||(this.calculatedSize.width=t.clientWidth),this.height||(this.calculatedSize.height=t.clientHeight)},onChangeImage:function(){var t=this.$refs.image;t&&t.complete&&this.refreshImage(),this.refresh()}}};TE.render=function(t,e,n,i,r,s){return ee(),Pe("div",{ref:"root",class:s.classes.root,style:s.style},[ge("div",{ref:"wrapper",class:s.classes.wrapper,style:s.wrapperStyle},[bo(ge("img",{ref:"image",src:n.image&&n.image.src,class:s.classes.image,style:s.imageStyle},null,14,["src"]),[[mc,n.image&&n.image.src]])],6)],6)};var qg={components:{Preview:TE},inheritAttrs:!1};qg.render=function(t,e,n,i,r,s){var o=di("preview");return ee(),Pe(o,zg(t.$attrs,{fill:!0}),null,16)};var Lp=Ii("vue-rectangle-stencil"),ME={name:"RectangleStencil",components:{StencilPreview:qg,BoundingBox:Yg,DraggableArea:Xg},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return kf}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return Of}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:Ot(Lp({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:Ot(Lp("preview"),this.previewClass),boundingBox:Ot(Lp("bounding-box"),this.boundingBoxClass)}},style:function(){var t=this.stencilCoordinates,e=t.height,n=t.width,i=t.left,r=t.top,s={width:"".concat(n,"px"),height:"".concat(e,"px"),transform:"translate(".concat(i,"px, ").concat(r,"px)")};return this.transitions&&this.transitions.enabled&&(s.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),s}},methods:{onMove:function(t){this.$emit("move",t),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(t){this.$emit("resize",t),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}},emits:["resize","resize-end","move","move-end"]};ME.render=function(t,e,n,i,r,s){var o=di("stencil-preview"),a=di("draggable-area"),l=di("bounding-box");return ee(),Pe("div",{class:s.classes.stencil,style:s.style},[ge(l,{width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,transitions:n.transitions,class:s.classes.boundingBox,handlers:n.handlers,"handlers-component":n.handlersComponent,"handlers-classes":n.handlersClasses,"handlers-wrappers-classes":n.handlersWrappersClasses,lines:n.lines,"lines-component":n.linesComponent,"lines-classes":n.linesClasses,"lines-wrappers-classes":n.linesWrappersClasses,resizable:n.resizable,onResize:s.onResize,onResizeEnd:s.onResizeEnd},{default:xt(function(){return[ge(a,{movable:n.movable,onMove:s.onMove,onMoveEnd:s.onMoveEnd},{default:xt(function(){return[ge(o,{image:n.image,coordinates:n.coordinates,width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,class:s.classes.preview,transitions:n.transitions},null,8,["image","coordinates","width","height","class","transitions"])]}),_:1},8,["movable","onMove","onMoveEnd"])]}),_:1},8,["width","height","transitions","class","handlers","handlers-component","handlers-classes","handlers-wrappers-classes","lines","lines-component","lines-classes","lines-wrappers-classes","resizable","onResize","onResizeEnd"])],6)};var Dp=Ii("vue-circle-stencil"),_E={components:{StencilPreview:qg,BoundingBox:Yg,DraggableArea:Xg},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,westNorth:!0,westSouth:!0,eastSouth:!0}}},handlersComponent:{type:[Object,String],default:function(){return kf}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return Of}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:Ot(Dp({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:Ot(Dp("preview"),this.previewClass),boundingBox:Ot(Dp("bounding-box"),this.boundingBoxClass)}},style:function(){var t=this.stencilCoordinates,e=t.height,n=t.width,i=t.left,r=t.top,s={width:"".concat(n,"px"),height:"".concat(e,"px"),transform:"translate(".concat(i,"px, ").concat(r,"px)")};return this.transitions&&this.transitions.enabled&&(s.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),s}},methods:{onMove:function(t){this.$emit("move",t),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(t){this.$emit("resize",t),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:1,maximum:1}}},emits:["resize","resize-end","move","move-end"]};_E.render=function(t,e,n,i,r,s){var o=di("stencil-preview"),a=di("draggable-area"),l=di("bounding-box");return ee(),Pe("div",{class:s.classes.stencil,style:s.style},[ge(l,{width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,transitions:n.transitions,class:s.classes.boundingBox,handlers:n.handlers,"handlers-component":n.handlersComponent,"handlers-classes":n.handlersClasses,"handlers-wrappers-classes":n.handlersWrappersClasses,lines:n.lines,"lines-component":n.linesComponent,"lines-classes":n.linesClasses,"lines-wrappers-classes":n.linesWrappersClasses,resizable:n.resizable,onResize:s.onResize,onResizeEnd:s.onResizeEnd},{default:xt(function(){return[ge(a,{movable:n.movable,onMove:s.onMove,onMoveEnd:s.onMoveEnd},{default:xt(function(){return[ge(o,{image:n.image,coordinates:n.coordinates,width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,class:s.classes.preview,transitions:n.transitions},null,8,["image","coordinates","width","height","class","transitions"])]}),_:1},8,["movable","onMove","onMoveEnd"])]}),_:1},8,["width","height","transitions","class","handlers","handlers-component","handlers-classes","handlers-wrappers-classes","lines","lines-component","lines-classes","lines-wrappers-classes","resizable","onResize","onResizeEnd"])],6)};var xB=["transitions"],Or=Ii("vue-advanced-cropper"),AE={name:"Cropper",components:{BackgroundWrapper:$m},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return ME}},backgroundWrapperComponent:{type:[Object,String],default:function(){return $m}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(t){return eB.indexOf(t)!==-1}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object]},defaultVisibleArea:{type:[Function,Object]},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(t){return!(typeof t=="string"&&t!=="fill"&&t!=="fit")}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(t){var e=t.event,n=t.coordinates,i=t.aspectRatio,r=t.positionRestrictions,s=t.sizeRestrictions,o=Le(Le({},n),{right:n.left+n.width,bottom:n.top+n.height}),a=e.params||{},l=Le({},e.directions),u=a.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};s.widthFrozen&&(l.left=0,l.right=0),s.heightFrozen&&(l.top=0,l.bottom=0),or.forEach(function(M){u[M]||(l[M]=0)});var d=sr(o,l=C0({coordinates:o,directions:l,sizeRestrictions:s,positionRestrictions:r})).width,h=sr(o,l).height,p=a.preserveRatio?lt(o):Rp(d/h,i);if(p){var g=a.respectDirection;if(g||(g=o.width>=o.height||p===1?"width":"height"),g==="width"){var m=d/p-o.height;if(u.top&&u.bottom){var b=l.top,y=l.bottom;l.bottom=Ku(m,y,b),l.top=Ku(m,b,y)}else u.bottom?l.bottom=m:u.top?l.top=m:u.right?l.right=0:u.left&&(l.left=0)}else if(g==="height"){var S=o.width-h*p;if(u.left&&u.right){var x=l.left,E=l.right;l.left=-Ku(S,x,E),l.right=-Ku(S,E,x)}else u.left?l.left=-S:u.right?l.right=-S:u.top?l.top=0:u.bottom&&(l.bottom=0)}l=C0({directions:l,coordinates:o,sizeRestrictions:s,positionRestrictions:r,preserveRatio:!0,compensate:a.compensate})}return d=sr(o,l).width,h=sr(o,l).height,(p=a.preserveRatio?lt(o):Rp(d/h,i))&&Math.abs(p-d/h)>.001&&or.forEach(function(M){u[M]||(l[M]=0)}),zm({event:new jg({left:-l.left,top:-l.top}),coordinates:{width:n.width+l.right+l.left,height:n.height+l.top+l.bottom,left:n.left,top:n.top},positionRestrictions:r})}},moveAlgorithm:{type:Function,default:zm},initStretcher:{type:Function,default:function(t){var e=t.stretcher,n=t.imageSize,i=lt(n);e.style.width=n.width+"px",e.style.height=e.clientWidth/i+"px",e.style.width=e.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(t){var e=t.visibleArea,n=t.coordinates,i=t.aspectRatio,r=t.sizeRestrictions,s=t.positionRestrictions,o=Le(Le({},n),$r({width:n.width,height:n.height,aspectRatio:i,sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minHeight:Math.min(e.height,r.minHeight),minWidth:Math.min(e.width,r.minWidth)}}));return o=pn(o=Yn(o,Ea(hn(n),hn(o))),Af(fr(e),s))}},fitVisibleArea:{type:Function,default:function(t){var e=t.visibleArea,n=t.boundaries,i=t.getAreaRestrictions,r=t.coordinates,s=Le({},e);s.height=s.width/lt(n),s.top+=(e.height-s.height)/2,(r.height-s.height>0||r.width-s.width>0)&&(s=Oi(s,Math.max(r.height/s.height,r.width/s.width)));var o=Mf(Ta(r,fr(s=Oi(s,_f(s,i({visibleArea:s,type:"resize"}))))));return s.width<r.width&&(o.left=0),s.height<r.height&&(o.top=0),s=pn(s=Yn(s,o),i({visibleArea:s,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(t){var e=t.visibleArea,n=t.boundaries,i=t.imageSize,r=t.imageRestriction,s=t.type,o={};return r==="fill-area"?o={left:0,top:0,right:i.width,bottom:i.height}:r==="fit-area"&&(lt(n)>lt(i)?(o={top:0,bottom:i.height},e&&s==="move"&&(e.width>i.width?(o.left=-(e.width-i.width)/2,o.right=i.width-o.left):(o.left=0,o.right=i.width))):(o={left:0,right:i.width},e&&s==="move"&&(e.height>i.height?(o.top=-(e.height-i.height)/2,o.bottom=i.height-o.top):(o.top=0,o.bottom=i.height)))),o}},sizeRestrictionsAlgorithm:{type:Function,default:function(t){return{minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(t){var e=t.imageSize,n={};return t.imageRestriction!=="none"&&(n={left:0,top:0,right:e.width,bottom:e.height}),n}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:null,src:null},defaultImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:at({},w0)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var t=function(e){return e*Math.PI/180}(this.imageTransforms.rotate);return{width:Math.abs(this.imageAttributes.width*Math.cos(t))+Math.abs(this.imageAttributes.height*Math.sin(t)),height:Math.abs(this.imageAttributes.width*Math.sin(t))+Math.abs(this.imageAttributes.height*Math.cos(t))}},initialized:function(){return!!(this.visibleArea&&this.imageLoaded)},settings:function(){var t=Dm(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:Dm(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:t}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var t=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:Kt(this.minWidth)?0:qu(this.minWidth),minHeight:Kt(this.minHeight)?0:qu(this.minHeight),maxWidth:Kt(this.maxWidth)?1/0:qu(this.maxWidth),maxHeight:Kt(this.maxHeight)?1/0:qu(this.maxHeight)});if(t=function(i){var r=i.areaRestrictions,s=i.sizeRestrictions,o=i.boundaries,a=i.positionRestrictions,l=Le(Le({},s),{minWidth:s.minWidth!==void 0?s.minWidth:0,minHeight:s.minHeight!==void 0?s.minHeight:0,maxWidth:s.maxWidth!==void 0?s.maxWidth:1/0,maxHeight:s.maxHeight!==void 0?s.maxHeight:1/0});a.left!==void 0&&a.right!==void 0&&(l.maxWidth=Math.min(l.maxWidth,a.right-a.left)),a.bottom!==void 0&&a.top!==void 0&&(l.maxHeight=Math.min(l.maxHeight,a.bottom-a.top));var u=Nm(r),d=wE(o,u);return u.width<1/0&&(!l.maxWidth||l.maxWidth>d.width)&&(l.maxWidth=Math.min(l.maxWidth,d.width)),u.height<1/0&&(!l.maxHeight||l.maxHeight>d.height)&&(l.maxHeight=Math.min(l.maxHeight,d.height)),l.minWidth>l.maxWidth&&(l.minWidth=l.maxWidth,l.widthFrozen=!0),l.minHeight>l.maxHeight&&(l.minHeight=l.maxHeight,l.heightFrozen=!0),l}({sizeRestrictions:t,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var e=this.getStencilSize(),n=Nm(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));t.maxWidth=Math.min(t.maxWidth,n.width*e.width/this.boundaries.width),t.maxHeight=Math.min(t.maxHeight,n.height*e.height/this.boundaries.height),t.maxWidth<t.minWidth&&(t.minWidth=t.maxWidth),t.maxHeight<t.minHeight&&(t.minHeight=t.maxHeight)}return t}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:Or(),image:Ot(Or("image"),this.imageClass),stencil:Or("stencil"),boundaries:Ot(Or("boundaries"),this.boundariesClass),stretcher:Ot(Or("stretcher")),background:Ot(Or("background"),this.backgroundClass),foreground:Ot(Or("foreground"),this.foregroundClass),imageWrapper:Ot(Or("image-wrapper")),cropperWrapper:Ot(Or("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var t=this.coordinates,e=t.width,n=t.height,i=t.left,r=t.top;return{width:e/this.coefficient,height:n/this.coefficient,left:(i-this.visibleArea.left)/this.coefficient,top:(r-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var t={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(t.opacity="0"),t},imageStyle:function(){var t=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},e={left:(t.width-this.imageSize.width)/(2*this.coefficient),top:(t.height-this.imageSize.height)/(2*this.coefficient)},n={left:(1-1/this.coefficient)*t.width/2,top:(1-1/this.coefficient)*t.height/2},i=at(at({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/t.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/t.height)}),r={width:"".concat(t.width,"px"),height:"".concat(t.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-e.left-n.left-this.imageTransforms.translateX,"px, ").concat(-e.top-n.top-this.imageTransforms.translateY,"px)")+EE(i)};return this.transitionsOptions.enabled&&(r.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),r}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var t=this;this.$nextTick(function(){t.resetCoordinates(),t.runAutoZoom("setCoordinates"),t.onChange()})},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(t,e){["aspectRatio","minAspectRatio","maxAspectRatio"].find(function(n){return t[n]!==e[n]})&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=Lm(this.update,this.debounce),this.debouncedDisableTransitions=Lm(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.debouncedUpdate.clear(),this.debouncedDisableTransitions.clear()},methods:{getResult:function(){var t=this.initialized?this.prepareResult(at({},this.coordinates)):this.defaultCoordinates(),e={rotate:this.imageTransforms.rotate%360,flip:at({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var n=this;return{image:this.image,coordinates:t,visibleArea:this.visibleArea?at({},this.visibleArea):null,imageTransforms:e,get canvas(){return n.canvas?n.getCanvas():void 0}}}return{image:this.image,coordinates:t,visibleArea:this.visibleArea?at({},this.visibleArea):null,canvas:void 0,imageTransforms:e}},zoom:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.transitions,r=i===void 0||i;this.onManipulateImage(new tc({},{factor:1/t,center:e}),{normalize:!1,transitions:r})},move:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.transitions,r=i===void 0||i;this.onManipulateImage(new tc({left:t||0,top:e||0}),{normalize:!1,transitions:r})},setCoordinates:function(t){var e=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.autoZoom,r=i===void 0||i,s=n.transitions,o=s===void 0||s;this.$nextTick(function(){e.imageLoaded?(e.transitionsActive||(o&&e.enableTransitions(),e.coordinates=e.applyTransform(t),r&&e.runAutoZoom("setCoordinates"),o&&e.debouncedDisableTransitions()),e.onChange()):e.delayedTransforms=t})},refresh:function(){var t=this,e=this.$refs.image;if(this.src&&e)return this.initialized?this.updateVisibleArea().then(function(){t.onChange()}):this.resetVisibleArea().then(function(){t.onChange()})},reset:function(){var t=this;return this.resetVisibleArea().then(function(){t.onChange(!1)})},awaitRender:function(t){var e=this;this.awaiting||(this.awaiting=!0,this.$nextTick(function(){t(),e.awaiting=!1}))},prepareResult:function(t){return this.roundResult?function(e){var n=e.coordinates,i=e.sizeRestrictions,r=e.positionRestrictions,s={width:Math.round(n.width),height:Math.round(n.height),left:Math.round(n.left),top:Math.round(n.top)};return s.width>i.maxWidth?s.width=Math.floor(n.width):s.width<i.minWidth&&(s.width=Math.ceil(n.width)),s.height>i.maxHeight?s.height=Math.floor(n.height):s.height<i.minHeight&&(s.height=Math.ceil(n.height)),pn(s,r)}(at(at({},this.getPublicProperties()),{},{positionRestrictions:Gu(this.positionRestrictions,this.visibleArea),coordinates:t})):t},processAutoZoom:function(t,e,n,i){var r=this.autoZoomAlgorithm;r||(r=this.stencilSize?iB:this.autoZoom?rB:sB);var s=r({event:{type:t,params:i},visibleArea:e,coordinates:n,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return at(at({},s),{},{changed:!S0(s.visibleArea,e)||!S0(s.coordinates,n)})},runAutoZoom:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.transitions,i=n!==void 0&&n,r=Y$(e,xB),s=this.processAutoZoom(t,this.visibleArea,this.coordinates,r),o=s.visibleArea,a=s.coordinates,l=s.changed;i&&l&&this.enableTransitions(),this.visibleArea=o,this.coordinates=a,i&&l&&this.debouncedDisableTransitions()},normalizeEvent:function(t){return function(e){var n=e.event,i=e.visibleArea,r=e.coefficient;if(n.type==="manipulateImage")return Le(Le({},n),{move:{left:n.move&&n.move.left?r*n.move.left:0,top:n.move&&n.move.top?r*n.move.top:0},scale:{factor:n.scale&&n.scale.factor?n.scale.factor:1,center:n.scale&&n.scale.center?{left:n.scale.center.left*r+i.left,top:n.scale.center.top*r+i.top}:null}});if(n.type==="resize"){var s=Le(Le({},n),{directions:Le({},n.directions)});return or.forEach(function(a){s.directions[a]*=r}),s}if(n.type==="move"){var o=Le(Le({},n),{directions:Le({},n.directions)});return Q$.forEach(function(a){o.directions[a]*=r}),o}return n}(at(at({},this.getPublicProperties()),{},{event:t}))},getCanvas:function(){if(this.$refs.canvas){var t=this.$refs.canvas,e=this.$refs.image,n=this.imageTransforms.rotate!==0||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?function(a,l,u){var d=u.rotate,h=u.flip,p={width:l.naturalWidth,height:l.naturalHeight},g=SE(p,d),m=a.getContext("2d");a.height=g.height,a.width=g.width,m.save();var b=ys(hn(Le({left:0,top:0},p)),d);return m.translate(-(b.left-g.width/2),-(b.top-g.height/2)),m.rotate(d*Math.PI/180),m.translate(h.horizontal?p.width:0,h.vertical?p.height:0),m.scale(h.horizontal?-1:1,h.vertical?-1:1),m.drawImage(l,0,0,p.width,p.height),m.restore(),a}(this.$refs.sourceCanvas,e,this.imageTransforms):e,i=at({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),r=function(a){return a.find(function(l){return u=l,!Number.isNaN(parseFloat(u))&&isFinite(u);var u})},s=$r({sizeRestrictions:{minWidth:r([i.width,i.minWidth])||0,minHeight:r([i.height,i.minHeight])||0,maxWidth:r([i.width,i.maxWidth])||1/0,maxHeight:r([i.height,i.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(i.maxArea&&s.width*s.height>i.maxArea){var o=Math.sqrt(i.maxArea/(s.width*s.height));s={width:Math.round(o*s.width),height:Math.round(o*s.height)}}return function(a,l,u,d,h){a.width=d?d.width:u.width,a.height=d?d.height:u.height;var p=a.getContext("2d");p.clearRect(0,0,a.width,a.height),h&&(h.imageSmoothingEnabled&&(p.imageSmoothingEnabled=h.imageSmoothingEnabled),h.imageSmoothingQuality&&(p.imageSmoothingQuality=h.imageSmoothingQuality),h.fillColor&&(p.fillStyle=h.fillColor,p.fillRect(0,0,a.width,a.height),p.save()));var g=u.left<0?-u.left:0,m=u.top<0?-u.top:0;p.drawImage(l,u.left+g,u.top+m,u.width,u.height,g*(a.width/u.width),m*(a.height/u.height),a.width,a.height)}(t,n,this.coordinates,s,i),t}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(t){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=this.visibleArea&&e?tB(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,i=this.visibleArea&&e?Gu(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return nB({transform:t,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:n,positionRestrictions:i,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var t=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var e=this.defaultSize;e||(e=this.stencilSize?lB:aB);var n=this.sizeRestrictions;n.minWidth,n.minHeight,n.maxWidth,n.maxHeight;var i=Jo(e)?e({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):e,r=this.defaultPosition||oB,s=[i,function(o){var a=o.coordinates;return at({},Jo(r)?r({coordinates:a,imageSize:t.imageSize,visibleArea:t.visibleArea}):t.defaultPosition)}];this.delayedTransforms&&s.push.apply(s,So(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(s,!0),this.delayedTransforms=null}},clearImage:function(){var t=this;this.imageLoaded=!1,setTimeout(function(){var e=t.$refs.stretcher;e&&(e.style.height="auto",e.style.width="auto"),t.coordinates=t.defaultCoordinates(),t.boundaries={width:0,height:0}},this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var t=this,e=this.$refs.stretcher,n=this.$refs.cropper;return this.initStretcher({cropper:n,stretcher:e,imageSize:this.imageSize}),this.$nextTick().then(function(){var i={cropper:n,imageSize:t.imageSize};if(Jo(t.defaultBoundaries)?t.boundaries=t.defaultBoundaries(i):t.defaultBoundaries==="fit"?t.boundaries=function(r){var s=r.cropper,o=r.imageSize,a=s.clientHeight,l=s.clientWidth,u=a,d=o.width*a/o.height;return d>l&&(d=l,u=o.height*l/o.width),{width:d,height:u}}(i):t.boundaries=function(r){var s=r.cropper;return{width:s.clientWidth,height:s.clientHeight}}(i),!t.boundaries.width||!t.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")})},resetVisibleArea:function(){var t=this;return this.appliedImageTransforms=at(at({},this.defaultImageTransforms),{},{flip:at({},this.defaultImageTransforms.flip)}),this.updateBoundaries().then(function(){t.priority!=="visible-area"&&(t.visibleArea=null,t.resetCoordinates());var e,n,i,r,s,o,a=t.defaultVisibleArea||cB;t.visibleArea=Jo(a)?a({imageSize:t.imageSize,boundaries:t.boundaries,coordinates:t.priority!=="visible-area"?t.coordinates:null,getAreaRestrictions:t.getAreaRestrictions,stencilSize:t.getStencilSize()}):t.defaultVisibleArea,t.visibleArea=(e={visibleArea:t.visibleArea,boundaries:t.boundaries,getAreaRestrictions:t.getAreaRestrictions},n=e.visibleArea,i=e.boundaries,r=e.getAreaRestrictions,s=Le({},n),o=lt(i),s.width/s.height!==o&&(s.height=s.width/o),pn(s,r({visibleArea:s,type:"move"}))),t.priority==="visible-area"?t.resetCoordinates():t.coordinates=t.fitCoordinates({visibleArea:t.visibleArea,coordinates:t.coordinates,aspectRatio:t.getAspectRatio(),positionRestrictions:t.positionRestrictions,sizeRestrictions:t.sizeRestrictions}),t.runAutoZoom("resetVisibleArea")}).catch(function(){t.visibleArea=null})},updateVisibleArea:function(){var t=this;return this.updateBoundaries().then(function(){t.visibleArea=t.fitVisibleArea({imageSize:t.imageSize,boundaries:t.boundaries,visibleArea:t.visibleArea,coordinates:t.coordinates,getAreaRestrictions:t.getAreaRestrictions}),t.coordinates=t.fitCoordinates({visibleArea:t.visibleArea,coordinates:t.coordinates,aspectRatio:t.getAspectRatio(),positionRestrictions:t.positionRestrictions,sizeRestrictions:t.sizeRestrictions}),t.runAutoZoom("updateVisibleArea")}).catch(function(){t.visibleArea=null})},onChange:function(){var t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];t&&this.debounce?this.debouncedUpdate():this.update()},onChangeImage:function(){var t,e=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if(function(r){if(b0(r))return!1;var s=window.location,o=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(r)||[],a={protocol:o[1]||"",host:o[2]||"",port:o[3]||""},l=function(u){return u.port||((u.protocol||s.protocol)==="http"?80:433)};return!(!a.protocol&&!a.host&&!a.port||a.protocol&&a.protocol==s.protocol&&a.host&&a.host==s.host&&a.host&&l(a)==l(s))}(this.src)){var n=Kt(this.crossOrigin)?this.canvas:this.crossOrigin;n===!0&&(n="anonymous"),this.imageAttributes.crossOrigin=n||null}if(this.checkOrientation){var i=(t=this.src,new Promise(function(r){wB(t).then(function(s){var o=SB(s);r(s?{source:t,arrayBuffer:s,orientation:o}:{source:t,arrayBuffer:null,orientation:null})}).catch(function(s){console.warn(s),r({source:t,arrayBuffer:null,orientation:null})})}));setTimeout(function(){i.then(e.onParseImage)},this.transitionTime)}else setTimeout(function(){e.onParseImage({source:e.src})},this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var t=this,e=this.$refs.image;e&&!this.imageLoaded&&(this.imageAttributes.height=e.naturalHeight,this.imageAttributes.width=e.naturalWidth,this.imageLoaded=!0,this.resetVisibleArea().then(function(){t.$emit("ready"),t.onChange(!1)}))},onParseImage:function(t){var e=this,n=t.source,i=t.arrayBuffer,r=t.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,i&&r&&r>1?mE(n)||!b0(n)?(this.imageAttributes.src=URL.createObjectURL(new Blob([i])),this.imageAttributes.revoke=!0):this.imageAttributes.src=function(s){for(var o=[],a=new Uint8Array(s);a.length>0;){var l=a.subarray(0,8192);o.push(String.fromCharCode.apply(null,Array.from?Array.from(l):l.slice())),a=a.subarray(8192)}return"data:image/jpeg;base64,"+btoa(o.join(""))}(i):this.imageAttributes.src=n,Jo(this.defaultTransforms)?this.appliedImageTransforms=Ip(this.defaultTransforms()):vd(this.defaultTransforms)?this.appliedImageTransforms=Ip(this.defaultTransforms):this.appliedImageTransforms=function(s){var o=Ip({});if(s)switch(s){case 2:o.flip.horizontal=!0;break;case 3:o.rotate=-180;break;case 4:o.flip.vertical=!0;break;case 5:o.rotate=90,o.flip.vertical=!0;break;case 6:o.rotate=90;break;case 7:o.rotate=90,o.flip.horizontal=!0;break;case 8:o.rotate=-90}return o}(r),this.defaultImageTransforms=at(at({},this.appliedImageTransforms),{},{flip:at({},this.appliedImageTransforms.flip)}),this.$nextTick(function(){var s=e.$refs.image;s&&s.complete&&(function(o){return!!o.naturalWidth}(s)?e.onSuccessLoadImage():e.onFailLoadImage())})},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(t){var e=this;this.transitionsOptions.enabled||this.awaitRender(function(){e.coordinates=e.moveAlgorithm(at(at({},e.getPublicProperties()),{},{positionRestrictions:Gu(e.positionRestrictions,e.visibleArea),coordinates:e.coordinates,event:e.normalizeEvent(t)})),e.onChange()})},onResize:function(t){var e=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender(function(){var n=e.sizeRestrictions,i=Math.min(e.coordinates.width,e.coordinates.height,20*e.coefficient);e.coordinates=e.resizeAlgorithm(at(at({},e.getPublicProperties()),{},{positionRestrictions:Gu(e.positionRestrictions,e.visibleArea),sizeRestrictions:{maxWidth:Math.min(n.maxWidth,e.visibleArea.width),maxHeight:Math.min(n.maxHeight,e.visibleArea.height),minWidth:Math.max(n.minWidth,i),minHeight:Math.max(n.minHeight,i)},event:e.normalizeEvent(t)})),e.onChange(),e.ticking=!1})},onManipulateImage:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.transitionsOptions.enabled){var n=e.transitions,i=n!==void 0&&n,r=e.normalize,s=r===void 0||r;i&&this.enableTransitions();var o=uB(at(at({},this.getPublicProperties()),{},{event:s?this.normalizeEvent(t):t,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),a=o.visibleArea,l=o.coordinates;this.visibleArea=a,this.coordinates=l,this.runAutoZoom("manipulateImage"),this.onChange(),i&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.visibleArea,n=t.type,i=n===void 0?"move":n;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:e,type:i})},getAspectRatio:function(t){var e,n,i=this.stencilProps,r=i.aspectRatio,s=i.minAspectRatio,o=i.maxAspectRatio;if(this.$refs.stencil&&this.$refs.stencil.aspectRatios){var a=this.$refs.stencil.aspectRatios();e=a.minimum,n=a.maximum}if(Kt(e)&&(e=Kt(r)?s:r),Kt(n)&&(n=Kt(r)?o:r),!t&&(Kt(e)||Kt(n))){var l=this.getStencilSize(),u=l?lt(l):null;Kt(e)&&(e=y0(u)?u:void 0),Kt(n)&&(n=y0(u)?u:void 0)}return{minimum:e,maximum:n}},getStencilSize:function(){if(this.stencilSize)return t={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)},e=t.boundaries,n=t.stencilSize,i=t.aspectRatio,Rp(lt(r=Jo(n)?n({boundaries:e,aspectRatio:i}):n),i)&&(r=$r({sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minWidth:0,minHeight:0},width:r.width,height:r.height,aspectRatio:{minimum:i.minimum,maximum:i.maximum}})),(r.width>e.width||r.height>e.height)&&(r=$r({sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minWidth:0,minHeight:0},width:r.width,height:r.height,aspectRatio:{minimum:lt(r),maximum:lt(r)}})),r;var t,e,n,i,r},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return at({},w0)},flip:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.transitions,r=i===void 0||i;if(!this.transitionsActive){r&&this.enableTransitions();var s=at({},this.imageTransforms.flip),o=fB({flip:{horizontal:t?!s.horizontal:s.horizontal,vertical:e?!s.vertical:s.vertical},previousFlip:s,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),a=o.visibleArea,l=o.coordinates;t&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),e&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=a,this.coordinates=l,this.onChange(),r&&this.debouncedDisableTransitions()}},rotate:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.transitions,i=n===void 0||n;if(!this.transitionsActive){i&&this.enableTransitions();var r=at({},this.imageSize);this.appliedImageTransforms.rotate+=t;var s=dB({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:r,imageSize:this.imageSize,angle:t,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),o=s.visibleArea,a=s.coordinates,l=this.processAutoZoom("rotateImage",o,a);o=l.visibleArea,a=l.coordinates,this.visibleArea=o,this.coordinates=a,this.onChange(),i&&this.debouncedDisableTransitions()}}},emits:["change","error","ready"]},EB={key:0,ref:"canvas",style:{display:"none"}},CB={key:1,ref:"sourceCanvas",style:{display:"none"}};AE.render=function(t,e,n,i,r,s){return ee(),Pe("div",{ref:"cropper",class:s.classes.cropper},[ge("div",{ref:"stretcher",class:s.classes.stretcher},null,2),ge("div",{class:s.classes.boundaries,style:s.boundariesStyle},[(ee(),Pe(dc(n.backgroundWrapperComponent),{class:s.classes.cropperWrapper,"wheel-resize":s.settings.resizeImage.wheel,"touch-resize":s.settings.resizeImage.touch,"touch-move":s.settings.moveImage.touch,"mouse-move":s.settings.moveImage.mouse,onMove:s.onManipulateImage,onResize:s.onManipulateImage},{default:xt(function(){return[ge("div",{class:s.classes.background,style:s.boundariesStyle},null,6),ge("div",{class:s.classes.imageWrapper},[ge("img",{ref:"image",crossorigin:r.imageAttributes.crossOrigin,src:r.imageAttributes.src,class:s.classes.image,style:s.imageStyle,onMousedown:e[1]||(e[1]=Bg(function(){},["prevent"]))},null,46,["crossorigin","src"])],2),ge("div",{class:s.classes.foreground,style:s.boundariesStyle},null,6),bo((ee(),Pe(dc(n.stencilComponent),zg({ref:"stencil",image:s.image,coordinates:r.coordinates,"stencil-coordinates":s.stencilCoordinates,transitions:s.transitionsOptions},n.stencilProps,{onResize:s.onResize,onResizeEnd:s.onResizeEnd,onMove:s.onMove,onMoveEnd:s.onMoveEnd}),null,16,["image","coordinates","stencil-coordinates","transitions","onResize","onResizeEnd","onMove","onMoveEnd"])),[[mc,r.imageLoaded]]),n.canvas?(ee(),Pe("canvas",EB,null,512)):It("",!0),n.canvas?(ee(),Pe("canvas",CB,null,512)):It("",!0)]}),_:1},8,["class","wheel-resize","touch-resize","touch-move","mouse-move","onMove","onResize"]))],6)],2)};const TB={class:"avatar"},MB={key:0,class:"avatar__cropper"},_B={key:1,class:"avatar__preview"},AB={class:"user-panel__user-avatar image is-128x128"},kB=["src"],OB={key:1,class:"is-rounded not-avatar"},RB={__name:"Avatar",setup(t){const e=$c(),n=Na("file"),i=Oe(""),r=Oe(e.avatar),s=Oe(null),o=()=>n.value.click(),a=d=>{const h=d.target.files[0],p=new FileReader;p.readAsDataURL(h),p.onload=()=>{r.value=URL.createObjectURL(h),i.value=!0}},l=({canvas:d})=>{d.toBlob(h=>{s.value=h})},u=async()=>{await e.changeAvatar(s.value),r.value=e.avatar,i.value=!1};return(d,h)=>(ee(),Ee("div",TB,[i.value?(ee(),Ee("div",MB,[ge(Yr,{class:"avatar__cropper-approve",icon:"check",onClick:u}),ge(et(AE),{class:"avatar__cropper-element","stencil-component":et(_E),src:r.value,onChange:l},null,8,["stencil-component","src"])])):(ee(),Ee("div",_B,[he("figure",AB,[r.value?(ee(),Ee("img",{key:0,class:"is-rounded",src:r.value},null,8,kB)):(ee(),Ee("div",OB))]),ge(Yr,{class:"avatar__preview-uploader",icon:"arrow-up-from-bracket",onClick:o}),he("input",{class:"avatar__preview-uploader-file",ref_key:"file",ref:n,type:"file",onChange:a},null,544)]))]))}},PB=gt(RB,[["__scopeId","data-v-813a5f2e"]]),IB={class:"user-panel"},LB={class:"user-panel__user-avatar image is-32x32"},DB=["src"],NB={key:1,class:"is-rounded not-avatar"},zB={class:"user-panel__user-name"},$B={class:"user-panel__logout"},BB={class:"profile"},FB={class:"profile__avatar"},HB={class:"profile__email"},WB={class:"profile__form"},VB={__name:"UserPanel",setup(t){const e=$c(),n=be(()=>e.user),i=Oe(!1),r=Oe(!1),s=Oe(n.value.name),o=Oe(""),a=be(()=>o.value.length<6),l=()=>i.value=!0,u=()=>e.update({name:s.value}),d=async()=>{r.value=!0,await e.update({password:o.value}),r.value=!1,o.value=""};return(h,p)=>(ee(),Ee("div",IB,[he("div",{class:"user-panel__user",onClick:l},[he("figure",LB,[et(e).avatar?(ee(),Ee("img",{key:0,class:"is-rounded",src:et(e).avatar},null,8,DB)):(ee(),Ee("div",NB))]),he("div",zB,Qt(n.value.name),1)]),he("div",$B,[ge(Yr,{icon:"right-from-bracket",onClick:et(e).logout},null,8,["onClick"])]),ge(bc,{modelValue:i.value,"onUpdate:modelValue":p[2]||(p[2]=g=>i.value=g),title:"",center:!0},{default:xt(()=>[he("div",BB,[he("div",FB,[ge(PB)]),ge(hE,{class:"profile__name",modelValue:s.value,"onUpdate:modelValue":p[0]||(p[0]=g=>s.value=g),max:20,onChange:u},null,8,["modelValue"]),he("div",HB,Qt(n.value.email),1),he("div",WB,[ge(Pm,{modelValue:o.value,"onUpdate:modelValue":p[1]||(p[1]=g=>o.value=g),"with-checker":!0,placeholder:" "},null,8,["modelValue"]),ge(Fi,{disabled:a.value,text:" ",loading:r.value,onClick:d},null,8,["disabled","loading"])])])]),_:1},8,["modelValue"])]))}},jB=gt(VB,[["__scopeId","data-v-b688d74a"]]),UB={class:"header"},YB={class:"header-left"},XB={class:"header-center"},qB={class:"header-right"},GB={__name:"Header",setup(t){const e=Fc();return(n,i)=>(ee(),Ee("header",UB,[he("div",YB,[ge(C$),ge(_$)]),he("div",XB,[et(e).statusBar?(ee(),Pe(Vg,{key:0,icon:et(e).statusBar.icon,text:et(e).statusBar.title},null,8,["icon","text"])):It("",!0)]),he("div",qB,[ge(jB)])]))}},KB={class:"ui-skeleton__item"},JB={__name:"Skeleton",props:{type:{type:String,default:"lines"},itemsNum:{type:Number,default:6}},setup(t){const e=t;return(n,i)=>(ee(),Ee("div",{class:mt(["ui-skeleton",e.type])},[(ee(!0),Ee(Pt,null,Is(e.itemsNum,r=>(ee(),Ee("div",KB))),256))],2))}},Gg=gt(JB,[["__scopeId","data-v-6cac4761"]]),ZB=["href","onClick"],QB={class:"sidebar-link__icon"},eF={class:"sidebar-link__text"},ul={__name:"SidebarLink",props:{route:Object,text:String,icon:String},setup(t){const e=t,n=be(()=>`fas fa-${e.icon}`);return(i,r)=>(ee(),Pe(et(cE),{to:e.route,custom:""},{default:xt(({isActive:s,href:o,navigate:a})=>[he("a",{class:mt(["sidebar-link",s?"active":""]),href:o,onClick:a},[he("span",QB,[he("i",{class:mt(n.value)},null,2)]),he("span",eF,Qt(e.text),1)],10,ZB)]),_:1},8,["to"]))}},tF={class:"ui-light-input"},nF=["placeholder","maxlength"],iF={__name:"LightInput",props:rn({fieldClass:{type:String,default:""},placeholder:{type:String,default:""},focused:{type:Boolean,default:!1},max:{type:Number,default:255}},{modelValue:{},modelModifiers:{}}),emits:rn(["update","save"],["update:modelValue"]),setup(t,{emit:e}){const n=t,i=Vi(t,"modelValue"),r=e,s=Na("input"),o=Lt("createDeferredTimer")(),a=()=>{r("update",i.value),o.start(1e3,()=>r("save",i.value))};return gr(()=>{jr(()=>n.focused&&s.value.focus())}),(l,u)=>(ee(),Ee("div",tF,[bo(he("input",{ref_key:"input",ref:s,class:mt(["ui-light-input__field",n.fieldClass]),type:"text","onUpdate:modelValue":u[0]||(u[0]=d=>i.value=d),placeholder:n.placeholder,maxlength:n.max,onInput:a},null,42,nF),[[Tm,i.value]])]))}},kE=gt(iF,[["__scopeId","data-v-4311dd76"]]),rF={class:"create-topic"},sF={__name:"CreateTopic",emits:["created"],setup(t,{emit:e}){const{woojStore:n,createTopic:i}=zs(),r=e,s=Oe(""),o=be(()=>!s.value.length),a=async()=>{await i({name:s.value}),r("created")};return(l,u)=>(ee(),Ee("div",rF,[ge(kE,{type:"text",placeholder:" ",fieldClass:"create-topic__field",max:20,focused:!0,modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=d=>s.value=d)},null,8,["modelValue"]),ge(Fi,{class:"create-topic__button",text:"",icon:"plus",disabled:o.value,loading:et(n).isCreatingTopic,onClick:a},null,8,["disabled","loading"])]))}},oF={class:"sidebar"},aF={class:"sidebar__menu"},lF={class:"sidebar__menu-item"},cF={class:"sidebar__menu-item"},uF={class:"sidebar__menu-item"},dF={class:"sidebar__menu-item"},fF={key:0,class:"sidebar__menu"},hF={class:"sidebar__menu-item"},pF={class:"sidebar__item plus-topic-item"},mF={__name:"Sidebar",setup(t){const e=Oe(!1),n=Bc(),i=()=>e.value=!0,r=()=>e.value=!1;return(s,o)=>(ee(),Ee("aside",oF,[o[1]||(o[1]=he("p",{class:"sidebar__label"},"",-1)),he("ul",aF,[he("li",lF,[ge(ul,{route:{name:"All"},text:"",icon:"tags"})]),he("li",cF,[ge(ul,{route:{name:"Pinned"},text:"",icon:"thumbtack"})]),he("li",uF,[ge(ul,{route:{name:"Published"},text:"",icon:"link"})]),he("li",dF,[ge(ul,{route:{name:"Trash"},text:"",icon:"trash"})])]),o[2]||(o[2]=he("p",{class:"sidebar__label"},"",-1)),et(n).isLoadedTopics?(ee(),Ee("ul",fF,[(ee(!0),Ee(Pt,null,Is(et(n).customTopics,a=>(ee(),Ee("li",hF,[ge(ul,{route:{name:"Topic",params:{topicId:a.id}},text:a.name,icon:"tag"},null,8,["route","text"])]))),256))])):(ee(),Pe(Gg,{key:1})),he("div",pF,[ge(Fi,{text:"",icon:"plus",onClick:i})]),ge(bc,{modelValue:e.value,"onUpdate:modelValue":o[0]||(o[0]=a=>e.value=a),title:" "},{default:xt(()=>[ge(sF,{onCreated:r})]),_:1},8,["modelValue"])]))}},gF=gt(mF,[["__scopeId","data-v-8ee2ae84"]]),vF={class:"layout"},bF={class:"layout__header"},yF={class:"layout__body"},wF={__name:"Main",setup(t){const e=Fc();return(n,i)=>{const r=di("Scrollbar");return ee(),Ee("div",vF,[he("div",bF,[ge(GB)]),he("div",yF,[he("div",{class:mt(["layout__body-sidebar",{aired:et(e).hasAiredSidebar,hovered:et(e).isHoveredSidebar}]),onMouseover:i[0]||(i[0]=(...s)=>et(e).onOverSidebar&&et(e).onOverSidebar(...s))},[i[1]||(i[1]=he("div",{class:"layout__body-sidebar-separator"},null,-1)),ge(gF)],34),ge(r,{class:mt(["layout__body-content",{aired:et(e).hasAiredSidebar}]),onMouseover:et(e).onLeaveSidebar},{default:xt(()=>[ge(et(uE))]),_:1},8,["class","onMouseover"])])])}}},SF=gt(wF,[["__scopeId","data-v-dc444006"]]),xF={class:"view-verify"},EF={class:"verify"},CF={class:"verify__card"},TF={class:"verify__card-bottom"},MF={__name:"Verify",setup(t){const e=$c(),n=()=>e.resend(),i=()=>e.logout();return gr(()=>e.startResendTimer()),(r,s)=>(ee(),Ee("div",xF,[he("div",EF,[s[1]||(s[1]=he("div",{class:"verify__top"},[he("h1",{class:"verify__top-title"},"WOOJ"),he("p",{class:"verify__top-title-subtitle"},"   ")],-1)),he("div",CF,[s[0]||(s[0]=wo("    ")),he("b",null,Qt(et(e).user.email),1),he("div",TF,[et(e).resendTimer?(ee(),Pe(Fi,{key:0,disabled:"",text:`   ${et(e).resendTimer} .`},null,8,["text"])):(ee(),Pe(Fi,{key:1,text:"  ",onClick:n})),ge(Fi,{type:"default",text:"",onClick:i})])])])]))}},_F=gt(MF,[["__scopeId","data-v-95527a11"]]),AF={class:"view-auth"},kF={class:"auth"},OF={class:"auth__card"},RF={class:"auth__card-tabs"},PF={class:"auth__form auth__form-login"},IF={class:"auth__form-field"},LF={class:"auth__form-field"},DF={class:"auth__form-field"},NF={class:"auth__form-errors"},zF={key:0,class:"auth__form-errors-item"},$F={class:"auth__form auth__form-register"},BF={class:"auth__form-field"},FF={class:"auth__form-field"},HF={class:"auth__form-field"},WF={class:"auth__form-errors"},VF={key:0,class:"auth__form-errors-item"},jF={key:1,class:"auth__form-errors-item"},UF={__name:"Auth",setup(t){const e=$c(),n=Bc(),i=ar({email:"",password:""}),r=ar({email:"",password:""}),s=ar({message:null}),o=ar({message:null,email:null,password:null}),a=Oe(!0),l=be(()=>!a.value),u=be(()=>!i.email||!i.password),d=be(()=>!r.email||!r.password),h=async()=>{s.message=null;try{await e.login(i),await n.fetchAll()}catch({message:g}){s.message=g}},p=async()=>{var g,m;o.message=null,o.email=null,o.password=null;try{await e.register(r)}catch({message:b,errors:y}){o.message=b,o.email=(g=y==null?void 0:y.email)==null?void 0:g.join(""),o.password=(m=y==null?void 0:y.password)==null?void 0:m.join("")}};return(g,m)=>(ee(),Ee("div",AF,[he("div",kF,[m[6]||(m[6]=he("div",{class:"auth__top"},[he("h1",{class:"auth__top-title"},"WOOJ"),he("p",{class:"auth__top-title-subtitle"},"   ")],-1)),he("div",OF,[he("div",RF,[he("a",{class:mt(["auth__card-tabs-item",{active:a.value}]),onClick:m[0]||(m[0]=b=>a.value=!0)},"  ",2),he("a",{class:mt(["auth__card-tabs-item",{active:l.value}]),onClick:m[1]||(m[1]=b=>a.value=!1)},"  ",2)]),bo(he("div",PF,[he("div",IF,[ge(Rm,{type:"email",placeholder:"Email",modelValue:i.email,"onUpdate:modelValue":m[2]||(m[2]=b=>i.email=b)},null,8,["modelValue"])]),he("div",LF,[ge(Pm,{placeholder:"","with-checker":!1,modelValue:i.password,"onUpdate:modelValue":m[3]||(m[3]=b=>i.password=b)},null,8,["modelValue"])]),he("div",DF,[he("div",NF,[s.message?(ee(),Ee("div",zF,Qt(s.message),1)):It("",!0)]),ge(Fi,{text:"",disabled:u.value,onClick:h},null,8,["disabled"])])],512),[[mc,a.value]]),bo(he("div",$F,[he("div",BF,[ge(Rm,{type:"email",placeholder:"Email",modelValue:r.email,"onUpdate:modelValue":m[4]||(m[4]=b=>r.email=b)},null,8,["modelValue"])]),he("div",FF,[ge(Pm,{placeholder:"","with-checker":!0,modelValue:r.password,"onUpdate:modelValue":m[5]||(m[5]=b=>r.password=b)},null,8,["modelValue"])]),he("div",HF,[he("div",WF,[o.email?(ee(),Ee("div",VF,Qt(o.email),1)):It("",!0),o.password?(ee(),Ee("div",jF,Qt(o.password),1)):It("",!0)]),ge(Fi,{text:"",disabled:d.value,onClick:p},null,8,["disabled"])])],512),[[mc,l.value]])])])]))}},YF=gt(UF,[["__scopeId","data-v-60c80e4c"]]),XF={class:"view-loading"},qF={__name:"Loading",setup(t){return(e,n)=>(ee(),Ee("div",XF,n[0]||(n[0]=[he("div",{class:"view-loading__center"},null,-1)])))}},GF=gt(qF,[["__scopeId","data-v-0b61a2ef"]]),KF={__name:"App",setup(t){const e=$c(),n=Bc(),i=Oe(!1),r=be(()=>e.isLogged),s=be(()=>e.isVerified);return Ns(async()=>{await e.check(),r.value&&s.value&&await n.fetchAll(),i.value=!0}),(o,a)=>i.value?(ee(),Pe(RN,{key:0,name:"views"},{default:xt(()=>[r.value&&s.value?(ee(),Pe(SF,{key:0})):r.value&&!s.value?(ee(),Pe(_F,{key:1})):(ee(),Pe(YF,{key:2}))]),_:1})):(ee(),Pe(GF,{key:1}))}},JF=gt(KF,[["__scopeId","data-v-33d51a86"]]);class Yi{constructor(e){this._canceled=!1,this.data=e}get type(){return this.constructor.type}get cancelable(){return this.constructor.cancelable}cancel(){this._canceled=!0}canceled(){return this._canceled}clone(e){return new this.constructor({...this.data,...e})}}Yi.type="event";Yi.cancelable=!1;class Gr{constructor(e){this.draggable=e}attach(){throw new Error("Not Implemented")}detach(){throw new Error("Not Implemented")}}const Zo={mouse:0,drag:0,touch:100};class OE{constructor(e=[],n={}){this.containers=[...e],this.options={...n},this.dragging=!1,this.currentContainer=null,this.originalSource=null,this.startEvent=null,this.delay=ZF(n.delay)}attach(){return this}detach(){return this}addContainer(...e){this.containers=[...this.containers,...e]}removeContainer(...e){this.containers=this.containers.filter(n=>!e.includes(n))}trigger(e,n){const i=document.createEvent("Event");return i.detail=n,i.initEvent(n.type,!0,!0),e.dispatchEvent(i),this.lastEvent=n,n}}function ZF(t){const e={};if(t===void 0)return{...Zo};if(typeof t=="number"){for(const n in Zo)Object.prototype.hasOwnProperty.call(Zo,n)&&(e[n]=t);return e}for(const n in Zo)Object.prototype.hasOwnProperty.call(Zo,n)&&(t[n]===void 0?e[n]=Zo[n]:e[n]=t[n]);return e}function _i(t,e){if(t==null)return null;function n(r){return r==null||e==null?!1:QF(e)?Element.prototype.matches.call(r,e):e2(e)?[...e].includes(r):t2(e)?e===r:n2(e)?e(r):!1}let i=t;do{if(i=i.correspondingUseElement||i.correspondingElement||i,n(i))return i;i=(i==null?void 0:i.parentNode)||null}while(i!=null&&i!==document.body&&i!==document);return null}function QF(t){return typeof t=="string"}function e2(t){return t instanceof NodeList||t instanceof Array}function t2(t){return t instanceof Node}function n2(t){return typeof t=="function"}function RE(t,e,n,i){return Math.sqrt((n-t)**2+(i-e)**2)}class Rf extends Yi{get originalEvent(){return this.data.originalEvent}get clientX(){return this.data.clientX}get clientY(){return this.data.clientY}get target(){return this.data.target}get container(){return this.data.container}get originalSource(){return this.data.originalSource}get pressure(){return this.data.pressure}}class Kg extends Rf{}Kg.type="drag:start";class Jg extends Rf{}Jg.type="drag:move";class Zg extends Rf{}Zg.type="drag:stop";class i2 extends Rf{}i2.type="drag:pressure";const dl=Symbol("onContextMenuWhileDragging"),fl=Symbol("onMouseDown"),hl=Symbol("onMouseMove"),pl=Symbol("onMouseUp"),Zu=Symbol("startDrag"),ls=Symbol("onDistanceChange");class r2 extends OE{constructor(e=[],n={}){super(e,n),this.mouseDownTimeout=null,this.pageX=null,this.pageY=null,this[dl]=this[dl].bind(this),this[fl]=this[fl].bind(this),this[hl]=this[hl].bind(this),this[pl]=this[pl].bind(this),this[Zu]=this[Zu].bind(this),this[ls]=this[ls].bind(this)}attach(){document.addEventListener("mousedown",this[fl],!0)}detach(){document.removeEventListener("mousedown",this[fl],!0)}[fl](e){if(e.button!==0||e.ctrlKey||e.metaKey)return;const n=_i(e.target,this.containers);if(!n||this.options.handle&&e.target&&!_i(e.target,this.options.handle))return;const i=_i(e.target,this.options.draggable);if(!i)return;const{delay:r}=this,{pageX:s,pageY:o}=e;Object.assign(this,{pageX:s,pageY:o}),this.onMouseDownAt=Date.now(),this.startEvent=e,this.currentContainer=n,this.originalSource=i,document.addEventListener("mouseup",this[pl]),document.addEventListener("dragstart",M0),document.addEventListener("mousemove",this[ls]),this.mouseDownTimeout=window.setTimeout(()=>{this[ls]({pageX:this.pageX,pageY:this.pageY})},r.mouse)}[Zu](){const e=this.startEvent,n=this.currentContainer,i=this.originalSource,r=new Kg({clientX:e.clientX,clientY:e.clientY,target:e.target,container:n,originalSource:i,originalEvent:e});this.trigger(this.currentContainer,r),this.dragging=!r.canceled(),this.dragging&&(document.addEventListener("contextmenu",this[dl],!0),document.addEventListener("mousemove",this[hl]))}[ls](e){const{pageX:n,pageY:i}=e,{distance:r}=this.options,{startEvent:s,delay:o}=this;if(Object.assign(this,{pageX:n,pageY:i}),!this.currentContainer)return;const a=Date.now()-this.onMouseDownAt,l=RE(s.pageX,s.pageY,n,i)||0;clearTimeout(this.mouseDownTimeout),a<o.mouse?document.removeEventListener("mousemove",this[ls]):l>=r&&(document.removeEventListener("mousemove",this[ls]),this[Zu]())}[hl](e){if(!this.dragging)return;const n=document.elementFromPoint(e.clientX,e.clientY),i=new Jg({clientX:e.clientX,clientY:e.clientY,target:n,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,i)}[pl](e){if(clearTimeout(this.mouseDownTimeout),e.button!==0||(document.removeEventListener("mouseup",this[pl]),document.removeEventListener("dragstart",M0),document.removeEventListener("mousemove",this[ls]),!this.dragging))return;const n=document.elementFromPoint(e.clientX,e.clientY),i=new Zg({clientX:e.clientX,clientY:e.clientY,target:n,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,i),document.removeEventListener("contextmenu",this[dl],!0),document.removeEventListener("mousemove",this[hl]),this.currentContainer=null,this.dragging=!1,this.startEvent=null}[dl](e){e.preventDefault()}}function M0(t){t.preventDefault()}function Qo(t){const{touches:e,changedTouches:n}=t;return e&&e[0]||n&&n[0]}const ml=Symbol("onTouchStart"),Qs=Symbol("onTouchEnd"),gl=Symbol("onTouchMove"),Qu=Symbol("startDrag"),cs=Symbol("onDistanceChange");let bd=!1;window.addEventListener("touchmove",t=>{bd&&t.preventDefault()},{passive:!1});class s2 extends OE{constructor(e=[],n={}){super(e,n),this.currentScrollableParent=null,this.tapTimeout=null,this.touchMoved=!1,this.pageX=null,this.pageY=null,this[ml]=this[ml].bind(this),this[Qs]=this[Qs].bind(this),this[gl]=this[gl].bind(this),this[Qu]=this[Qu].bind(this),this[cs]=this[cs].bind(this)}attach(){document.addEventListener("touchstart",this[ml])}detach(){document.removeEventListener("touchstart",this[ml])}[ml](e){const n=_i(e.target,this.containers);if(!n||this.options.handle&&e.target&&!_i(e.target,this.options.handle))return;const i=_i(e.target,this.options.draggable);if(!i)return;const{distance:r=0}=this.options,{delay:s}=this,{pageX:o,pageY:a}=Qo(e);Object.assign(this,{pageX:o,pageY:a}),this.onTouchStartAt=Date.now(),this.startEvent=e,this.currentContainer=n,this.originalSource=i,document.addEventListener("touchend",this[Qs]),document.addEventListener("touchcancel",this[Qs]),document.addEventListener("touchmove",this[cs]),n.addEventListener("contextmenu",_0),r&&(bd=!0),this.tapTimeout=window.setTimeout(()=>{this[cs]({touches:[{pageX:this.pageX,pageY:this.pageY}]})},s.touch)}[Qu](){const e=this.startEvent,n=this.currentContainer,i=Qo(e),r=this.originalSource,s=new Kg({clientX:i.pageX,clientY:i.pageY,target:e.target,container:n,originalSource:r,originalEvent:e});this.trigger(this.currentContainer,s),this.dragging=!s.canceled(),this.dragging&&document.addEventListener("touchmove",this[gl]),bd=this.dragging}[cs](e){const{distance:n}=this.options,{startEvent:i,delay:r}=this,s=Qo(i),o=Qo(e),a=Date.now()-this.onTouchStartAt,l=RE(s.pageX,s.pageY,o.pageX,o.pageY);Object.assign(this,o),clearTimeout(this.tapTimeout),a<r.touch?document.removeEventListener("touchmove",this[cs]):l>=n&&(document.removeEventListener("touchmove",this[cs]),this[Qu]())}[gl](e){if(!this.dragging)return;const{pageX:n,pageY:i}=Qo(e),r=document.elementFromPoint(n-window.scrollX,i-window.scrollY),s=new Jg({clientX:n,clientY:i,target:r,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,s)}[Qs](e){if(clearTimeout(this.tapTimeout),bd=!1,document.removeEventListener("touchend",this[Qs]),document.removeEventListener("touchcancel",this[Qs]),document.removeEventListener("touchmove",this[cs]),this.currentContainer&&this.currentContainer.removeEventListener("contextmenu",_0),!this.dragging)return;document.removeEventListener("touchmove",this[gl]);const{pageX:n,pageY:i}=Qo(e),r=document.elementFromPoint(n-window.scrollX,i-window.scrollY);e.preventDefault();const s=new Zg({clientX:n,clientY:i,target:r,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,s),this.currentContainer=null,this.dragging=!1,this.startEvent=null}}function _0(t){t.preventDefault(),t.stopPropagation()}class Qg extends Yi{constructor(e){super(e),this.data=e}get dragEvent(){return this.data.dragEvent}}Qg.type="collidable";class o2 extends Qg{get collidingElement(){return this.data.collidingElement}}o2.type="collidable:in";class a2 extends Qg{get collidingElement(){return this.data.collidingElement}}a2.type="collidable:out";function PE(t,e){return function(n){c2(e,"addInitializer"),yd(n,"An initializer"),t.push(n)}}function Np(t,e){if(!t(e))throw new TypeError("Attempted to access private element on non-instance")}function l2(t,e,n,i,r,s,o,a,l,u,d){var h;switch(s){case 1:h="accessor";break;case 2:h="method";break;case 3:h="getter";break;case 4:h="setter";break;default:h="field"}var p,g,m={kind:h,name:a?"#"+n:n,static:o,private:a,metadata:d},b={v:!1};if(s!==0&&(m.addInitializer=PE(r,b)),a||s!==0&&s!==2)if(s===2)p=function(x){return Np(u,x),i.value};else{var y=s===0||s===1;(y||s===3)&&(p=a?function(x){return Np(u,x),i.get.call(x)}:function(x){return i.get.call(x)}),(y||s===4)&&(g=a?function(x,E){Np(u,x),i.set.call(x,E)}:function(x,E){i.set.call(x,E)})}else p=function(x){return x[n]},s===0&&(g=function(x,E){x[n]=E});var S=a?u.bind():function(x){return n in x};m.access=p&&g?{get:p,set:g,has:S}:p?{get:p,has:S}:{set:g,has:S};try{return t.call(e,l,m)}finally{b.v=!0}}function c2(t,e){if(t.v)throw new Error("attempted to call "+e+" after decoration was finished")}function yd(t,e){if(typeof t!="function")throw new TypeError(e+" must be a function")}function IE(t,e){var n=typeof e;if(t===1){if(n!=="object"||e===null)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0");e.get!==void 0&&yd(e.get,"accessor.get"),e.set!==void 0&&yd(e.set,"accessor.set"),e.init!==void 0&&yd(e.init,"accessor.init")}else if(n!=="function"){var i;throw i=t===0?"field":t===5?"class":"method",new TypeError(i+" decorators must return a function or void 0")}}function u2(t){return function(){return t(this)}}function d2(t){return function(e){t(this,e)}}function f2(t,e,n,i,r,s,o,a,l,u,d){var h,p,g,m,b,y,S=n[0];i||Array.isArray(S)||(S=[S]),a?h=s===0||s===1?{get:u2(n[3]),set:d2(n[4])}:s===3?{get:n[3]}:s===4?{set:n[3]}:{value:n[3]}:s!==0&&(h=Object.getOwnPropertyDescriptor(e,r)),s===1?g={get:h.get,set:h.set}:s===2?g=h.value:s===3?g=h.get:s===4&&(g=h.set);for(var x=i?2:1,E=S.length-1;E>=0;E-=x){var M;(m=l2(S[E],i?S[E-1]:void 0,r,h,l,s,o,a,g,u,d))!==void 0&&(IE(s,m),s===0?M=m:s===1?(M=m.init,b=m.get||g.get,y=m.set||g.set,g={get:b,set:y}):g=m,M!==void 0&&(p===void 0?p=M:typeof p=="function"?p=[p,M]:p.push(M)))}if(s===0||s===1){if(p===void 0)p=function(L,R){return R};else if(typeof p!="function"){var A=p;p=function(L,R){for(var k=R,D=A.length-1;D>=0;D--)k=A[D].call(L,k);return k}}else{var z=p;p=function(L,R){return z.call(L,R)}}t.push(p)}s!==0&&(s===1?(h.get=g.get,h.set=g.set):s===2?h.value=g:s===3?h.get=g:s===4&&(h.set=g),a?s===1?(t.push(function(L,R){return g.get.call(L,R)}),t.push(function(L,R){return g.set.call(L,R)})):s===2?t.push(g):t.push(function(L,R){return g.call(L,R)}):Object.defineProperty(e,r,h))}function h2(t,e,n,i){for(var r,s,o,a=[],l=new Map,u=new Map,d=0;d<e.length;d++){var h=e[d];if(Array.isArray(h)){var p,g,m=h[1],b=h[2],y=h.length>3,S=16&m,x=!!(8&m),E=n;if(m&=7,x?(p=t,m!==0&&(g=s=s||[]),y&&!o&&(o=function(z){return m2(z)===t}),E=o):(p=t.prototype,m!==0&&(g=r=r||[])),m!==0&&!y){var M=x?u:l,A=M.get(b)||0;if(A===!0||A===3&&m!==4||A===4&&m!==3)throw new Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+b);M.set(b,!(!A&&m>2)||m)}f2(a,p,h,S,b,m,x,y,g,E,i)}}return A0(a,r),A0(a,s),a}function A0(t,e){e&&t.push(function(n){for(var i=0;i<e.length;i++)e[i].call(n);return n})}function p2(t,e,n,i){if(e.length){for(var r=[],s=t,o=t.name,a=1,l=e.length-1;l>=0;l-=a){var u={v:!1};try{var d=e[l].call(n?e[l-1]:void 0,s,{kind:"class",name:o,addInitializer:PE(r,u),metadata:i})}finally{u.v=!0}d!==void 0&&(IE(5,d),s=d)}return[LE(s,i),function(){for(var h=0;h<r.length;h++)r[h].call(s)}]}}function LE(t,e){return Object.defineProperty(t,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:e})}function DE(t,e,n,i,r,s){if(arguments.length>=6)var o=s[Symbol.metadata||Symbol.for("Symbol.metadata")];var a=Object.create(o===void 0?null:o),l=h2(t,e,r,a);return n.length||LE(t,a),{e:l,get c(){return p2(t,n,i,a)}}}function m2(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}function wd(t,{name:e,addInitializer:n}){n(function(){this[e]=t.bind(this)})}function g2(t){return requestAnimationFrame(()=>{requestAnimationFrame(t)})}let vr=class extends Yi{constructor(e){super(e),this.data=e}get source(){return this.data.source}get originalSource(){return this.data.originalSource}get mirror(){return this.data.mirror}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}};vr.type="drag";class ev extends vr{}ev.type="drag:start";ev.cancelable=!0;class NE extends vr{}NE.type="drag:move";class Pf extends vr{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}Pf.type="drag:over";Pf.cancelable=!0;function v2(t){return t.type===Pf.type}class zE extends vr{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}zE.type="drag:out";class $E extends vr{get overContainer(){return this.data.overContainer}}$E.type="drag:over:container";class BE extends vr{get overContainer(){return this.data.overContainer}}BE.type="drag:out:container";class FE extends vr{get pressure(){return this.data.pressure}}FE.type="drag:pressure";class tv extends vr{}tv.type="drag:stop";tv.cancelable=!0;class HE extends vr{}HE.type="drag:stopped";var WE,VE;class b2 extends Gr{constructor(e){WE(super(e)),this.lastWidth=0,this.lastHeight=0,this.mirror=null}attach(){this.draggable.on("mirror:created",this.onMirrorCreated).on("drag:over",this.onDragOver).on("drag:over:container",this.onDragOver)}detach(){this.draggable.off("mirror:created",this.onMirrorCreated).off("mirror:destroy",this.onMirrorDestroy).off("drag:over",this.onDragOver).off("drag:over:container",this.onDragOver)}getOptions(){return this.draggable.options.resizeMirror||{}}onMirrorCreated({mirror:e}){this.mirror=e}onMirrorDestroy(){this.mirror=null}onDragOver(e){this.resize(e)}resize(e){requestAnimationFrame(()=>{let n=null;const{overContainer:i}=e;if(this.mirror==null||this.mirror.parentNode==null)return;this.mirror.parentNode!==i&&i.appendChild(this.mirror),v2(e)&&(n=e.over);const r=n||this.draggable.getDraggableElementsForContainer(i)[0];r&&g2(()=>{const s=r.getBoundingClientRect();this.mirror==null||this.lastHeight===s.height&&this.lastWidth===s.width||(this.mirror.style.width=`${s.width}px`,this.mirror.style.height=`${s.height}px`,this.lastWidth=s.width,this.lastHeight=s.height)})})}}VE=b2;[WE]=DE(VE,[[wd,2,"onMirrorCreated"],[wd,2,"onMirrorDestroy"],[wd,2,"onDragOver"]],[],0,void 0,Gr).e;class nv extends Yi{get dragEvent(){return this.data.dragEvent}get snappable(){return this.data.snappable}}nv.type="snap";class jE extends nv{}jE.type="snap:in";jE.cancelable=!0;class UE extends nv{}UE.type="snap:out";UE.cancelable=!0;var YE,XE;const y2={duration:150,easingFunction:"ease-in-out",horizontal:!1};class w2 extends Gr{constructor(e){YE(super(e)),this.options={...y2,...this.getOptions()},this.lastAnimationFrame=null}attach(){this.draggable.on("sortable:sorted",this.onSortableSorted)}detach(){this.draggable.off("sortable:sorted",this.onSortableSorted)}getOptions(){return this.draggable.options.swapAnimation||{}}onSortableSorted({oldIndex:e,newIndex:n,dragEvent:i}){const{source:r,over:s}=i;this.lastAnimationFrame&&cancelAnimationFrame(this.lastAnimationFrame),this.lastAnimationFrame=requestAnimationFrame(()=>{e>=n?k0(r,s,this.options):k0(s,r,this.options)})}}XE=w2;[YE]=DE(XE,[[wd,2,"onSortableSorted"]],[],0,void 0,Gr).e;function k0(t,e,{duration:n,easingFunction:i,horizontal:r}){for(const s of[t,e])s.style.pointerEvents="none";if(r){const s=t.offsetWidth;t.style.transform=`translate3d(${s}px, 0, 0)`,e.style.transform=`translate3d(-${s}px, 0, 0)`}else{const s=t.offsetHeight;t.style.transform=`translate3d(0, ${s}px, 0)`,e.style.transform=`translate3d(0, -${s}px, 0)`}requestAnimationFrame(()=>{for(const s of[t,e])s.addEventListener("transitionend",qE),s.style.transition=`transform ${n}ms ${i}`,s.style.transform=""})}function qE(t){t.target==null||!S2(t.target)||(t.target.style.transition="",t.target.style.pointerEvents="",t.target.removeEventListener("transitionend",qE))}function S2(t){return"style"in t}const vl=Symbol("onSortableSorted"),bl=Symbol("onSortableSort"),x2={duration:150,easingFunction:"ease-in-out"};class GE extends Gr{constructor(e){super(e),this.options={...x2,...this.getOptions()},this.lastAnimationFrame=null,this.lastElements=[],this[vl]=this[vl].bind(this),this[bl]=this[bl].bind(this)}attach(){this.draggable.on("sortable:sort",this[bl]),this.draggable.on("sortable:sorted",this[vl])}detach(){this.draggable.off("sortable:sort",this[bl]),this.draggable.off("sortable:sorted",this[vl])}getOptions(){return this.draggable.options.sortAnimation||{}}[bl]({dragEvent:e}){const{sourceContainer:n}=e,i=this.draggable.getDraggableElementsForContainer(n);this.lastElements=Array.from(i).map(r=>({domEl:r,offsetTop:r.offsetTop,offsetLeft:r.offsetLeft}))}[vl]({oldIndex:e,newIndex:n}){if(e===n)return;const i=[];let r,s,o;e>n?(r=n,s=e-1,o=1):(r=e+1,s=n,o=-1);for(let a=r;a<=s;a++){const l=this.lastElements[a],u=this.lastElements[a+o];i.push({from:l,to:u})}cancelAnimationFrame(this.lastAnimationFrame),this.lastAnimationFrame=requestAnimationFrame(()=>{i.forEach(a=>E2(a,this.options))})}}function E2({from:t,to:e},{duration:n,easingFunction:i}){const r=t.domEl,s=t.offsetLeft-e.offsetLeft,o=t.offsetTop-e.offsetTop;r.style.pointerEvents="none",r.style.transform=`translate3d(${s}px, ${o}px, 0)`,requestAnimationFrame(()=>{r.addEventListener("transitionend",KE),r.style.transition=`transform ${n}ms ${i}`,r.style.transform=""})}function KE(t){t.target.style.transition="",t.target.style.pointerEvents="",t.target.removeEventListener("transitionend",KE)}const ed=Symbol("onInitialize"),td=Symbol("onDestroy"),O0=Symbol("announceEvent"),zp=Symbol("announceMessage"),C2="aria-relevant",T2="aria-atomic",M2="aria-live",_2="role",A2={expire:7e3};class k2 extends Gr{constructor(e){super(e),this.options={...A2,...this.getOptions()},this.originalTriggerMethod=this.draggable.trigger,this[ed]=this[ed].bind(this),this[td]=this[td].bind(this)}attach(){this.draggable.on("draggable:initialize",this[ed])}detach(){this.draggable.off("draggable:destroy",this[td])}getOptions(){return this.draggable.options.announcements||{}}[O0](e){const n=this.options[e.type];n&&typeof n=="string"&&this[zp](n),n&&typeof n=="function"&&this[zp](n(e))}[zp](e){O2(e,{expire:this.options.expire})}[ed](){this.draggable.trigger=e=>{try{this[O0](e)}finally{this.originalTriggerMethod.call(this.draggable,e)}}}[td](){this.draggable.trigger=this.originalTriggerMethod}}const Bm=R2();function O2(t,{expire:e}){const n=document.createElement("div");return n.textContent=t,Bm.appendChild(n),setTimeout(()=>{Bm.removeChild(n)},e)}function R2(){const t=document.createElement("div");return t.setAttribute("id","draggable-live-region"),t.setAttribute(C2,"additions"),t.setAttribute(T2,"true"),t.setAttribute(M2,"assertive"),t.setAttribute(_2,"log"),t.style.position="fixed",t.style.width="1px",t.style.height="1px",t.style.top="-1px",t.style.overflow="hidden",t}document.addEventListener("DOMContentLoaded",()=>{document.body.appendChild(Bm)});const yl=Symbol("onInitialize"),ea=Symbol("onDestroy"),P2={};class I2 extends Gr{constructor(e){super(e),this.options={...P2,...this.getOptions()},this[yl]=this[yl].bind(this),this[ea]=this[ea].bind(this)}attach(){this.draggable.on("draggable:initialize",this[yl]).on("draggable:destroy",this[ea])}detach(){this.draggable.off("draggable:initialize",this[yl]).off("draggable:destroy",this[ea]),this[ea]()}getOptions(){return this.draggable.options.focusable||{}}getElements(){return[...this.draggable.containers,...this.draggable.getDraggableElements()]}[yl](){requestAnimationFrame(()=>{this.getElements().forEach(e=>L2(e))})}[ea](){requestAnimationFrame(()=>{this.getElements().forEach(e=>D2(e))})}}const Fm=[];function L2(t){!t.getAttribute("tabindex")&&t.tabIndex===-1&&(Fm.push(t),t.tabIndex=0)}function D2(t){const e=Fm.indexOf(t);e!==-1&&(t.tabIndex=-1,Fm.splice(e,1))}class Ba extends Yi{constructor(e){super(e),this.data=e}get source(){return this.data.source}get originalSource(){return this.data.originalSource}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get dragEvent(){return this.data.dragEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}class JE extends Ba{}JE.type="mirror:create";class ZE extends Ba{get mirror(){return this.data.mirror}}ZE.type="mirror:created";class QE extends Ba{get mirror(){return this.data.mirror}}QE.type="mirror:attached";class iv extends Ba{get mirror(){return this.data.mirror}get passedThreshX(){return this.data.passedThreshX}get passedThreshY(){return this.data.passedThreshY}}iv.type="mirror:move";iv.cancelable=!0;class eC extends Ba{get mirror(){return this.data.mirror}get passedThreshX(){return this.data.passedThreshX}get passedThreshY(){return this.data.passedThreshY}}eC.type="mirror:moved";class rv extends Ba{get mirror(){return this.data.mirror}}rv.type="mirror:destroy";rv.cancelable=!0;const wl=Symbol("onDragStart"),Sl=Symbol("onDragMove"),xl=Symbol("onDragStop"),El=Symbol("onMirrorCreated"),Cl=Symbol("onMirrorMove"),Tl=Symbol("onScroll"),R0=Symbol("getAppendableContainer"),N2={constrainDimensions:!1,xAxis:!0,yAxis:!0,cursorOffsetX:null,cursorOffsetY:null,thresholdX:null,thresholdY:null};class z2 extends Gr{constructor(e){super(e),this.options={...N2,...this.getOptions()},this.scrollOffset={x:0,y:0},this.initialScrollOffset={x:window.scrollX,y:window.scrollY},this[wl]=this[wl].bind(this),this[Sl]=this[Sl].bind(this),this[xl]=this[xl].bind(this),this[El]=this[El].bind(this),this[Cl]=this[Cl].bind(this),this[Tl]=this[Tl].bind(this)}attach(){this.draggable.on("drag:start",this[wl]).on("drag:move",this[Sl]).on("drag:stop",this[xl]).on("mirror:created",this[El]).on("mirror:move",this[Cl])}detach(){this.draggable.off("drag:start",this[wl]).off("drag:move",this[Sl]).off("drag:stop",this[xl]).off("mirror:created",this[El]).off("mirror:move",this[Cl])}getOptions(){return this.draggable.options.mirror||{}}[wl](e){if(e.canceled())return;"ontouchstart"in window&&document.addEventListener("scroll",this[Tl],!0),this.initialScrollOffset={x:window.scrollX,y:window.scrollY};const{source:n,originalSource:i,sourceContainer:r,sensorEvent:s}=e;this.lastMirrorMovedClient={x:s.clientX,y:s.clientY};const o=new JE({source:n,originalSource:i,sourceContainer:r,sensorEvent:s,dragEvent:e});if(this.draggable.trigger(o),V2(s)||o.canceled())return;const a=this[R0](n)||r;this.mirror=n.cloneNode(!0);const l=new ZE({source:n,originalSource:i,sourceContainer:r,sensorEvent:s,dragEvent:e,mirror:this.mirror}),u=new QE({source:n,originalSource:i,sourceContainer:r,sensorEvent:s,dragEvent:e,mirror:this.mirror});this.draggable.trigger(l),a.appendChild(this.mirror),this.draggable.trigger(u)}[Sl](e){if(!this.mirror||e.canceled())return;const{source:n,originalSource:i,sourceContainer:r,sensorEvent:s}=e;let o=!0,a=!0;if(this.options.thresholdX||this.options.thresholdY){const{x:u,y:d}=this.lastMirrorMovedClient;if(Math.abs(u-s.clientX)<this.options.thresholdX?o=!1:this.lastMirrorMovedClient.x=s.clientX,Math.abs(d-s.clientY)<this.options.thresholdY?a=!1:this.lastMirrorMovedClient.y=s.clientY,!o&&!a)return}const l=new iv({source:n,originalSource:i,sourceContainer:r,sensorEvent:s,dragEvent:e,mirror:this.mirror,passedThreshX:o,passedThreshY:a});this.draggable.trigger(l)}[xl](e){if("ontouchstart"in window&&document.removeEventListener("scroll",this[Tl],!0),this.initialScrollOffset={x:0,y:0},this.scrollOffset={x:0,y:0},!this.mirror)return;const{source:n,sourceContainer:i,sensorEvent:r}=e,s=new rv({source:n,mirror:this.mirror,sourceContainer:i,sensorEvent:r,dragEvent:e});this.draggable.trigger(s),s.canceled()||this.mirror.remove()}[Tl](){this.scrollOffset={x:window.scrollX-this.initialScrollOffset.x,y:window.scrollY-this.initialScrollOffset.y}}[El]({mirror:e,source:n,sensorEvent:i}){const r=this.draggable.getClassNamesFor("mirror"),s=({mirrorOffset:a,initialX:l,initialY:u,...d})=>(this.mirrorOffset=a,this.initialX=l,this.initialY=u,this.lastMovedX=l,this.lastMovedY=u,{mirrorOffset:a,initialX:l,initialY:u,...d});e.style.display="none";const o={mirror:e,source:n,sensorEvent:i,mirrorClasses:r,scrollOffset:this.scrollOffset,options:this.options,passedThreshX:!0,passedThreshY:!0};return Promise.resolve(o).then($2).then(B2).then(F2).then(H2).then(P0({initial:!0})).then(W2).then(s)}[Cl](e){if(e.canceled())return null;const n=({lastMovedX:s,lastMovedY:o,...a})=>(this.lastMovedX=s,this.lastMovedY=o,{lastMovedX:s,lastMovedY:o,...a}),i=s=>{const o=new eC({source:e.source,originalSource:e.originalSource,sourceContainer:e.sourceContainer,sensorEvent:e.sensorEvent,dragEvent:e.dragEvent,mirror:this.mirror,passedThreshX:e.passedThreshX,passedThreshY:e.passedThreshY});return this.draggable.trigger(o),s},r={mirror:e.mirror,sensorEvent:e.sensorEvent,mirrorOffset:this.mirrorOffset,options:this.options,initialX:this.initialX,initialY:this.initialY,scrollOffset:this.scrollOffset,passedThreshX:e.passedThreshX,passedThreshY:e.passedThreshY,lastMovedX:this.lastMovedX,lastMovedY:this.lastMovedY};return Promise.resolve(r).then(P0({})).then(n).then(i)}[R0](e){const n=this.options.appendTo;return typeof n=="string"?document.querySelector(n):n instanceof HTMLElement?n:typeof n=="function"?n(e):e.parentNode}}function $2({source:t,...e}){return Fa(n=>{const i=t.getBoundingClientRect();n({source:t,sourceRect:i,...e})})}function B2({sensorEvent:t,sourceRect:e,options:n,...i}){return Fa(r=>{const s=n.cursorOffsetY===null?t.clientY-e.top:n.cursorOffsetY,o=n.cursorOffsetX===null?t.clientX-e.left:n.cursorOffsetX;r({sensorEvent:t,sourceRect:e,mirrorOffset:{top:s,left:o},options:n,...i})})}function F2({mirror:t,source:e,options:n,...i}){return Fa(r=>{let s,o;if(n.constrainDimensions){const a=getComputedStyle(e);s=a.getPropertyValue("height"),o=a.getPropertyValue("width")}t.style.display=null,t.style.position="fixed",t.style.pointerEvents="none",t.style.top=0,t.style.left=0,t.style.margin=0,n.constrainDimensions&&(t.style.height=s,t.style.width=o),r({mirror:t,source:e,options:n,...i})})}function H2({mirror:t,mirrorClasses:e,...n}){return Fa(i=>{t.classList.add(...e),i({mirror:t,mirrorClasses:e,...n})})}function W2({mirror:t,...e}){return Fa(n=>{t.removeAttribute("id"),delete t.id,n({mirror:t,...e})})}function P0({withFrame:t=!1,initial:e=!1}={}){return({mirror:n,sensorEvent:i,mirrorOffset:r,initialY:s,initialX:o,scrollOffset:a,options:l,passedThreshX:u,passedThreshY:d,lastMovedX:h,lastMovedY:p,...g})=>Fa(m=>{const b={mirror:n,sensorEvent:i,mirrorOffset:r,options:l,...g};if(r){const y=u?Math.round((i.clientX-r.left-a.x)/(l.thresholdX||1))*(l.thresholdX||1):Math.round(h),S=d?Math.round((i.clientY-r.top-a.y)/(l.thresholdY||1))*(l.thresholdY||1):Math.round(p);l.xAxis&&l.yAxis||e?n.style.transform=`translate3d(${y}px, ${S}px, 0)`:l.xAxis&&!l.yAxis?n.style.transform=`translate3d(${y}px, ${s}px, 0)`:l.yAxis&&!l.xAxis&&(n.style.transform=`translate3d(${o}px, ${S}px, 0)`),e&&(b.initialX=y,b.initialY=S),b.lastMovedX=y,b.lastMovedY=S}m(b)},{})}function Fa(t,{raf:e=!1}={}){return new Promise((n,i)=>{e?requestAnimationFrame(()=>{t(n,i)}):t(n,i)})}function V2(t){return/^drag/.test(t.originalEvent.type)}const Ml=Symbol("onDragStart"),_l=Symbol("onDragMove"),Al=Symbol("onDragStop"),kl=Symbol("scroll"),j2={speed:6,sensitivity:50,scrollableElements:[]};class U2 extends Gr{constructor(e){super(e),this.options={...j2,...this.getOptions()},this.currentMousePosition=null,this.scrollAnimationFrame=null,this.scrollableElement=null,this.findScrollableElementFrame=null,this[Ml]=this[Ml].bind(this),this[_l]=this[_l].bind(this),this[Al]=this[Al].bind(this),this[kl]=this[kl].bind(this)}attach(){this.draggable.on("drag:start",this[Ml]).on("drag:move",this[_l]).on("drag:stop",this[Al])}detach(){this.draggable.off("drag:start",this[Ml]).off("drag:move",this[_l]).off("drag:stop",this[Al])}getOptions(){return this.draggable.options.scrollable||{}}getScrollableElement(e){return this.hasDefinedScrollableElements()?_i(e,this.options.scrollableElements)||document.documentElement:q2(e)}hasDefinedScrollableElements(){return this.options.scrollableElements.length!==0}[Ml](e){this.findScrollableElementFrame=requestAnimationFrame(()=>{this.scrollableElement=this.getScrollableElement(e.source)})}[_l](e){if(this.findScrollableElementFrame=requestAnimationFrame(()=>{this.scrollableElement=this.getScrollableElement(e.sensorEvent.target)}),!this.scrollableElement)return;const n=e.sensorEvent,i={x:0,y:0};"ontouchstart"in window&&(i.y=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,i.x=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),this.currentMousePosition={clientX:n.clientX-i.x,clientY:n.clientY-i.y},this.scrollAnimationFrame=requestAnimationFrame(this[kl])}[Al](){cancelAnimationFrame(this.scrollAnimationFrame),cancelAnimationFrame(this.findScrollableElementFrame),this.scrollableElement=null,this.scrollAnimationFrame=null,this.findScrollableElementFrame=null,this.currentMousePosition=null}[kl](){if(!this.scrollableElement||!this.currentMousePosition)return;cancelAnimationFrame(this.scrollAnimationFrame);const{speed:e,sensitivity:n}=this.options,i=this.scrollableElement.getBoundingClientRect(),r=i.bottom>window.innerHeight,o=i.top<0||r,a=Hm(),l=this.scrollableElement,u=this.currentMousePosition.clientX,d=this.currentMousePosition.clientY;if(l!==document.body&&l!==document.documentElement&&!o){const{offsetHeight:h,offsetWidth:p}=l;i.top+h-d<n?l.scrollTop+=e:d-i.top<n&&(l.scrollTop-=e),i.left+p-u<n?l.scrollLeft+=e:u-i.left<n&&(l.scrollLeft-=e)}else{const{innerHeight:h,innerWidth:p}=window;d<n?a.scrollTop-=e:h-d<n&&(a.scrollTop+=e),u<n?a.scrollLeft-=e:p-u<n&&(a.scrollLeft+=e)}this.scrollAnimationFrame=requestAnimationFrame(this[kl])}}function Y2(t){const e=/(auto|scroll)/,n=getComputedStyle(t,null),i=n.getPropertyValue("overflow")+n.getPropertyValue("overflow-y")+n.getPropertyValue("overflow-x");return e.test(i)}function X2(t){return getComputedStyle(t).getPropertyValue("position")==="static"}function q2(t){if(!t)return Hm();const e=getComputedStyle(t).getPropertyValue("position"),n=e==="absolute",i=_i(t,r=>n&&X2(r)?!1:Y2(r));return e==="fixed"||!i?Hm():i}function Hm(){return document.scrollingElement||document.documentElement}class G2{constructor(){this.callbacks={}}on(e,...n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(...n),this}off(e,n){if(!this.callbacks[e])return null;const i=this.callbacks[e].slice(0);for(let r=0;r<i.length;r++)n===i[r]&&this.callbacks[e].splice(r,1);return this}trigger(e){if(!this.callbacks[e.type])return null;const n=[...this.callbacks[e.type]],i=[];for(let r=n.length-1;r>=0;r--){const s=n[r];try{s(e)}catch(o){i.push(o)}}return i.length&&console.error(`Draggable caught errors while triggering '${e.type}'`,i),this}}class sv extends Yi{get draggable(){return this.data.draggable}}sv.type="draggable";class tC extends sv{}tC.type="draggable:initialize";class nC extends sv{}nC.type="draggable:destroy";const Ol=Symbol("onDragStart"),ta=Symbol("onDragMove"),Rl=Symbol("onDragStop"),Pl=Symbol("onDragPressure"),Il=Symbol("dragStop"),K2={"drag:start":t=>`Picked up ${t.source.textContent.trim()||t.source.id||"draggable element"}`,"drag:stop":t=>`Released ${t.source.textContent.trim()||t.source.id||"draggable element"}`},J2={"container:dragging":"draggable-container--is-dragging","source:dragging":"draggable-source--is-dragging","source:placed":"draggable-source--placed","container:placed":"draggable-container--placed","body:dragging":"draggable--is-dragging","draggable:over":"draggable--over","container:over":"draggable-container--over","source:original":"draggable--original",mirror:"draggable-mirror"},Z2={draggable:".draggable-source",handle:null,delay:{},distance:0,placedTimeout:800,plugins:[],sensors:[],exclude:{plugins:[],sensors:[]}};class Ma{constructor(e=[document.body],n={}){if(e instanceof NodeList||e instanceof Array)this.containers=[...e];else if(e instanceof HTMLElement)this.containers=[e];else throw new Error("Draggable containers are expected to be of type `NodeList`, `HTMLElement[]` or `HTMLElement`");this.options={...Z2,...n,classes:{...J2,...n.classes||{}},announcements:{...K2,...n.announcements||{}},exclude:{plugins:n.exclude&&n.exclude.plugins||[],sensors:n.exclude&&n.exclude.sensors||[]}},this.emitter=new G2,this.dragging=!1,this.plugins=[],this.sensors=[],this[Ol]=this[Ol].bind(this),this[ta]=this[ta].bind(this),this[Rl]=this[Rl].bind(this),this[Pl]=this[Pl].bind(this),this[Il]=this[Il].bind(this),document.addEventListener("drag:start",this[Ol],!0),document.addEventListener("drag:move",this[ta],!0),document.addEventListener("drag:stop",this[Rl],!0),document.addEventListener("drag:pressure",this[Pl],!0);const i=Object.values(Ma.Plugins).filter(o=>!this.options.exclude.plugins.includes(o)),r=Object.values(Ma.Sensors).filter(o=>!this.options.exclude.sensors.includes(o));this.addPlugin(...i,...this.options.plugins),this.addSensor(...r,...this.options.sensors);const s=new tC({draggable:this});this.on("mirror:created",({mirror:o})=>this.mirror=o),this.on("mirror:destroy",()=>this.mirror=null),this.trigger(s)}destroy(){document.removeEventListener("drag:start",this[Ol],!0),document.removeEventListener("drag:move",this[ta],!0),document.removeEventListener("drag:stop",this[Rl],!0),document.removeEventListener("drag:pressure",this[Pl],!0);const e=new nC({draggable:this});this.trigger(e),this.removePlugin(...this.plugins.map(n=>n.constructor)),this.removeSensor(...this.sensors.map(n=>n.constructor))}addPlugin(...e){const n=e.map(i=>new i(this));return n.forEach(i=>i.attach()),this.plugins=[...this.plugins,...n],this}removePlugin(...e){return this.plugins.filter(i=>e.includes(i.constructor)).forEach(i=>i.detach()),this.plugins=this.plugins.filter(i=>!e.includes(i.constructor)),this}addSensor(...e){const n=e.map(i=>new i(this.containers,this.options));return n.forEach(i=>i.attach()),this.sensors=[...this.sensors,...n],this}removeSensor(...e){return this.sensors.filter(i=>e.includes(i.constructor)).forEach(i=>i.detach()),this.sensors=this.sensors.filter(i=>!e.includes(i.constructor)),this}addContainer(...e){return this.containers=[...this.containers,...e],this.sensors.forEach(n=>n.addContainer(...e)),this}removeContainer(...e){return this.containers=this.containers.filter(n=>!e.includes(n)),this.sensors.forEach(n=>n.removeContainer(...e)),this}on(e,...n){return this.emitter.on(e,...n),this}off(e,n){return this.emitter.off(e,n),this}trigger(e){return this.emitter.trigger(e),this}getClassNameFor(e){return this.getClassNamesFor(e)[0]}getClassNamesFor(e){const n=this.options.classes[e];return n instanceof Array?n:typeof n=="string"||n instanceof String?[n]:[]}isDragging(){return!!this.dragging}getDraggableElements(){return this.containers.reduce((e,n)=>[...e,...this.getDraggableElementsForContainer(n)],[])}getDraggableElementsForContainer(e){return[...e.querySelectorAll(this.options.draggable)].filter(i=>i!==this.originalSource&&i!==this.mirror)}cancel(){this[Il]()}[Ol](e){const n=nd(e),{target:i,container:r,originalSource:s}=n;if(!this.containers.includes(r))return;if(this.options.handle&&i&&!_i(i,this.options.handle)){n.cancel();return}this.originalSource=s,this.sourceContainer=r,this.lastPlacedSource&&this.lastPlacedContainer&&(clearTimeout(this.placedTimeoutID),this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed")),this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed"))),this.source=this.originalSource.cloneNode(!0),this.originalSource.parentNode.insertBefore(this.source,this.originalSource),this.originalSource.style.display="none";const o=new ev({source:this.source,originalSource:this.originalSource,sourceContainer:r,sensorEvent:n});if(this.trigger(o),this.dragging=!o.canceled(),o.canceled()){this.source.remove(),this.originalSource.style.display=null;return}this.originalSource.classList.add(...this.getClassNamesFor("source:original")),this.source.classList.add(...this.getClassNamesFor("source:dragging")),this.sourceContainer.classList.add(...this.getClassNamesFor("container:dragging")),document.body.classList.add(...this.getClassNamesFor("body:dragging")),I0(document.body,"none"),requestAnimationFrame(()=>{const l=nd(e).clone({target:this.source});this[ta]({...e,detail:l})})}[ta](e){if(!this.dragging)return;const n=nd(e),{container:i}=n;let r=n.target;const s=new NE({source:this.source,originalSource:this.originalSource,sourceContainer:i,sensorEvent:n});this.trigger(s),s.canceled()&&n.cancel(),r=_i(r,this.options.draggable);const o=_i(n.target,this.containers),a=n.overContainer||o,l=this.currentOverContainer&&a!==this.currentOverContainer,u=this.currentOver&&r!==this.currentOver,d=a&&this.currentOverContainer!==a,h=o&&r&&this.currentOver!==r;if(u){const p=new zE({source:this.source,originalSource:this.originalSource,sourceContainer:i,sensorEvent:n,over:this.currentOver,overContainer:this.currentOverContainer});this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over")),this.currentOver=null,this.trigger(p)}if(l){const p=new BE({source:this.source,originalSource:this.originalSource,sourceContainer:i,sensorEvent:n,overContainer:this.currentOverContainer});this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over")),this.currentOverContainer=null,this.trigger(p)}if(d){a.classList.add(...this.getClassNamesFor("container:over"));const p=new $E({source:this.source,originalSource:this.originalSource,sourceContainer:i,sensorEvent:n,overContainer:a});this.currentOverContainer=a,this.trigger(p)}if(h){r.classList.add(...this.getClassNamesFor("draggable:over"));const p=new Pf({source:this.source,originalSource:this.originalSource,sourceContainer:i,sensorEvent:n,overContainer:a,over:r});this.currentOver=r,this.trigger(p)}}[Il](e){if(!this.dragging)return;this.dragging=!1;const n=new tv({source:this.source,originalSource:this.originalSource,sensorEvent:e?e.sensorEvent:null,sourceContainer:this.sourceContainer});this.trigger(n),n.canceled()||this.source.parentNode.insertBefore(this.originalSource,this.source),this.source.remove(),this.originalSource.style.display="",this.source.classList.remove(...this.getClassNamesFor("source:dragging")),this.originalSource.classList.remove(...this.getClassNamesFor("source:original")),this.originalSource.classList.add(...this.getClassNamesFor("source:placed")),this.sourceContainer.classList.add(...this.getClassNamesFor("container:placed")),this.sourceContainer.classList.remove(...this.getClassNamesFor("container:dragging")),document.body.classList.remove(...this.getClassNamesFor("body:dragging")),I0(document.body,""),this.currentOver&&this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over")),this.currentOverContainer&&this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over")),this.lastPlacedSource=this.originalSource,this.lastPlacedContainer=this.sourceContainer,this.placedTimeoutID=setTimeout(()=>{this.lastPlacedSource&&this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed")),this.lastPlacedContainer&&this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed")),this.lastPlacedSource=null,this.lastPlacedContainer=null},this.options.placedTimeout);const i=new HE({source:this.source,originalSource:this.originalSource,sensorEvent:e?e.sensorEvent:null,sourceContainer:this.sourceContainer});this.trigger(i),this.source=null,this.originalSource=null,this.currentOverContainer=null,this.currentOver=null,this.sourceContainer=null}[Rl](e){this[Il](e)}[Pl](e){if(!this.dragging)return;const n=nd(e),i=this.source||_i(n.originalEvent.target,this.options.draggable),r=new FE({sensorEvent:n,source:i,pressure:n.pressure});this.trigger(r)}}Ma.Plugins={Announcement:k2,Focusable:I2,Mirror:z2,Scrollable:U2};Ma.Sensors={MouseSensor:r2,TouchSensor:s2};function nd(t){return t.detail}function I0(t,e){t.style.webkitUserSelect=e,t.style.mozUserSelect=e,t.style.msUserSelect=e,t.style.oUserSelect=e,t.style.userSelect=e}class Hc extends Yi{constructor(e){super(e),this.data=e}get dragEvent(){return this.data.dragEvent}}Hc.type="droppable";class iC extends Hc{get dropzone(){return this.data.dropzone}}iC.type="droppable:start";iC.cancelable=!0;class rC extends Hc{get dropzone(){return this.data.dropzone}}rC.type="droppable:dropped";rC.cancelable=!0;class sC extends Hc{get dropzone(){return this.data.dropzone}}sC.type="droppable:returned";sC.cancelable=!0;class oC extends Hc{get dropzone(){return this.data.dropzone}}oC.type="droppable:stop";oC.cancelable=!0;class Wc extends Yi{constructor(e){super(e),this.data=e}get dragEvent(){return this.data.dragEvent}}Wc.type="swappable";class aC extends Wc{}aC.type="swappable:start";aC.cancelable=!0;class lC extends Wc{get over(){return this.data.over}get overContainer(){return this.data.overContainer}}lC.type="swappable:swap";lC.cancelable=!0;class Q2 extends Wc{get swappedElement(){return this.data.swappedElement}}Q2.type="swappable:swapped";class eH extends Wc{}eH.type="swappable:stop";class Vc extends Yi{constructor(e){super(e),this.data=e}get dragEvent(){return this.data.dragEvent}}Vc.type="sortable";class ov extends Vc{get startIndex(){return this.data.startIndex}get startContainer(){return this.data.startContainer}}ov.type="sortable:start";ov.cancelable=!0;class Vd extends Vc{get currentIndex(){return this.data.currentIndex}get over(){return this.data.over}get overContainer(){return this.data.dragEvent.overContainer}}Vd.type="sortable:sort";Vd.cancelable=!0;class Wm extends Vc{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}Wm.type="sortable:sorted";class cC extends Vc{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}cC.type="sortable:stop";const Ll=Symbol("onDragStart"),Dl=Symbol("onDragOverContainer"),Nl=Symbol("onDragOver"),zl=Symbol("onDragStop");function tH({dragEvent:t}){const e=t.source.textContent.trim()||t.source.id||"sortable element";if(t.over){const n=t.over.textContent.trim()||t.over.id||"sortable element";return t.source.compareDocumentPosition(t.over)&Node.DOCUMENT_POSITION_FOLLOWING?`Placed ${e} after ${n}`:`Placed ${e} before ${n}`}else return`Placed ${e} into a different container`}const nH={"sortable:sorted":tH};class uC extends Ma{constructor(e=[],n={}){super(e,{...n,announcements:{...nH,...n.announcements||{}}}),this.startIndex=null,this.startContainer=null,this[Ll]=this[Ll].bind(this),this[Dl]=this[Dl].bind(this),this[Nl]=this[Nl].bind(this),this[zl]=this[zl].bind(this),this.on("drag:start",this[Ll]).on("drag:over:container",this[Dl]).on("drag:over",this[Nl]).on("drag:stop",this[zl])}destroy(){super.destroy(),this.off("drag:start",this[Ll]).off("drag:over:container",this[Dl]).off("drag:over",this[Nl]).off("drag:stop",this[zl])}index(e){return this.getSortableElementsForContainer(e.parentNode).indexOf(e)}getSortableElementsForContainer(e){return[...e.querySelectorAll(this.options.draggable)].filter(i=>i!==this.originalSource&&i!==this.mirror&&i.parentNode===e)}[Ll](e){this.startContainer=e.source.parentNode,this.startIndex=this.index(e.source);const n=new ov({dragEvent:e,startIndex:this.startIndex,startContainer:this.startContainer});this.trigger(n),n.canceled()&&e.cancel()}[Dl](e){if(e.canceled())return;const{source:n,over:i,overContainer:r}=e,s=this.index(n),o=new Vd({dragEvent:e,currentIndex:s,source:n,over:i});if(this.trigger(o),o.canceled())return;const a=this.getSortableElementsForContainer(r),l=D0({source:n,over:i,overContainer:r,children:a});if(!l)return;const{oldContainer:u,newContainer:d}=l,h=this.index(e.source),p=new Wm({dragEvent:e,oldIndex:s,newIndex:h,oldContainer:u,newContainer:d});this.trigger(p)}[Nl](e){if(e.over===e.originalSource||e.over===e.source)return;const{source:n,over:i,overContainer:r}=e,s=this.index(n),o=new Vd({dragEvent:e,currentIndex:s,source:n,over:i});if(this.trigger(o),o.canceled())return;const a=this.getDraggableElementsForContainer(r),l=D0({source:n,over:i,overContainer:r,children:a});if(!l)return;const{oldContainer:u,newContainer:d}=l,h=this.index(n),p=new Wm({dragEvent:e,oldIndex:s,newIndex:h,oldContainer:u,newContainer:d});this.trigger(p)}[zl](e){const n=new cC({dragEvent:e,oldIndex:this.startIndex,newIndex:this.index(e.source),oldContainer:this.startContainer,newContainer:e.source.parentNode});this.trigger(n),this.startIndex=null,this.startContainer=null}}function L0(t){return Array.prototype.indexOf.call(t.parentNode.children,t)}function D0({source:t,over:e,overContainer:n,children:i}){const r=!i.length,s=t.parentNode!==n,o=e&&t.parentNode===e.parentNode;return r?iH(t,n):o?rH(t,e):s?sH(t,e,n):null}function iH(t,e){const n=t.parentNode;return e.appendChild(t),{oldContainer:n,newContainer:e}}function rH(t,e){const n=L0(t),i=L0(e);return n<i?t.parentNode.insertBefore(t,e.nextElementSibling):t.parentNode.insertBefore(t,e),{oldContainer:t.parentNode,newContainer:t.parentNode}}function sH(t,e,n){const i=t.parentNode;return e?e.parentNode.insertBefore(t,e):n.appendChild(t),{oldContainer:i,newContainer:t.parentNode}}const oH={class:"view-index"},aH={class:"view-index__title"},lH={class:"dnd-container"},cH={__name:"Index",setup(t){const{userService:e}=Lt("services"),n=Fc(),i=Oe("0.0");Oe(null);const r=()=>{const s=new uC(document.querySelector(".dnd-container"),{draggable:".dnd-target",sortAnimation:{duration:200,easingFunction:"ease-in-out"},classes:{"container:dragging":["dragging"],"source:dragging":["dragging"],mirror:["dragging-mirror"],"source:placed":["placed"]},plugins:[GE]});s.on("sortable:sort",o=>{}),s.on("drag:out:container",o=>{})};return gr(async()=>{n.setStatusBar({title:"",icon:"gauge"}),r()}),za(()=>n.unsetStatusBar()),(s,o)=>(ee(),Ee("div",oH,[he("p",aH,"WOOJ v"+Qt(i.value),1),o[0]||(o[0]=he("p",{class:"view-index__subtitle"},"   ",-1)),he("div",lH,[(ee(),Ee(Pt,null,Is(5,a=>he("div",{class:"dnd-target",style:Ao({height:`${(a+10)*a}px`})},null,4)),64))])]))}},uH=gt(cH,[["__scopeId","data-v-94edabd6"]]);var id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dH(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var fH=Hl.exports,N0;function hH(){return N0||(N0=1,function(t,e){(function(){var n,i="4.17.21",r=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",h=1,p=2,g=4,m=1,b=2,y=1,S=2,x=4,E=8,M=16,A=32,z=64,L=128,R=256,k=512,D=30,X="...",F=800,U=16,q=1,oe=2,Z=3,$=1/0,W=9007199254740991,re=17976931348623157e292,Te=NaN,Be=4294967295,tt=Be-1,Nt=Be>>>1,yn=[["ary",L],["bind",y],["bindKey",S],["curry",E],["curryRight",M],["flip",k],["partial",A],["partialRight",z],["rearg",R]],fe="[object Arguments]",ie="[object Array]",B="[object AsyncFunction]",de="[object Boolean]",ve="[object Date]",xe="[object DOMException]",He="[object Error]",O="[object Function]",I="[object GeneratorFunction]",H="[object Map]",J="[object Number]",ce="[object Null]",Q="[object Object]",Y="[object Promise]",se="[object Proxy]",te="[object RegExp]",ae="[object Set]",_e="[object String]",ye="[object Symbol]",Ae="[object Undefined]",Ie="[object WeakMap]",qe="[object WeakSet]",Ke="[object ArrayBuffer]",Je="[object DataView]",Mt="[object Float32Array]",qt="[object Float64Array]",zn="[object Int8Array]",$n="[object Int16Array]",br="[object Int32Array]",Po="[object Uint8Array]",on="[object Uint8ClampedArray]",Bn="[object Uint16Array]",Io="[object Uint32Array]",NM=/\b__p \+= '';/g,zM=/\b(__p \+=) '' \+/g,$M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Nv=/&(?:amp|lt|gt|quot|#39);/g,zv=/[&<>"']/g,BM=RegExp(Nv.source),FM=RegExp(zv.source),HM=/<%-([\s\S]+?)%>/g,WM=/<%([\s\S]+?)%>/g,$v=/<%=([\s\S]+?)%>/g,VM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jM=/^\w*$/,UM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ih=/[\\^$.*+?()[\]{}|]/g,YM=RegExp(ih.source),rh=/^\s+/,XM=/\s/,qM=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,GM=/\{\n\/\* \[wrapped with (.+)\] \*/,KM=/,? & /,JM=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ZM=/[()=,{}\[\]\/\s]/,QM=/\\(\\)?/g,e_=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Bv=/\w*$/,t_=/^[-+]0x[0-9a-f]+$/i,n_=/^0b[01]+$/i,i_=/^\[object .+?Constructor\]$/,r_=/^0o[0-7]+$/i,s_=/^(?:0|[1-9]\d*)$/,o_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jc=/($^)/,a_=/['\n\r\u2028\u2029\\]/g,Zc="\\ud800-\\udfff",l_="\\u0300-\\u036f",c_="\\ufe20-\\ufe2f",u_="\\u20d0-\\u20ff",Fv=l_+c_+u_,Hv="\\u2700-\\u27bf",Wv="a-z\\xdf-\\xf6\\xf8-\\xff",d_="\\xac\\xb1\\xd7\\xf7",f_="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",h_="\\u2000-\\u206f",p_=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vv="A-Z\\xc0-\\xd6\\xd8-\\xde",jv="\\ufe0e\\ufe0f",Uv=d_+f_+h_+p_,sh="[']",m_="["+Zc+"]",Yv="["+Uv+"]",Qc="["+Fv+"]",Xv="\\d+",g_="["+Hv+"]",qv="["+Wv+"]",Gv="[^"+Zc+Uv+Xv+Hv+Wv+Vv+"]",oh="\\ud83c[\\udffb-\\udfff]",v_="(?:"+Qc+"|"+oh+")",Kv="[^"+Zc+"]",ah="(?:\\ud83c[\\udde6-\\uddff]){2}",lh="[\\ud800-\\udbff][\\udc00-\\udfff]",Lo="["+Vv+"]",Jv="\\u200d",Zv="(?:"+qv+"|"+Gv+")",b_="(?:"+Lo+"|"+Gv+")",Qv="(?:"+sh+"(?:d|ll|m|re|s|t|ve))?",eb="(?:"+sh+"(?:D|LL|M|RE|S|T|VE))?",tb=v_+"?",nb="["+jv+"]?",y_="(?:"+Jv+"(?:"+[Kv,ah,lh].join("|")+")"+nb+tb+")*",w_="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",S_="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ib=nb+tb+y_,x_="(?:"+[g_,ah,lh].join("|")+")"+ib,E_="(?:"+[Kv+Qc+"?",Qc,ah,lh,m_].join("|")+")",C_=RegExp(sh,"g"),T_=RegExp(Qc,"g"),ch=RegExp(oh+"(?="+oh+")|"+E_+ib,"g"),M_=RegExp([Lo+"?"+qv+"+"+Qv+"(?="+[Yv,Lo,"$"].join("|")+")",b_+"+"+eb+"(?="+[Yv,Lo+Zv,"$"].join("|")+")",Lo+"?"+Zv+"+"+Qv,Lo+"+"+eb,S_,w_,Xv,x_].join("|"),"g"),__=RegExp("["+Jv+Zc+Fv+jv+"]"),A_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,k_=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],O_=-1,Et={};Et[Mt]=Et[qt]=Et[zn]=Et[$n]=Et[br]=Et[Po]=Et[on]=Et[Bn]=Et[Io]=!0,Et[fe]=Et[ie]=Et[Ke]=Et[de]=Et[Je]=Et[ve]=Et[He]=Et[O]=Et[H]=Et[J]=Et[Q]=Et[te]=Et[ae]=Et[_e]=Et[Ie]=!1;var wt={};wt[fe]=wt[ie]=wt[Ke]=wt[Je]=wt[de]=wt[ve]=wt[Mt]=wt[qt]=wt[zn]=wt[$n]=wt[br]=wt[H]=wt[J]=wt[Q]=wt[te]=wt[ae]=wt[_e]=wt[ye]=wt[Po]=wt[on]=wt[Bn]=wt[Io]=!0,wt[He]=wt[O]=wt[Ie]=!1;var R_={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},P_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},I_={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},L_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},D_=parseFloat,N_=parseInt,rb=typeof id=="object"&&id&&id.Object===Object&&id,z_=typeof self=="object"&&self&&self.Object===Object&&self,an=rb||z_||Function("return this")(),uh=e&&!e.nodeType&&e,Hs=uh&&!0&&t&&!t.nodeType&&t,sb=Hs&&Hs.exports===uh,dh=sb&&rb.process,pi=function(){try{var V=Hs&&Hs.require&&Hs.require("util").types;return V||dh&&dh.binding&&dh.binding("util")}catch{}}(),ob=pi&&pi.isArrayBuffer,ab=pi&&pi.isDate,lb=pi&&pi.isMap,cb=pi&&pi.isRegExp,ub=pi&&pi.isSet,db=pi&&pi.isTypedArray;function Jn(V,ne,G){switch(G.length){case 0:return V.call(ne);case 1:return V.call(ne,G[0]);case 2:return V.call(ne,G[0],G[1]);case 3:return V.call(ne,G[0],G[1],G[2])}return V.apply(ne,G)}function $_(V,ne,G,Ce){for(var We=-1,ut=V==null?0:V.length;++We<ut;){var Ut=V[We];ne(Ce,Ut,G(Ut),V)}return Ce}function mi(V,ne){for(var G=-1,Ce=V==null?0:V.length;++G<Ce&&ne(V[G],G,V)!==!1;);return V}function B_(V,ne){for(var G=V==null?0:V.length;G--&&ne(V[G],G,V)!==!1;);return V}function fb(V,ne){for(var G=-1,Ce=V==null?0:V.length;++G<Ce;)if(!ne(V[G],G,V))return!1;return!0}function Kr(V,ne){for(var G=-1,Ce=V==null?0:V.length,We=0,ut=[];++G<Ce;){var Ut=V[G];ne(Ut,G,V)&&(ut[We++]=Ut)}return ut}function eu(V,ne){var G=V==null?0:V.length;return!!G&&Do(V,ne,0)>-1}function fh(V,ne,G){for(var Ce=-1,We=V==null?0:V.length;++Ce<We;)if(G(ne,V[Ce]))return!0;return!1}function Ct(V,ne){for(var G=-1,Ce=V==null?0:V.length,We=Array(Ce);++G<Ce;)We[G]=ne(V[G],G,V);return We}function Jr(V,ne){for(var G=-1,Ce=ne.length,We=V.length;++G<Ce;)V[We+G]=ne[G];return V}function hh(V,ne,G,Ce){var We=-1,ut=V==null?0:V.length;for(Ce&&ut&&(G=V[++We]);++We<ut;)G=ne(G,V[We],We,V);return G}function F_(V,ne,G,Ce){var We=V==null?0:V.length;for(Ce&&We&&(G=V[--We]);We--;)G=ne(G,V[We],We,V);return G}function ph(V,ne){for(var G=-1,Ce=V==null?0:V.length;++G<Ce;)if(ne(V[G],G,V))return!0;return!1}var H_=mh("length");function W_(V){return V.split("")}function V_(V){return V.match(JM)||[]}function hb(V,ne,G){var Ce;return G(V,function(We,ut,Ut){if(ne(We,ut,Ut))return Ce=ut,!1}),Ce}function tu(V,ne,G,Ce){for(var We=V.length,ut=G+(Ce?1:-1);Ce?ut--:++ut<We;)if(ne(V[ut],ut,V))return ut;return-1}function Do(V,ne,G){return ne===ne?tA(V,ne,G):tu(V,pb,G)}function j_(V,ne,G,Ce){for(var We=G-1,ut=V.length;++We<ut;)if(Ce(V[We],ne))return We;return-1}function pb(V){return V!==V}function mb(V,ne){var G=V==null?0:V.length;return G?vh(V,ne)/G:Te}function mh(V){return function(ne){return ne==null?n:ne[V]}}function gh(V){return function(ne){return V==null?n:V[ne]}}function gb(V,ne,G,Ce,We){return We(V,function(ut,Ut,vt){G=Ce?(Ce=!1,ut):ne(G,ut,Ut,vt)}),G}function U_(V,ne){var G=V.length;for(V.sort(ne);G--;)V[G]=V[G].value;return V}function vh(V,ne){for(var G,Ce=-1,We=V.length;++Ce<We;){var ut=ne(V[Ce]);ut!==n&&(G=G===n?ut:G+ut)}return G}function bh(V,ne){for(var G=-1,Ce=Array(V);++G<V;)Ce[G]=ne(G);return Ce}function Y_(V,ne){return Ct(ne,function(G){return[G,V[G]]})}function vb(V){return V&&V.slice(0,Sb(V)+1).replace(rh,"")}function Zn(V){return function(ne){return V(ne)}}function yh(V,ne){return Ct(ne,function(G){return V[G]})}function Ua(V,ne){return V.has(ne)}function bb(V,ne){for(var G=-1,Ce=V.length;++G<Ce&&Do(ne,V[G],0)>-1;);return G}function yb(V,ne){for(var G=V.length;G--&&Do(ne,V[G],0)>-1;);return G}function X_(V,ne){for(var G=V.length,Ce=0;G--;)V[G]===ne&&++Ce;return Ce}var q_=gh(R_),G_=gh(P_);function K_(V){return"\\"+L_[V]}function J_(V,ne){return V==null?n:V[ne]}function No(V){return __.test(V)}function Z_(V){return A_.test(V)}function Q_(V){for(var ne,G=[];!(ne=V.next()).done;)G.push(ne.value);return G}function wh(V){var ne=-1,G=Array(V.size);return V.forEach(function(Ce,We){G[++ne]=[We,Ce]}),G}function wb(V,ne){return function(G){return V(ne(G))}}function Zr(V,ne){for(var G=-1,Ce=V.length,We=0,ut=[];++G<Ce;){var Ut=V[G];(Ut===ne||Ut===d)&&(V[G]=d,ut[We++]=G)}return ut}function nu(V){var ne=-1,G=Array(V.size);return V.forEach(function(Ce){G[++ne]=Ce}),G}function eA(V){var ne=-1,G=Array(V.size);return V.forEach(function(Ce){G[++ne]=[Ce,Ce]}),G}function tA(V,ne,G){for(var Ce=G-1,We=V.length;++Ce<We;)if(V[Ce]===ne)return Ce;return-1}function nA(V,ne,G){for(var Ce=G+1;Ce--;)if(V[Ce]===ne)return Ce;return Ce}function zo(V){return No(V)?rA(V):H_(V)}function Li(V){return No(V)?sA(V):W_(V)}function Sb(V){for(var ne=V.length;ne--&&XM.test(V.charAt(ne)););return ne}var iA=gh(I_);function rA(V){for(var ne=ch.lastIndex=0;ch.test(V);)++ne;return ne}function sA(V){return V.match(ch)||[]}function oA(V){return V.match(M_)||[]}var aA=function V(ne){ne=ne==null?an:$o.defaults(an.Object(),ne,$o.pick(an,k_));var G=ne.Array,Ce=ne.Date,We=ne.Error,ut=ne.Function,Ut=ne.Math,vt=ne.Object,Sh=ne.RegExp,lA=ne.String,gi=ne.TypeError,iu=G.prototype,cA=ut.prototype,Bo=vt.prototype,ru=ne["__core-js_shared__"],su=cA.toString,pt=Bo.hasOwnProperty,uA=0,xb=function(){var c=/[^.]+$/.exec(ru&&ru.keys&&ru.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),ou=Bo.toString,dA=su.call(vt),fA=an._,hA=Sh("^"+su.call(pt).replace(ih,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),au=sb?ne.Buffer:n,Qr=ne.Symbol,lu=ne.Uint8Array,Eb=au?au.allocUnsafe:n,cu=wb(vt.getPrototypeOf,vt),Cb=vt.create,Tb=Bo.propertyIsEnumerable,uu=iu.splice,Mb=Qr?Qr.isConcatSpreadable:n,Ya=Qr?Qr.iterator:n,Ws=Qr?Qr.toStringTag:n,du=function(){try{var c=Xs(vt,"defineProperty");return c({},"",{}),c}catch{}}(),pA=ne.clearTimeout!==an.clearTimeout&&ne.clearTimeout,mA=Ce&&Ce.now!==an.Date.now&&Ce.now,gA=ne.setTimeout!==an.setTimeout&&ne.setTimeout,fu=Ut.ceil,hu=Ut.floor,xh=vt.getOwnPropertySymbols,vA=au?au.isBuffer:n,_b=ne.isFinite,bA=iu.join,yA=wb(vt.keys,vt),Yt=Ut.max,wn=Ut.min,wA=Ce.now,SA=ne.parseInt,Ab=Ut.random,xA=iu.reverse,Eh=Xs(ne,"DataView"),Xa=Xs(ne,"Map"),Ch=Xs(ne,"Promise"),Fo=Xs(ne,"Set"),qa=Xs(ne,"WeakMap"),Ga=Xs(vt,"create"),pu=qa&&new qa,Ho={},EA=qs(Eh),CA=qs(Xa),TA=qs(Ch),MA=qs(Fo),_A=qs(qa),mu=Qr?Qr.prototype:n,Ka=mu?mu.valueOf:n,kb=mu?mu.toString:n;function T(c){if(kt(c)&&!Ve(c)&&!(c instanceof rt)){if(c instanceof vi)return c;if(pt.call(c,"__wrapped__"))return Oy(c)}return new vi(c)}var Wo=function(){function c(){}return function(f){if(!_t(f))return{};if(Cb)return Cb(f);c.prototype=f;var v=new c;return c.prototype=n,v}}();function gu(){}function vi(c,f){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=n}T.templateSettings={escape:HM,evaluate:WM,interpolate:$v,variable:"",imports:{_:T}},T.prototype=gu.prototype,T.prototype.constructor=T,vi.prototype=Wo(gu.prototype),vi.prototype.constructor=vi;function rt(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Be,this.__views__=[]}function AA(){var c=new rt(this.__wrapped__);return c.__actions__=Fn(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Fn(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Fn(this.__views__),c}function kA(){if(this.__filtered__){var c=new rt(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function OA(){var c=this.__wrapped__.value(),f=this.__dir__,v=Ve(c),w=f<0,C=v?c.length:0,_=Wk(0,C,this.__views__),P=_.start,N=_.end,j=N-P,le=w?N:P-1,ue=this.__iteratees__,pe=ue.length,we=0,ke=wn(j,this.__takeCount__);if(!v||!w&&C==j&&ke==j)return Qb(c,this.__actions__);var ze=[];e:for(;j--&&we<ke;){le+=f;for(var Ge=-1,$e=c[le];++Ge<pe;){var nt=ue[Ge],st=nt.iteratee,ti=nt.type,On=st($e);if(ti==oe)$e=On;else if(!On){if(ti==q)continue e;break e}}ze[we++]=$e}return ze}rt.prototype=Wo(gu.prototype),rt.prototype.constructor=rt;function Vs(c){var f=-1,v=c==null?0:c.length;for(this.clear();++f<v;){var w=c[f];this.set(w[0],w[1])}}function RA(){this.__data__=Ga?Ga(null):{},this.size=0}function PA(c){var f=this.has(c)&&delete this.__data__[c];return this.size-=f?1:0,f}function IA(c){var f=this.__data__;if(Ga){var v=f[c];return v===l?n:v}return pt.call(f,c)?f[c]:n}function LA(c){var f=this.__data__;return Ga?f[c]!==n:pt.call(f,c)}function DA(c,f){var v=this.__data__;return this.size+=this.has(c)?0:1,v[c]=Ga&&f===n?l:f,this}Vs.prototype.clear=RA,Vs.prototype.delete=PA,Vs.prototype.get=IA,Vs.prototype.has=LA,Vs.prototype.set=DA;function yr(c){var f=-1,v=c==null?0:c.length;for(this.clear();++f<v;){var w=c[f];this.set(w[0],w[1])}}function NA(){this.__data__=[],this.size=0}function zA(c){var f=this.__data__,v=vu(f,c);if(v<0)return!1;var w=f.length-1;return v==w?f.pop():uu.call(f,v,1),--this.size,!0}function $A(c){var f=this.__data__,v=vu(f,c);return v<0?n:f[v][1]}function BA(c){return vu(this.__data__,c)>-1}function FA(c,f){var v=this.__data__,w=vu(v,c);return w<0?(++this.size,v.push([c,f])):v[w][1]=f,this}yr.prototype.clear=NA,yr.prototype.delete=zA,yr.prototype.get=$A,yr.prototype.has=BA,yr.prototype.set=FA;function wr(c){var f=-1,v=c==null?0:c.length;for(this.clear();++f<v;){var w=c[f];this.set(w[0],w[1])}}function HA(){this.size=0,this.__data__={hash:new Vs,map:new(Xa||yr),string:new Vs}}function WA(c){var f=ku(this,c).delete(c);return this.size-=f?1:0,f}function VA(c){return ku(this,c).get(c)}function jA(c){return ku(this,c).has(c)}function UA(c,f){var v=ku(this,c),w=v.size;return v.set(c,f),this.size+=v.size==w?0:1,this}wr.prototype.clear=HA,wr.prototype.delete=WA,wr.prototype.get=VA,wr.prototype.has=jA,wr.prototype.set=UA;function js(c){var f=-1,v=c==null?0:c.length;for(this.__data__=new wr;++f<v;)this.add(c[f])}function YA(c){return this.__data__.set(c,l),this}function XA(c){return this.__data__.has(c)}js.prototype.add=js.prototype.push=YA,js.prototype.has=XA;function Di(c){var f=this.__data__=new yr(c);this.size=f.size}function qA(){this.__data__=new yr,this.size=0}function GA(c){var f=this.__data__,v=f.delete(c);return this.size=f.size,v}function KA(c){return this.__data__.get(c)}function JA(c){return this.__data__.has(c)}function ZA(c,f){var v=this.__data__;if(v instanceof yr){var w=v.__data__;if(!Xa||w.length<r-1)return w.push([c,f]),this.size=++v.size,this;v=this.__data__=new wr(w)}return v.set(c,f),this.size=v.size,this}Di.prototype.clear=qA,Di.prototype.delete=GA,Di.prototype.get=KA,Di.prototype.has=JA,Di.prototype.set=ZA;function Ob(c,f){var v=Ve(c),w=!v&&Gs(c),C=!v&&!w&&rs(c),_=!v&&!w&&!C&&Yo(c),P=v||w||C||_,N=P?bh(c.length,lA):[],j=N.length;for(var le in c)(f||pt.call(c,le))&&!(P&&(le=="length"||C&&(le=="offset"||le=="parent")||_&&(le=="buffer"||le=="byteLength"||le=="byteOffset")||Cr(le,j)))&&N.push(le);return N}function Rb(c){var f=c.length;return f?c[Dh(0,f-1)]:n}function QA(c,f){return Ou(Fn(c),Us(f,0,c.length))}function ek(c){return Ou(Fn(c))}function Th(c,f,v){(v!==n&&!Ni(c[f],v)||v===n&&!(f in c))&&Sr(c,f,v)}function Ja(c,f,v){var w=c[f];(!(pt.call(c,f)&&Ni(w,v))||v===n&&!(f in c))&&Sr(c,f,v)}function vu(c,f){for(var v=c.length;v--;)if(Ni(c[v][0],f))return v;return-1}function tk(c,f,v,w){return es(c,function(C,_,P){f(w,C,v(C),P)}),w}function Pb(c,f){return c&&Ji(f,Gt(f),c)}function nk(c,f){return c&&Ji(f,Wn(f),c)}function Sr(c,f,v){f=="__proto__"&&du?du(c,f,{configurable:!0,enumerable:!0,value:v,writable:!0}):c[f]=v}function Mh(c,f){for(var v=-1,w=f.length,C=G(w),_=c==null;++v<w;)C[v]=_?n:op(c,f[v]);return C}function Us(c,f,v){return c===c&&(v!==n&&(c=c<=v?c:v),f!==n&&(c=c>=f?c:f)),c}function bi(c,f,v,w,C,_){var P,N=f&h,j=f&p,le=f&g;if(v&&(P=C?v(c,w,C,_):v(c)),P!==n)return P;if(!_t(c))return c;var ue=Ve(c);if(ue){if(P=jk(c),!N)return Fn(c,P)}else{var pe=Sn(c),we=pe==O||pe==I;if(rs(c))return ny(c,N);if(pe==Q||pe==fe||we&&!C){if(P=j||we?{}:Sy(c),!N)return j?Ik(c,nk(P,c)):Pk(c,Pb(P,c))}else{if(!wt[pe])return C?c:{};P=Uk(c,pe,N)}}_||(_=new Di);var ke=_.get(c);if(ke)return ke;_.set(c,P),Ky(c)?c.forEach(function($e){P.add(bi($e,f,v,$e,c,_))}):qy(c)&&c.forEach(function($e,nt){P.set(nt,bi($e,f,v,nt,c,_))});var ze=le?j?Yh:Uh:j?Wn:Gt,Ge=ue?n:ze(c);return mi(Ge||c,function($e,nt){Ge&&(nt=$e,$e=c[nt]),Ja(P,nt,bi($e,f,v,nt,c,_))}),P}function ik(c){var f=Gt(c);return function(v){return Ib(v,c,f)}}function Ib(c,f,v){var w=v.length;if(c==null)return!w;for(c=vt(c);w--;){var C=v[w],_=f[C],P=c[C];if(P===n&&!(C in c)||!_(P))return!1}return!0}function Lb(c,f,v){if(typeof c!="function")throw new gi(o);return rl(function(){c.apply(n,v)},f)}function Za(c,f,v,w){var C=-1,_=eu,P=!0,N=c.length,j=[],le=f.length;if(!N)return j;v&&(f=Ct(f,Zn(v))),w?(_=fh,P=!1):f.length>=r&&(_=Ua,P=!1,f=new js(f));e:for(;++C<N;){var ue=c[C],pe=v==null?ue:v(ue);if(ue=w||ue!==0?ue:0,P&&pe===pe){for(var we=le;we--;)if(f[we]===pe)continue e;j.push(ue)}else _(f,pe,w)||j.push(ue)}return j}var es=ay(Ki),Db=ay(Ah,!0);function rk(c,f){var v=!0;return es(c,function(w,C,_){return v=!!f(w,C,_),v}),v}function bu(c,f,v){for(var w=-1,C=c.length;++w<C;){var _=c[w],P=f(_);if(P!=null&&(N===n?P===P&&!ei(P):v(P,N)))var N=P,j=_}return j}function sk(c,f,v,w){var C=c.length;for(v=Ye(v),v<0&&(v=-v>C?0:C+v),w=w===n||w>C?C:Ye(w),w<0&&(w+=C),w=v>w?0:Zy(w);v<w;)c[v++]=f;return c}function Nb(c,f){var v=[];return es(c,function(w,C,_){f(w,C,_)&&v.push(w)}),v}function ln(c,f,v,w,C){var _=-1,P=c.length;for(v||(v=Xk),C||(C=[]);++_<P;){var N=c[_];f>0&&v(N)?f>1?ln(N,f-1,v,w,C):Jr(C,N):w||(C[C.length]=N)}return C}var _h=ly(),zb=ly(!0);function Ki(c,f){return c&&_h(c,f,Gt)}function Ah(c,f){return c&&zb(c,f,Gt)}function yu(c,f){return Kr(f,function(v){return Tr(c[v])})}function Ys(c,f){f=ns(f,c);for(var v=0,w=f.length;c!=null&&v<w;)c=c[Zi(f[v++])];return v&&v==w?c:n}function $b(c,f,v){var w=f(c);return Ve(c)?w:Jr(w,v(c))}function An(c){return c==null?c===n?Ae:ce:Ws&&Ws in vt(c)?Hk(c):eO(c)}function kh(c,f){return c>f}function ok(c,f){return c!=null&&pt.call(c,f)}function ak(c,f){return c!=null&&f in vt(c)}function lk(c,f,v){return c>=wn(f,v)&&c<Yt(f,v)}function Oh(c,f,v){for(var w=v?fh:eu,C=c[0].length,_=c.length,P=_,N=G(_),j=1/0,le=[];P--;){var ue=c[P];P&&f&&(ue=Ct(ue,Zn(f))),j=wn(ue.length,j),N[P]=!v&&(f||C>=120&&ue.length>=120)?new js(P&&ue):n}ue=c[0];var pe=-1,we=N[0];e:for(;++pe<C&&le.length<j;){var ke=ue[pe],ze=f?f(ke):ke;if(ke=v||ke!==0?ke:0,!(we?Ua(we,ze):w(le,ze,v))){for(P=_;--P;){var Ge=N[P];if(!(Ge?Ua(Ge,ze):w(c[P],ze,v)))continue e}we&&we.push(ze),le.push(ke)}}return le}function ck(c,f,v,w){return Ki(c,function(C,_,P){f(w,v(C),_,P)}),w}function Qa(c,f,v){f=ns(f,c),c=Ty(c,f);var w=c==null?c:c[Zi(wi(f))];return w==null?n:Jn(w,c,v)}function Bb(c){return kt(c)&&An(c)==fe}function uk(c){return kt(c)&&An(c)==Ke}function dk(c){return kt(c)&&An(c)==ve}function el(c,f,v,w,C){return c===f?!0:c==null||f==null||!kt(c)&&!kt(f)?c!==c&&f!==f:fk(c,f,v,w,el,C)}function fk(c,f,v,w,C,_){var P=Ve(c),N=Ve(f),j=P?ie:Sn(c),le=N?ie:Sn(f);j=j==fe?Q:j,le=le==fe?Q:le;var ue=j==Q,pe=le==Q,we=j==le;if(we&&rs(c)){if(!rs(f))return!1;P=!0,ue=!1}if(we&&!ue)return _||(_=new Di),P||Yo(c)?by(c,f,v,w,C,_):Bk(c,f,j,v,w,C,_);if(!(v&m)){var ke=ue&&pt.call(c,"__wrapped__"),ze=pe&&pt.call(f,"__wrapped__");if(ke||ze){var Ge=ke?c.value():c,$e=ze?f.value():f;return _||(_=new Di),C(Ge,$e,v,w,_)}}return we?(_||(_=new Di),Fk(c,f,v,w,C,_)):!1}function hk(c){return kt(c)&&Sn(c)==H}function Rh(c,f,v,w){var C=v.length,_=C,P=!w;if(c==null)return!_;for(c=vt(c);C--;){var N=v[C];if(P&&N[2]?N[1]!==c[N[0]]:!(N[0]in c))return!1}for(;++C<_;){N=v[C];var j=N[0],le=c[j],ue=N[1];if(P&&N[2]){if(le===n&&!(j in c))return!1}else{var pe=new Di;if(w)var we=w(le,ue,j,c,f,pe);if(!(we===n?el(ue,le,m|b,w,pe):we))return!1}}return!0}function Fb(c){if(!_t(c)||Gk(c))return!1;var f=Tr(c)?hA:i_;return f.test(qs(c))}function pk(c){return kt(c)&&An(c)==te}function mk(c){return kt(c)&&Sn(c)==ae}function gk(c){return kt(c)&&Nu(c.length)&&!!Et[An(c)]}function Hb(c){return typeof c=="function"?c:c==null?Vn:typeof c=="object"?Ve(c)?jb(c[0],c[1]):Vb(c):cw(c)}function Ph(c){if(!il(c))return yA(c);var f=[];for(var v in vt(c))pt.call(c,v)&&v!="constructor"&&f.push(v);return f}function vk(c){if(!_t(c))return Qk(c);var f=il(c),v=[];for(var w in c)w=="constructor"&&(f||!pt.call(c,w))||v.push(w);return v}function Ih(c,f){return c<f}function Wb(c,f){var v=-1,w=Hn(c)?G(c.length):[];return es(c,function(C,_,P){w[++v]=f(C,_,P)}),w}function Vb(c){var f=qh(c);return f.length==1&&f[0][2]?Ey(f[0][0],f[0][1]):function(v){return v===c||Rh(v,c,f)}}function jb(c,f){return Kh(c)&&xy(f)?Ey(Zi(c),f):function(v){var w=op(v,c);return w===n&&w===f?ap(v,c):el(f,w,m|b)}}function wu(c,f,v,w,C){c!==f&&_h(f,function(_,P){if(C||(C=new Di),_t(_))bk(c,f,P,v,wu,w,C);else{var N=w?w(Zh(c,P),_,P+"",c,f,C):n;N===n&&(N=_),Th(c,P,N)}},Wn)}function bk(c,f,v,w,C,_,P){var N=Zh(c,v),j=Zh(f,v),le=P.get(j);if(le){Th(c,v,le);return}var ue=_?_(N,j,v+"",c,f,P):n,pe=ue===n;if(pe){var we=Ve(j),ke=!we&&rs(j),ze=!we&&!ke&&Yo(j);ue=j,we||ke||ze?Ve(N)?ue=N:zt(N)?ue=Fn(N):ke?(pe=!1,ue=ny(j,!0)):ze?(pe=!1,ue=iy(j,!0)):ue=[]:sl(j)||Gs(j)?(ue=N,Gs(N)?ue=Qy(N):(!_t(N)||Tr(N))&&(ue=Sy(j))):pe=!1}pe&&(P.set(j,ue),C(ue,j,w,_,P),P.delete(j)),Th(c,v,ue)}function Ub(c,f){var v=c.length;if(v)return f+=f<0?v:0,Cr(f,v)?c[f]:n}function Yb(c,f,v){f.length?f=Ct(f,function(_){return Ve(_)?function(P){return Ys(P,_.length===1?_[0]:_)}:_}):f=[Vn];var w=-1;f=Ct(f,Zn(Ne()));var C=Wb(c,function(_,P,N){var j=Ct(f,function(le){return le(_)});return{criteria:j,index:++w,value:_}});return U_(C,function(_,P){return Rk(_,P,v)})}function yk(c,f){return Xb(c,f,function(v,w){return ap(c,w)})}function Xb(c,f,v){for(var w=-1,C=f.length,_={};++w<C;){var P=f[w],N=Ys(c,P);v(N,P)&&tl(_,ns(P,c),N)}return _}function wk(c){return function(f){return Ys(f,c)}}function Lh(c,f,v,w){var C=w?j_:Do,_=-1,P=f.length,N=c;for(c===f&&(f=Fn(f)),v&&(N=Ct(c,Zn(v)));++_<P;)for(var j=0,le=f[_],ue=v?v(le):le;(j=C(N,ue,j,w))>-1;)N!==c&&uu.call(N,j,1),uu.call(c,j,1);return c}function qb(c,f){for(var v=c?f.length:0,w=v-1;v--;){var C=f[v];if(v==w||C!==_){var _=C;Cr(C)?uu.call(c,C,1):$h(c,C)}}return c}function Dh(c,f){return c+hu(Ab()*(f-c+1))}function Sk(c,f,v,w){for(var C=-1,_=Yt(fu((f-c)/(v||1)),0),P=G(_);_--;)P[w?_:++C]=c,c+=v;return P}function Nh(c,f){var v="";if(!c||f<1||f>W)return v;do f%2&&(v+=c),f=hu(f/2),f&&(c+=c);while(f);return v}function Ze(c,f){return Qh(Cy(c,f,Vn),c+"")}function xk(c){return Rb(Xo(c))}function Ek(c,f){var v=Xo(c);return Ou(v,Us(f,0,v.length))}function tl(c,f,v,w){if(!_t(c))return c;f=ns(f,c);for(var C=-1,_=f.length,P=_-1,N=c;N!=null&&++C<_;){var j=Zi(f[C]),le=v;if(j==="__proto__"||j==="constructor"||j==="prototype")return c;if(C!=P){var ue=N[j];le=w?w(ue,j,N):n,le===n&&(le=_t(ue)?ue:Cr(f[C+1])?[]:{})}Ja(N,j,le),N=N[j]}return c}var Gb=pu?function(c,f){return pu.set(c,f),c}:Vn,Ck=du?function(c,f){return du(c,"toString",{configurable:!0,enumerable:!1,value:cp(f),writable:!0})}:Vn;function Tk(c){return Ou(Xo(c))}function yi(c,f,v){var w=-1,C=c.length;f<0&&(f=-f>C?0:C+f),v=v>C?C:v,v<0&&(v+=C),C=f>v?0:v-f>>>0,f>>>=0;for(var _=G(C);++w<C;)_[w]=c[w+f];return _}function Mk(c,f){var v;return es(c,function(w,C,_){return v=f(w,C,_),!v}),!!v}function Su(c,f,v){var w=0,C=c==null?w:c.length;if(typeof f=="number"&&f===f&&C<=Nt){for(;w<C;){var _=w+C>>>1,P=c[_];P!==null&&!ei(P)&&(v?P<=f:P<f)?w=_+1:C=_}return C}return zh(c,f,Vn,v)}function zh(c,f,v,w){var C=0,_=c==null?0:c.length;if(_===0)return 0;f=v(f);for(var P=f!==f,N=f===null,j=ei(f),le=f===n;C<_;){var ue=hu((C+_)/2),pe=v(c[ue]),we=pe!==n,ke=pe===null,ze=pe===pe,Ge=ei(pe);if(P)var $e=w||ze;else le?$e=ze&&(w||we):N?$e=ze&&we&&(w||!ke):j?$e=ze&&we&&!ke&&(w||!Ge):ke||Ge?$e=!1:$e=w?pe<=f:pe<f;$e?C=ue+1:_=ue}return wn(_,tt)}function Kb(c,f){for(var v=-1,w=c.length,C=0,_=[];++v<w;){var P=c[v],N=f?f(P):P;if(!v||!Ni(N,j)){var j=N;_[C++]=P===0?0:P}}return _}function Jb(c){return typeof c=="number"?c:ei(c)?Te:+c}function Qn(c){if(typeof c=="string")return c;if(Ve(c))return Ct(c,Qn)+"";if(ei(c))return kb?kb.call(c):"";var f=c+"";return f=="0"&&1/c==-$?"-0":f}function ts(c,f,v){var w=-1,C=eu,_=c.length,P=!0,N=[],j=N;if(v)P=!1,C=fh;else if(_>=r){var le=f?null:zk(c);if(le)return nu(le);P=!1,C=Ua,j=new js}else j=f?[]:N;e:for(;++w<_;){var ue=c[w],pe=f?f(ue):ue;if(ue=v||ue!==0?ue:0,P&&pe===pe){for(var we=j.length;we--;)if(j[we]===pe)continue e;f&&j.push(pe),N.push(ue)}else C(j,pe,v)||(j!==N&&j.push(pe),N.push(ue))}return N}function $h(c,f){return f=ns(f,c),c=Ty(c,f),c==null||delete c[Zi(wi(f))]}function Zb(c,f,v,w){return tl(c,f,v(Ys(c,f)),w)}function xu(c,f,v,w){for(var C=c.length,_=w?C:-1;(w?_--:++_<C)&&f(c[_],_,c););return v?yi(c,w?0:_,w?_+1:C):yi(c,w?_+1:0,w?C:_)}function Qb(c,f){var v=c;return v instanceof rt&&(v=v.value()),hh(f,function(w,C){return C.func.apply(C.thisArg,Jr([w],C.args))},v)}function Bh(c,f,v){var w=c.length;if(w<2)return w?ts(c[0]):[];for(var C=-1,_=G(w);++C<w;)for(var P=c[C],N=-1;++N<w;)N!=C&&(_[C]=Za(_[C]||P,c[N],f,v));return ts(ln(_,1),f,v)}function ey(c,f,v){for(var w=-1,C=c.length,_=f.length,P={};++w<C;){var N=w<_?f[w]:n;v(P,c[w],N)}return P}function Fh(c){return zt(c)?c:[]}function Hh(c){return typeof c=="function"?c:Vn}function ns(c,f){return Ve(c)?c:Kh(c,f)?[c]:ky(dt(c))}var _k=Ze;function is(c,f,v){var w=c.length;return v=v===n?w:v,!f&&v>=w?c:yi(c,f,v)}var ty=pA||function(c){return an.clearTimeout(c)};function ny(c,f){if(f)return c.slice();var v=c.length,w=Eb?Eb(v):new c.constructor(v);return c.copy(w),w}function Wh(c){var f=new c.constructor(c.byteLength);return new lu(f).set(new lu(c)),f}function Ak(c,f){var v=f?Wh(c.buffer):c.buffer;return new c.constructor(v,c.byteOffset,c.byteLength)}function kk(c){var f=new c.constructor(c.source,Bv.exec(c));return f.lastIndex=c.lastIndex,f}function Ok(c){return Ka?vt(Ka.call(c)):{}}function iy(c,f){var v=f?Wh(c.buffer):c.buffer;return new c.constructor(v,c.byteOffset,c.length)}function ry(c,f){if(c!==f){var v=c!==n,w=c===null,C=c===c,_=ei(c),P=f!==n,N=f===null,j=f===f,le=ei(f);if(!N&&!le&&!_&&c>f||_&&P&&j&&!N&&!le||w&&P&&j||!v&&j||!C)return 1;if(!w&&!_&&!le&&c<f||le&&v&&C&&!w&&!_||N&&v&&C||!P&&C||!j)return-1}return 0}function Rk(c,f,v){for(var w=-1,C=c.criteria,_=f.criteria,P=C.length,N=v.length;++w<P;){var j=ry(C[w],_[w]);if(j){if(w>=N)return j;var le=v[w];return j*(le=="desc"?-1:1)}}return c.index-f.index}function sy(c,f,v,w){for(var C=-1,_=c.length,P=v.length,N=-1,j=f.length,le=Yt(_-P,0),ue=G(j+le),pe=!w;++N<j;)ue[N]=f[N];for(;++C<P;)(pe||C<_)&&(ue[v[C]]=c[C]);for(;le--;)ue[N++]=c[C++];return ue}function oy(c,f,v,w){for(var C=-1,_=c.length,P=-1,N=v.length,j=-1,le=f.length,ue=Yt(_-N,0),pe=G(ue+le),we=!w;++C<ue;)pe[C]=c[C];for(var ke=C;++j<le;)pe[ke+j]=f[j];for(;++P<N;)(we||C<_)&&(pe[ke+v[P]]=c[C++]);return pe}function Fn(c,f){var v=-1,w=c.length;for(f||(f=G(w));++v<w;)f[v]=c[v];return f}function Ji(c,f,v,w){var C=!v;v||(v={});for(var _=-1,P=f.length;++_<P;){var N=f[_],j=w?w(v[N],c[N],N,v,c):n;j===n&&(j=c[N]),C?Sr(v,N,j):Ja(v,N,j)}return v}function Pk(c,f){return Ji(c,Gh(c),f)}function Ik(c,f){return Ji(c,yy(c),f)}function Eu(c,f){return function(v,w){var C=Ve(v)?$_:tk,_=f?f():{};return C(v,c,Ne(w,2),_)}}function Vo(c){return Ze(function(f,v){var w=-1,C=v.length,_=C>1?v[C-1]:n,P=C>2?v[2]:n;for(_=c.length>3&&typeof _=="function"?(C--,_):n,P&&kn(v[0],v[1],P)&&(_=C<3?n:_,C=1),f=vt(f);++w<C;){var N=v[w];N&&c(f,N,w,_)}return f})}function ay(c,f){return function(v,w){if(v==null)return v;if(!Hn(v))return c(v,w);for(var C=v.length,_=f?C:-1,P=vt(v);(f?_--:++_<C)&&w(P[_],_,P)!==!1;);return v}}function ly(c){return function(f,v,w){for(var C=-1,_=vt(f),P=w(f),N=P.length;N--;){var j=P[c?N:++C];if(v(_[j],j,_)===!1)break}return f}}function Lk(c,f,v){var w=f&y,C=nl(c);function _(){var P=this&&this!==an&&this instanceof _?C:c;return P.apply(w?v:this,arguments)}return _}function cy(c){return function(f){f=dt(f);var v=No(f)?Li(f):n,w=v?v[0]:f.charAt(0),C=v?is(v,1).join(""):f.slice(1);return w[c]()+C}}function jo(c){return function(f){return hh(aw(ow(f).replace(C_,"")),c,"")}}function nl(c){return function(){var f=arguments;switch(f.length){case 0:return new c;case 1:return new c(f[0]);case 2:return new c(f[0],f[1]);case 3:return new c(f[0],f[1],f[2]);case 4:return new c(f[0],f[1],f[2],f[3]);case 5:return new c(f[0],f[1],f[2],f[3],f[4]);case 6:return new c(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new c(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var v=Wo(c.prototype),w=c.apply(v,f);return _t(w)?w:v}}function Dk(c,f,v){var w=nl(c);function C(){for(var _=arguments.length,P=G(_),N=_,j=Uo(C);N--;)P[N]=arguments[N];var le=_<3&&P[0]!==j&&P[_-1]!==j?[]:Zr(P,j);if(_-=le.length,_<v)return py(c,f,Cu,C.placeholder,n,P,le,n,n,v-_);var ue=this&&this!==an&&this instanceof C?w:c;return Jn(ue,this,P)}return C}function uy(c){return function(f,v,w){var C=vt(f);if(!Hn(f)){var _=Ne(v,3);f=Gt(f),v=function(N){return _(C[N],N,C)}}var P=c(f,v,w);return P>-1?C[_?f[P]:P]:n}}function dy(c){return Er(function(f){var v=f.length,w=v,C=vi.prototype.thru;for(c&&f.reverse();w--;){var _=f[w];if(typeof _!="function")throw new gi(o);if(C&&!P&&Au(_)=="wrapper")var P=new vi([],!0)}for(w=P?w:v;++w<v;){_=f[w];var N=Au(_),j=N=="wrapper"?Xh(_):n;j&&Jh(j[0])&&j[1]==(L|E|A|R)&&!j[4].length&&j[9]==1?P=P[Au(j[0])].apply(P,j[3]):P=_.length==1&&Jh(_)?P[N]():P.thru(_)}return function(){var le=arguments,ue=le[0];if(P&&le.length==1&&Ve(ue))return P.plant(ue).value();for(var pe=0,we=v?f[pe].apply(this,le):ue;++pe<v;)we=f[pe].call(this,we);return we}})}function Cu(c,f,v,w,C,_,P,N,j,le){var ue=f&L,pe=f&y,we=f&S,ke=f&(E|M),ze=f&k,Ge=we?n:nl(c);function $e(){for(var nt=arguments.length,st=G(nt),ti=nt;ti--;)st[ti]=arguments[ti];if(ke)var On=Uo($e),ni=X_(st,On);if(w&&(st=sy(st,w,C,ke)),_&&(st=oy(st,_,P,ke)),nt-=ni,ke&&nt<le){var $t=Zr(st,On);return py(c,f,Cu,$e.placeholder,v,st,$t,N,j,le-nt)}var zi=pe?v:this,_r=we?zi[c]:c;return nt=st.length,N?st=tO(st,N):ze&&nt>1&&st.reverse(),ue&&j<nt&&(st.length=j),this&&this!==an&&this instanceof $e&&(_r=Ge||nl(_r)),_r.apply(zi,st)}return $e}function fy(c,f){return function(v,w){return ck(v,c,f(w),{})}}function Tu(c,f){return function(v,w){var C;if(v===n&&w===n)return f;if(v!==n&&(C=v),w!==n){if(C===n)return w;typeof v=="string"||typeof w=="string"?(v=Qn(v),w=Qn(w)):(v=Jb(v),w=Jb(w)),C=c(v,w)}return C}}function Vh(c){return Er(function(f){return f=Ct(f,Zn(Ne())),Ze(function(v){var w=this;return c(f,function(C){return Jn(C,w,v)})})})}function Mu(c,f){f=f===n?" ":Qn(f);var v=f.length;if(v<2)return v?Nh(f,c):f;var w=Nh(f,fu(c/zo(f)));return No(f)?is(Li(w),0,c).join(""):w.slice(0,c)}function Nk(c,f,v,w){var C=f&y,_=nl(c);function P(){for(var N=-1,j=arguments.length,le=-1,ue=w.length,pe=G(ue+j),we=this&&this!==an&&this instanceof P?_:c;++le<ue;)pe[le]=w[le];for(;j--;)pe[le++]=arguments[++N];return Jn(we,C?v:this,pe)}return P}function hy(c){return function(f,v,w){return w&&typeof w!="number"&&kn(f,v,w)&&(v=w=n),f=Mr(f),v===n?(v=f,f=0):v=Mr(v),w=w===n?f<v?1:-1:Mr(w),Sk(f,v,w,c)}}function _u(c){return function(f,v){return typeof f=="string"&&typeof v=="string"||(f=Si(f),v=Si(v)),c(f,v)}}function py(c,f,v,w,C,_,P,N,j,le){var ue=f&E,pe=ue?P:n,we=ue?n:P,ke=ue?_:n,ze=ue?n:_;f|=ue?A:z,f&=~(ue?z:A),f&x||(f&=-4);var Ge=[c,f,C,ke,pe,ze,we,N,j,le],$e=v.apply(n,Ge);return Jh(c)&&My($e,Ge),$e.placeholder=w,_y($e,c,f)}function jh(c){var f=Ut[c];return function(v,w){if(v=Si(v),w=w==null?0:wn(Ye(w),292),w&&_b(v)){var C=(dt(v)+"e").split("e"),_=f(C[0]+"e"+(+C[1]+w));return C=(dt(_)+"e").split("e"),+(C[0]+"e"+(+C[1]-w))}return f(v)}}var zk=Fo&&1/nu(new Fo([,-0]))[1]==$?function(c){return new Fo(c)}:fp;function my(c){return function(f){var v=Sn(f);return v==H?wh(f):v==ae?eA(f):Y_(f,c(f))}}function xr(c,f,v,w,C,_,P,N){var j=f&S;if(!j&&typeof c!="function")throw new gi(o);var le=w?w.length:0;if(le||(f&=-97,w=C=n),P=P===n?P:Yt(Ye(P),0),N=N===n?N:Ye(N),le-=C?C.length:0,f&z){var ue=w,pe=C;w=C=n}var we=j?n:Xh(c),ke=[c,f,v,w,C,ue,pe,_,P,N];if(we&&Zk(ke,we),c=ke[0],f=ke[1],v=ke[2],w=ke[3],C=ke[4],N=ke[9]=ke[9]===n?j?0:c.length:Yt(ke[9]-le,0),!N&&f&(E|M)&&(f&=-25),!f||f==y)var ze=Lk(c,f,v);else f==E||f==M?ze=Dk(c,f,N):(f==A||f==(y|A))&&!C.length?ze=Nk(c,f,v,w):ze=Cu.apply(n,ke);var Ge=we?Gb:My;return _y(Ge(ze,ke),c,f)}function gy(c,f,v,w){return c===n||Ni(c,Bo[v])&&!pt.call(w,v)?f:c}function vy(c,f,v,w,C,_){return _t(c)&&_t(f)&&(_.set(f,c),wu(c,f,n,vy,_),_.delete(f)),c}function $k(c){return sl(c)?n:c}function by(c,f,v,w,C,_){var P=v&m,N=c.length,j=f.length;if(N!=j&&!(P&&j>N))return!1;var le=_.get(c),ue=_.get(f);if(le&&ue)return le==f&&ue==c;var pe=-1,we=!0,ke=v&b?new js:n;for(_.set(c,f),_.set(f,c);++pe<N;){var ze=c[pe],Ge=f[pe];if(w)var $e=P?w(Ge,ze,pe,f,c,_):w(ze,Ge,pe,c,f,_);if($e!==n){if($e)continue;we=!1;break}if(ke){if(!ph(f,function(nt,st){if(!Ua(ke,st)&&(ze===nt||C(ze,nt,v,w,_)))return ke.push(st)})){we=!1;break}}else if(!(ze===Ge||C(ze,Ge,v,w,_))){we=!1;break}}return _.delete(c),_.delete(f),we}function Bk(c,f,v,w,C,_,P){switch(v){case Je:if(c.byteLength!=f.byteLength||c.byteOffset!=f.byteOffset)return!1;c=c.buffer,f=f.buffer;case Ke:return!(c.byteLength!=f.byteLength||!_(new lu(c),new lu(f)));case de:case ve:case J:return Ni(+c,+f);case He:return c.name==f.name&&c.message==f.message;case te:case _e:return c==f+"";case H:var N=wh;case ae:var j=w&m;if(N||(N=nu),c.size!=f.size&&!j)return!1;var le=P.get(c);if(le)return le==f;w|=b,P.set(c,f);var ue=by(N(c),N(f),w,C,_,P);return P.delete(c),ue;case ye:if(Ka)return Ka.call(c)==Ka.call(f)}return!1}function Fk(c,f,v,w,C,_){var P=v&m,N=Uh(c),j=N.length,le=Uh(f),ue=le.length;if(j!=ue&&!P)return!1;for(var pe=j;pe--;){var we=N[pe];if(!(P?we in f:pt.call(f,we)))return!1}var ke=_.get(c),ze=_.get(f);if(ke&&ze)return ke==f&&ze==c;var Ge=!0;_.set(c,f),_.set(f,c);for(var $e=P;++pe<j;){we=N[pe];var nt=c[we],st=f[we];if(w)var ti=P?w(st,nt,we,f,c,_):w(nt,st,we,c,f,_);if(!(ti===n?nt===st||C(nt,st,v,w,_):ti)){Ge=!1;break}$e||($e=we=="constructor")}if(Ge&&!$e){var On=c.constructor,ni=f.constructor;On!=ni&&"constructor"in c&&"constructor"in f&&!(typeof On=="function"&&On instanceof On&&typeof ni=="function"&&ni instanceof ni)&&(Ge=!1)}return _.delete(c),_.delete(f),Ge}function Er(c){return Qh(Cy(c,n,Iy),c+"")}function Uh(c){return $b(c,Gt,Gh)}function Yh(c){return $b(c,Wn,yy)}var Xh=pu?function(c){return pu.get(c)}:fp;function Au(c){for(var f=c.name+"",v=Ho[f],w=pt.call(Ho,f)?v.length:0;w--;){var C=v[w],_=C.func;if(_==null||_==c)return C.name}return f}function Uo(c){var f=pt.call(T,"placeholder")?T:c;return f.placeholder}function Ne(){var c=T.iteratee||up;return c=c===up?Hb:c,arguments.length?c(arguments[0],arguments[1]):c}function ku(c,f){var v=c.__data__;return qk(f)?v[typeof f=="string"?"string":"hash"]:v.map}function qh(c){for(var f=Gt(c),v=f.length;v--;){var w=f[v],C=c[w];f[v]=[w,C,xy(C)]}return f}function Xs(c,f){var v=J_(c,f);return Fb(v)?v:n}function Hk(c){var f=pt.call(c,Ws),v=c[Ws];try{c[Ws]=n;var w=!0}catch{}var C=ou.call(c);return w&&(f?c[Ws]=v:delete c[Ws]),C}var Gh=xh?function(c){return c==null?[]:(c=vt(c),Kr(xh(c),function(f){return Tb.call(c,f)}))}:hp,yy=xh?function(c){for(var f=[];c;)Jr(f,Gh(c)),c=cu(c);return f}:hp,Sn=An;(Eh&&Sn(new Eh(new ArrayBuffer(1)))!=Je||Xa&&Sn(new Xa)!=H||Ch&&Sn(Ch.resolve())!=Y||Fo&&Sn(new Fo)!=ae||qa&&Sn(new qa)!=Ie)&&(Sn=function(c){var f=An(c),v=f==Q?c.constructor:n,w=v?qs(v):"";if(w)switch(w){case EA:return Je;case CA:return H;case TA:return Y;case MA:return ae;case _A:return Ie}return f});function Wk(c,f,v){for(var w=-1,C=v.length;++w<C;){var _=v[w],P=_.size;switch(_.type){case"drop":c+=P;break;case"dropRight":f-=P;break;case"take":f=wn(f,c+P);break;case"takeRight":c=Yt(c,f-P);break}}return{start:c,end:f}}function Vk(c){var f=c.match(GM);return f?f[1].split(KM):[]}function wy(c,f,v){f=ns(f,c);for(var w=-1,C=f.length,_=!1;++w<C;){var P=Zi(f[w]);if(!(_=c!=null&&v(c,P)))break;c=c[P]}return _||++w!=C?_:(C=c==null?0:c.length,!!C&&Nu(C)&&Cr(P,C)&&(Ve(c)||Gs(c)))}function jk(c){var f=c.length,v=new c.constructor(f);return f&&typeof c[0]=="string"&&pt.call(c,"index")&&(v.index=c.index,v.input=c.input),v}function Sy(c){return typeof c.constructor=="function"&&!il(c)?Wo(cu(c)):{}}function Uk(c,f,v){var w=c.constructor;switch(f){case Ke:return Wh(c);case de:case ve:return new w(+c);case Je:return Ak(c,v);case Mt:case qt:case zn:case $n:case br:case Po:case on:case Bn:case Io:return iy(c,v);case H:return new w;case J:case _e:return new w(c);case te:return kk(c);case ae:return new w;case ye:return Ok(c)}}function Yk(c,f){var v=f.length;if(!v)return c;var w=v-1;return f[w]=(v>1?"& ":"")+f[w],f=f.join(v>2?", ":" "),c.replace(qM,`{
/* [wrapped with `+f+`] */
`)}function Xk(c){return Ve(c)||Gs(c)||!!(Mb&&c&&c[Mb])}function Cr(c,f){var v=typeof c;return f=f??W,!!f&&(v=="number"||v!="symbol"&&s_.test(c))&&c>-1&&c%1==0&&c<f}function kn(c,f,v){if(!_t(v))return!1;var w=typeof f;return(w=="number"?Hn(v)&&Cr(f,v.length):w=="string"&&f in v)?Ni(v[f],c):!1}function Kh(c,f){if(Ve(c))return!1;var v=typeof c;return v=="number"||v=="symbol"||v=="boolean"||c==null||ei(c)?!0:jM.test(c)||!VM.test(c)||f!=null&&c in vt(f)}function qk(c){var f=typeof c;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?c!=="__proto__":c===null}function Jh(c){var f=Au(c),v=T[f];if(typeof v!="function"||!(f in rt.prototype))return!1;if(c===v)return!0;var w=Xh(v);return!!w&&c===w[0]}function Gk(c){return!!xb&&xb in c}var Kk=ru?Tr:pp;function il(c){var f=c&&c.constructor,v=typeof f=="function"&&f.prototype||Bo;return c===v}function xy(c){return c===c&&!_t(c)}function Ey(c,f){return function(v){return v==null?!1:v[c]===f&&(f!==n||c in vt(v))}}function Jk(c){var f=Lu(c,function(w){return v.size===u&&v.clear(),w}),v=f.cache;return f}function Zk(c,f){var v=c[1],w=f[1],C=v|w,_=C<(y|S|L),P=w==L&&v==E||w==L&&v==R&&c[7].length<=f[8]||w==(L|R)&&f[7].length<=f[8]&&v==E;if(!(_||P))return c;w&y&&(c[2]=f[2],C|=v&y?0:x);var N=f[3];if(N){var j=c[3];c[3]=j?sy(j,N,f[4]):N,c[4]=j?Zr(c[3],d):f[4]}return N=f[5],N&&(j=c[5],c[5]=j?oy(j,N,f[6]):N,c[6]=j?Zr(c[5],d):f[6]),N=f[7],N&&(c[7]=N),w&L&&(c[8]=c[8]==null?f[8]:wn(c[8],f[8])),c[9]==null&&(c[9]=f[9]),c[0]=f[0],c[1]=C,c}function Qk(c){var f=[];if(c!=null)for(var v in vt(c))f.push(v);return f}function eO(c){return ou.call(c)}function Cy(c,f,v){return f=Yt(f===n?c.length-1:f,0),function(){for(var w=arguments,C=-1,_=Yt(w.length-f,0),P=G(_);++C<_;)P[C]=w[f+C];C=-1;for(var N=G(f+1);++C<f;)N[C]=w[C];return N[f]=v(P),Jn(c,this,N)}}function Ty(c,f){return f.length<2?c:Ys(c,yi(f,0,-1))}function tO(c,f){for(var v=c.length,w=wn(f.length,v),C=Fn(c);w--;){var _=f[w];c[w]=Cr(_,v)?C[_]:n}return c}function Zh(c,f){if(!(f==="constructor"&&typeof c[f]=="function")&&f!="__proto__")return c[f]}var My=Ay(Gb),rl=gA||function(c,f){return an.setTimeout(c,f)},Qh=Ay(Ck);function _y(c,f,v){var w=f+"";return Qh(c,Yk(w,nO(Vk(w),v)))}function Ay(c){var f=0,v=0;return function(){var w=wA(),C=U-(w-v);if(v=w,C>0){if(++f>=F)return arguments[0]}else f=0;return c.apply(n,arguments)}}function Ou(c,f){var v=-1,w=c.length,C=w-1;for(f=f===n?w:f;++v<f;){var _=Dh(v,C),P=c[_];c[_]=c[v],c[v]=P}return c.length=f,c}var ky=Jk(function(c){var f=[];return c.charCodeAt(0)===46&&f.push(""),c.replace(UM,function(v,w,C,_){f.push(C?_.replace(QM,"$1"):w||v)}),f});function Zi(c){if(typeof c=="string"||ei(c))return c;var f=c+"";return f=="0"&&1/c==-$?"-0":f}function qs(c){if(c!=null){try{return su.call(c)}catch{}try{return c+""}catch{}}return""}function nO(c,f){return mi(yn,function(v){var w="_."+v[0];f&v[1]&&!eu(c,w)&&c.push(w)}),c.sort()}function Oy(c){if(c instanceof rt)return c.clone();var f=new vi(c.__wrapped__,c.__chain__);return f.__actions__=Fn(c.__actions__),f.__index__=c.__index__,f.__values__=c.__values__,f}function iO(c,f,v){(v?kn(c,f,v):f===n)?f=1:f=Yt(Ye(f),0);var w=c==null?0:c.length;if(!w||f<1)return[];for(var C=0,_=0,P=G(fu(w/f));C<w;)P[_++]=yi(c,C,C+=f);return P}function rO(c){for(var f=-1,v=c==null?0:c.length,w=0,C=[];++f<v;){var _=c[f];_&&(C[w++]=_)}return C}function sO(){var c=arguments.length;if(!c)return[];for(var f=G(c-1),v=arguments[0],w=c;w--;)f[w-1]=arguments[w];return Jr(Ve(v)?Fn(v):[v],ln(f,1))}var oO=Ze(function(c,f){return zt(c)?Za(c,ln(f,1,zt,!0)):[]}),aO=Ze(function(c,f){var v=wi(f);return zt(v)&&(v=n),zt(c)?Za(c,ln(f,1,zt,!0),Ne(v,2)):[]}),lO=Ze(function(c,f){var v=wi(f);return zt(v)&&(v=n),zt(c)?Za(c,ln(f,1,zt,!0),n,v):[]});function cO(c,f,v){var w=c==null?0:c.length;return w?(f=v||f===n?1:Ye(f),yi(c,f<0?0:f,w)):[]}function uO(c,f,v){var w=c==null?0:c.length;return w?(f=v||f===n?1:Ye(f),f=w-f,yi(c,0,f<0?0:f)):[]}function dO(c,f){return c&&c.length?xu(c,Ne(f,3),!0,!0):[]}function fO(c,f){return c&&c.length?xu(c,Ne(f,3),!0):[]}function hO(c,f,v,w){var C=c==null?0:c.length;return C?(v&&typeof v!="number"&&kn(c,f,v)&&(v=0,w=C),sk(c,f,v,w)):[]}function Ry(c,f,v){var w=c==null?0:c.length;if(!w)return-1;var C=v==null?0:Ye(v);return C<0&&(C=Yt(w+C,0)),tu(c,Ne(f,3),C)}function Py(c,f,v){var w=c==null?0:c.length;if(!w)return-1;var C=w-1;return v!==n&&(C=Ye(v),C=v<0?Yt(w+C,0):wn(C,w-1)),tu(c,Ne(f,3),C,!0)}function Iy(c){var f=c==null?0:c.length;return f?ln(c,1):[]}function pO(c){var f=c==null?0:c.length;return f?ln(c,$):[]}function mO(c,f){var v=c==null?0:c.length;return v?(f=f===n?1:Ye(f),ln(c,f)):[]}function gO(c){for(var f=-1,v=c==null?0:c.length,w={};++f<v;){var C=c[f];w[C[0]]=C[1]}return w}function Ly(c){return c&&c.length?c[0]:n}function vO(c,f,v){var w=c==null?0:c.length;if(!w)return-1;var C=v==null?0:Ye(v);return C<0&&(C=Yt(w+C,0)),Do(c,f,C)}function bO(c){var f=c==null?0:c.length;return f?yi(c,0,-1):[]}var yO=Ze(function(c){var f=Ct(c,Fh);return f.length&&f[0]===c[0]?Oh(f):[]}),wO=Ze(function(c){var f=wi(c),v=Ct(c,Fh);return f===wi(v)?f=n:v.pop(),v.length&&v[0]===c[0]?Oh(v,Ne(f,2)):[]}),SO=Ze(function(c){var f=wi(c),v=Ct(c,Fh);return f=typeof f=="function"?f:n,f&&v.pop(),v.length&&v[0]===c[0]?Oh(v,n,f):[]});function xO(c,f){return c==null?"":bA.call(c,f)}function wi(c){var f=c==null?0:c.length;return f?c[f-1]:n}function EO(c,f,v){var w=c==null?0:c.length;if(!w)return-1;var C=w;return v!==n&&(C=Ye(v),C=C<0?Yt(w+C,0):wn(C,w-1)),f===f?nA(c,f,C):tu(c,pb,C,!0)}function CO(c,f){return c&&c.length?Ub(c,Ye(f)):n}var TO=Ze(Dy);function Dy(c,f){return c&&c.length&&f&&f.length?Lh(c,f):c}function MO(c,f,v){return c&&c.length&&f&&f.length?Lh(c,f,Ne(v,2)):c}function _O(c,f,v){return c&&c.length&&f&&f.length?Lh(c,f,n,v):c}var AO=Er(function(c,f){var v=c==null?0:c.length,w=Mh(c,f);return qb(c,Ct(f,function(C){return Cr(C,v)?+C:C}).sort(ry)),w});function kO(c,f){var v=[];if(!(c&&c.length))return v;var w=-1,C=[],_=c.length;for(f=Ne(f,3);++w<_;){var P=c[w];f(P,w,c)&&(v.push(P),C.push(w))}return qb(c,C),v}function ep(c){return c==null?c:xA.call(c)}function OO(c,f,v){var w=c==null?0:c.length;return w?(v&&typeof v!="number"&&kn(c,f,v)?(f=0,v=w):(f=f==null?0:Ye(f),v=v===n?w:Ye(v)),yi(c,f,v)):[]}function RO(c,f){return Su(c,f)}function PO(c,f,v){return zh(c,f,Ne(v,2))}function IO(c,f){var v=c==null?0:c.length;if(v){var w=Su(c,f);if(w<v&&Ni(c[w],f))return w}return-1}function LO(c,f){return Su(c,f,!0)}function DO(c,f,v){return zh(c,f,Ne(v,2),!0)}function NO(c,f){var v=c==null?0:c.length;if(v){var w=Su(c,f,!0)-1;if(Ni(c[w],f))return w}return-1}function zO(c){return c&&c.length?Kb(c):[]}function $O(c,f){return c&&c.length?Kb(c,Ne(f,2)):[]}function BO(c){var f=c==null?0:c.length;return f?yi(c,1,f):[]}function FO(c,f,v){return c&&c.length?(f=v||f===n?1:Ye(f),yi(c,0,f<0?0:f)):[]}function HO(c,f,v){var w=c==null?0:c.length;return w?(f=v||f===n?1:Ye(f),f=w-f,yi(c,f<0?0:f,w)):[]}function WO(c,f){return c&&c.length?xu(c,Ne(f,3),!1,!0):[]}function VO(c,f){return c&&c.length?xu(c,Ne(f,3)):[]}var jO=Ze(function(c){return ts(ln(c,1,zt,!0))}),UO=Ze(function(c){var f=wi(c);return zt(f)&&(f=n),ts(ln(c,1,zt,!0),Ne(f,2))}),YO=Ze(function(c){var f=wi(c);return f=typeof f=="function"?f:n,ts(ln(c,1,zt,!0),n,f)});function XO(c){return c&&c.length?ts(c):[]}function qO(c,f){return c&&c.length?ts(c,Ne(f,2)):[]}function GO(c,f){return f=typeof f=="function"?f:n,c&&c.length?ts(c,n,f):[]}function tp(c){if(!(c&&c.length))return[];var f=0;return c=Kr(c,function(v){if(zt(v))return f=Yt(v.length,f),!0}),bh(f,function(v){return Ct(c,mh(v))})}function Ny(c,f){if(!(c&&c.length))return[];var v=tp(c);return f==null?v:Ct(v,function(w){return Jn(f,n,w)})}var KO=Ze(function(c,f){return zt(c)?Za(c,f):[]}),JO=Ze(function(c){return Bh(Kr(c,zt))}),ZO=Ze(function(c){var f=wi(c);return zt(f)&&(f=n),Bh(Kr(c,zt),Ne(f,2))}),QO=Ze(function(c){var f=wi(c);return f=typeof f=="function"?f:n,Bh(Kr(c,zt),n,f)}),eR=Ze(tp);function tR(c,f){return ey(c||[],f||[],Ja)}function nR(c,f){return ey(c||[],f||[],tl)}var iR=Ze(function(c){var f=c.length,v=f>1?c[f-1]:n;return v=typeof v=="function"?(c.pop(),v):n,Ny(c,v)});function zy(c){var f=T(c);return f.__chain__=!0,f}function rR(c,f){return f(c),c}function Ru(c,f){return f(c)}var sR=Er(function(c){var f=c.length,v=f?c[0]:0,w=this.__wrapped__,C=function(_){return Mh(_,c)};return f>1||this.__actions__.length||!(w instanceof rt)||!Cr(v)?this.thru(C):(w=w.slice(v,+v+(f?1:0)),w.__actions__.push({func:Ru,args:[C],thisArg:n}),new vi(w,this.__chain__).thru(function(_){return f&&!_.length&&_.push(n),_}))});function oR(){return zy(this)}function aR(){return new vi(this.value(),this.__chain__)}function lR(){this.__values__===n&&(this.__values__=Jy(this.value()));var c=this.__index__>=this.__values__.length,f=c?n:this.__values__[this.__index__++];return{done:c,value:f}}function cR(){return this}function uR(c){for(var f,v=this;v instanceof gu;){var w=Oy(v);w.__index__=0,w.__values__=n,f?C.__wrapped__=w:f=w;var C=w;v=v.__wrapped__}return C.__wrapped__=c,f}function dR(){var c=this.__wrapped__;if(c instanceof rt){var f=c;return this.__actions__.length&&(f=new rt(this)),f=f.reverse(),f.__actions__.push({func:Ru,args:[ep],thisArg:n}),new vi(f,this.__chain__)}return this.thru(ep)}function fR(){return Qb(this.__wrapped__,this.__actions__)}var hR=Eu(function(c,f,v){pt.call(c,v)?++c[v]:Sr(c,v,1)});function pR(c,f,v){var w=Ve(c)?fb:rk;return v&&kn(c,f,v)&&(f=n),w(c,Ne(f,3))}function mR(c,f){var v=Ve(c)?Kr:Nb;return v(c,Ne(f,3))}var gR=uy(Ry),vR=uy(Py);function bR(c,f){return ln(Pu(c,f),1)}function yR(c,f){return ln(Pu(c,f),$)}function wR(c,f,v){return v=v===n?1:Ye(v),ln(Pu(c,f),v)}function $y(c,f){var v=Ve(c)?mi:es;return v(c,Ne(f,3))}function By(c,f){var v=Ve(c)?B_:Db;return v(c,Ne(f,3))}var SR=Eu(function(c,f,v){pt.call(c,v)?c[v].push(f):Sr(c,v,[f])});function xR(c,f,v,w){c=Hn(c)?c:Xo(c),v=v&&!w?Ye(v):0;var C=c.length;return v<0&&(v=Yt(C+v,0)),zu(c)?v<=C&&c.indexOf(f,v)>-1:!!C&&Do(c,f,v)>-1}var ER=Ze(function(c,f,v){var w=-1,C=typeof f=="function",_=Hn(c)?G(c.length):[];return es(c,function(P){_[++w]=C?Jn(f,P,v):Qa(P,f,v)}),_}),CR=Eu(function(c,f,v){Sr(c,v,f)});function Pu(c,f){var v=Ve(c)?Ct:Wb;return v(c,Ne(f,3))}function TR(c,f,v,w){return c==null?[]:(Ve(f)||(f=f==null?[]:[f]),v=w?n:v,Ve(v)||(v=v==null?[]:[v]),Yb(c,f,v))}var MR=Eu(function(c,f,v){c[v?0:1].push(f)},function(){return[[],[]]});function _R(c,f,v){var w=Ve(c)?hh:gb,C=arguments.length<3;return w(c,Ne(f,4),v,C,es)}function AR(c,f,v){var w=Ve(c)?F_:gb,C=arguments.length<3;return w(c,Ne(f,4),v,C,Db)}function kR(c,f){var v=Ve(c)?Kr:Nb;return v(c,Du(Ne(f,3)))}function OR(c){var f=Ve(c)?Rb:xk;return f(c)}function RR(c,f,v){(v?kn(c,f,v):f===n)?f=1:f=Ye(f);var w=Ve(c)?QA:Ek;return w(c,f)}function PR(c){var f=Ve(c)?ek:Tk;return f(c)}function IR(c){if(c==null)return 0;if(Hn(c))return zu(c)?zo(c):c.length;var f=Sn(c);return f==H||f==ae?c.size:Ph(c).length}function LR(c,f,v){var w=Ve(c)?ph:Mk;return v&&kn(c,f,v)&&(f=n),w(c,Ne(f,3))}var DR=Ze(function(c,f){if(c==null)return[];var v=f.length;return v>1&&kn(c,f[0],f[1])?f=[]:v>2&&kn(f[0],f[1],f[2])&&(f=[f[0]]),Yb(c,ln(f,1),[])}),Iu=mA||function(){return an.Date.now()};function NR(c,f){if(typeof f!="function")throw new gi(o);return c=Ye(c),function(){if(--c<1)return f.apply(this,arguments)}}function Fy(c,f,v){return f=v?n:f,f=c&&f==null?c.length:f,xr(c,L,n,n,n,n,f)}function Hy(c,f){var v;if(typeof f!="function")throw new gi(o);return c=Ye(c),function(){return--c>0&&(v=f.apply(this,arguments)),c<=1&&(f=n),v}}var np=Ze(function(c,f,v){var w=y;if(v.length){var C=Zr(v,Uo(np));w|=A}return xr(c,w,f,v,C)}),Wy=Ze(function(c,f,v){var w=y|S;if(v.length){var C=Zr(v,Uo(Wy));w|=A}return xr(f,w,c,v,C)});function Vy(c,f,v){f=v?n:f;var w=xr(c,E,n,n,n,n,n,f);return w.placeholder=Vy.placeholder,w}function jy(c,f,v){f=v?n:f;var w=xr(c,M,n,n,n,n,n,f);return w.placeholder=jy.placeholder,w}function Uy(c,f,v){var w,C,_,P,N,j,le=0,ue=!1,pe=!1,we=!0;if(typeof c!="function")throw new gi(o);f=Si(f)||0,_t(v)&&(ue=!!v.leading,pe="maxWait"in v,_=pe?Yt(Si(v.maxWait)||0,f):_,we="trailing"in v?!!v.trailing:we);function ke($t){var zi=w,_r=C;return w=C=n,le=$t,P=c.apply(_r,zi),P}function ze($t){return le=$t,N=rl(nt,f),ue?ke($t):P}function Ge($t){var zi=$t-j,_r=$t-le,uw=f-zi;return pe?wn(uw,_-_r):uw}function $e($t){var zi=$t-j,_r=$t-le;return j===n||zi>=f||zi<0||pe&&_r>=_}function nt(){var $t=Iu();if($e($t))return st($t);N=rl(nt,Ge($t))}function st($t){return N=n,we&&w?ke($t):(w=C=n,P)}function ti(){N!==n&&ty(N),le=0,w=j=C=N=n}function On(){return N===n?P:st(Iu())}function ni(){var $t=Iu(),zi=$e($t);if(w=arguments,C=this,j=$t,zi){if(N===n)return ze(j);if(pe)return ty(N),N=rl(nt,f),ke(j)}return N===n&&(N=rl(nt,f)),P}return ni.cancel=ti,ni.flush=On,ni}var zR=Ze(function(c,f){return Lb(c,1,f)}),$R=Ze(function(c,f,v){return Lb(c,Si(f)||0,v)});function BR(c){return xr(c,k)}function Lu(c,f){if(typeof c!="function"||f!=null&&typeof f!="function")throw new gi(o);var v=function(){var w=arguments,C=f?f.apply(this,w):w[0],_=v.cache;if(_.has(C))return _.get(C);var P=c.apply(this,w);return v.cache=_.set(C,P)||_,P};return v.cache=new(Lu.Cache||wr),v}Lu.Cache=wr;function Du(c){if(typeof c!="function")throw new gi(o);return function(){var f=arguments;switch(f.length){case 0:return!c.call(this);case 1:return!c.call(this,f[0]);case 2:return!c.call(this,f[0],f[1]);case 3:return!c.call(this,f[0],f[1],f[2])}return!c.apply(this,f)}}function FR(c){return Hy(2,c)}var HR=_k(function(c,f){f=f.length==1&&Ve(f[0])?Ct(f[0],Zn(Ne())):Ct(ln(f,1),Zn(Ne()));var v=f.length;return Ze(function(w){for(var C=-1,_=wn(w.length,v);++C<_;)w[C]=f[C].call(this,w[C]);return Jn(c,this,w)})}),ip=Ze(function(c,f){var v=Zr(f,Uo(ip));return xr(c,A,n,f,v)}),Yy=Ze(function(c,f){var v=Zr(f,Uo(Yy));return xr(c,z,n,f,v)}),WR=Er(function(c,f){return xr(c,R,n,n,n,f)});function VR(c,f){if(typeof c!="function")throw new gi(o);return f=f===n?f:Ye(f),Ze(c,f)}function jR(c,f){if(typeof c!="function")throw new gi(o);return f=f==null?0:Yt(Ye(f),0),Ze(function(v){var w=v[f],C=is(v,0,f);return w&&Jr(C,w),Jn(c,this,C)})}function UR(c,f,v){var w=!0,C=!0;if(typeof c!="function")throw new gi(o);return _t(v)&&(w="leading"in v?!!v.leading:w,C="trailing"in v?!!v.trailing:C),Uy(c,f,{leading:w,maxWait:f,trailing:C})}function YR(c){return Fy(c,1)}function XR(c,f){return ip(Hh(f),c)}function qR(){if(!arguments.length)return[];var c=arguments[0];return Ve(c)?c:[c]}function GR(c){return bi(c,g)}function KR(c,f){return f=typeof f=="function"?f:n,bi(c,g,f)}function JR(c){return bi(c,h|g)}function ZR(c,f){return f=typeof f=="function"?f:n,bi(c,h|g,f)}function QR(c,f){return f==null||Ib(c,f,Gt(f))}function Ni(c,f){return c===f||c!==c&&f!==f}var eP=_u(kh),tP=_u(function(c,f){return c>=f}),Gs=Bb(function(){return arguments}())?Bb:function(c){return kt(c)&&pt.call(c,"callee")&&!Tb.call(c,"callee")},Ve=G.isArray,nP=ob?Zn(ob):uk;function Hn(c){return c!=null&&Nu(c.length)&&!Tr(c)}function zt(c){return kt(c)&&Hn(c)}function iP(c){return c===!0||c===!1||kt(c)&&An(c)==de}var rs=vA||pp,rP=ab?Zn(ab):dk;function sP(c){return kt(c)&&c.nodeType===1&&!sl(c)}function oP(c){if(c==null)return!0;if(Hn(c)&&(Ve(c)||typeof c=="string"||typeof c.splice=="function"||rs(c)||Yo(c)||Gs(c)))return!c.length;var f=Sn(c);if(f==H||f==ae)return!c.size;if(il(c))return!Ph(c).length;for(var v in c)if(pt.call(c,v))return!1;return!0}function aP(c,f){return el(c,f)}function lP(c,f,v){v=typeof v=="function"?v:n;var w=v?v(c,f):n;return w===n?el(c,f,n,v):!!w}function rp(c){if(!kt(c))return!1;var f=An(c);return f==He||f==xe||typeof c.message=="string"&&typeof c.name=="string"&&!sl(c)}function cP(c){return typeof c=="number"&&_b(c)}function Tr(c){if(!_t(c))return!1;var f=An(c);return f==O||f==I||f==B||f==se}function Xy(c){return typeof c=="number"&&c==Ye(c)}function Nu(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=W}function _t(c){var f=typeof c;return c!=null&&(f=="object"||f=="function")}function kt(c){return c!=null&&typeof c=="object"}var qy=lb?Zn(lb):hk;function uP(c,f){return c===f||Rh(c,f,qh(f))}function dP(c,f,v){return v=typeof v=="function"?v:n,Rh(c,f,qh(f),v)}function fP(c){return Gy(c)&&c!=+c}function hP(c){if(Kk(c))throw new We(s);return Fb(c)}function pP(c){return c===null}function mP(c){return c==null}function Gy(c){return typeof c=="number"||kt(c)&&An(c)==J}function sl(c){if(!kt(c)||An(c)!=Q)return!1;var f=cu(c);if(f===null)return!0;var v=pt.call(f,"constructor")&&f.constructor;return typeof v=="function"&&v instanceof v&&su.call(v)==dA}var sp=cb?Zn(cb):pk;function gP(c){return Xy(c)&&c>=-W&&c<=W}var Ky=ub?Zn(ub):mk;function zu(c){return typeof c=="string"||!Ve(c)&&kt(c)&&An(c)==_e}function ei(c){return typeof c=="symbol"||kt(c)&&An(c)==ye}var Yo=db?Zn(db):gk;function vP(c){return c===n}function bP(c){return kt(c)&&Sn(c)==Ie}function yP(c){return kt(c)&&An(c)==qe}var wP=_u(Ih),SP=_u(function(c,f){return c<=f});function Jy(c){if(!c)return[];if(Hn(c))return zu(c)?Li(c):Fn(c);if(Ya&&c[Ya])return Q_(c[Ya]());var f=Sn(c),v=f==H?wh:f==ae?nu:Xo;return v(c)}function Mr(c){if(!c)return c===0?c:0;if(c=Si(c),c===$||c===-$){var f=c<0?-1:1;return f*re}return c===c?c:0}function Ye(c){var f=Mr(c),v=f%1;return f===f?v?f-v:f:0}function Zy(c){return c?Us(Ye(c),0,Be):0}function Si(c){if(typeof c=="number")return c;if(ei(c))return Te;if(_t(c)){var f=typeof c.valueOf=="function"?c.valueOf():c;c=_t(f)?f+"":f}if(typeof c!="string")return c===0?c:+c;c=vb(c);var v=n_.test(c);return v||r_.test(c)?N_(c.slice(2),v?2:8):t_.test(c)?Te:+c}function Qy(c){return Ji(c,Wn(c))}function xP(c){return c?Us(Ye(c),-W,W):c===0?c:0}function dt(c){return c==null?"":Qn(c)}var EP=Vo(function(c,f){if(il(f)||Hn(f)){Ji(f,Gt(f),c);return}for(var v in f)pt.call(f,v)&&Ja(c,v,f[v])}),ew=Vo(function(c,f){Ji(f,Wn(f),c)}),$u=Vo(function(c,f,v,w){Ji(f,Wn(f),c,w)}),CP=Vo(function(c,f,v,w){Ji(f,Gt(f),c,w)}),TP=Er(Mh);function MP(c,f){var v=Wo(c);return f==null?v:Pb(v,f)}var _P=Ze(function(c,f){c=vt(c);var v=-1,w=f.length,C=w>2?f[2]:n;for(C&&kn(f[0],f[1],C)&&(w=1);++v<w;)for(var _=f[v],P=Wn(_),N=-1,j=P.length;++N<j;){var le=P[N],ue=c[le];(ue===n||Ni(ue,Bo[le])&&!pt.call(c,le))&&(c[le]=_[le])}return c}),AP=Ze(function(c){return c.push(n,vy),Jn(tw,n,c)});function kP(c,f){return hb(c,Ne(f,3),Ki)}function OP(c,f){return hb(c,Ne(f,3),Ah)}function RP(c,f){return c==null?c:_h(c,Ne(f,3),Wn)}function PP(c,f){return c==null?c:zb(c,Ne(f,3),Wn)}function IP(c,f){return c&&Ki(c,Ne(f,3))}function LP(c,f){return c&&Ah(c,Ne(f,3))}function DP(c){return c==null?[]:yu(c,Gt(c))}function NP(c){return c==null?[]:yu(c,Wn(c))}function op(c,f,v){var w=c==null?n:Ys(c,f);return w===n?v:w}function zP(c,f){return c!=null&&wy(c,f,ok)}function ap(c,f){return c!=null&&wy(c,f,ak)}var $P=fy(function(c,f,v){f!=null&&typeof f.toString!="function"&&(f=ou.call(f)),c[f]=v},cp(Vn)),BP=fy(function(c,f,v){f!=null&&typeof f.toString!="function"&&(f=ou.call(f)),pt.call(c,f)?c[f].push(v):c[f]=[v]},Ne),FP=Ze(Qa);function Gt(c){return Hn(c)?Ob(c):Ph(c)}function Wn(c){return Hn(c)?Ob(c,!0):vk(c)}function HP(c,f){var v={};return f=Ne(f,3),Ki(c,function(w,C,_){Sr(v,f(w,C,_),w)}),v}function WP(c,f){var v={};return f=Ne(f,3),Ki(c,function(w,C,_){Sr(v,C,f(w,C,_))}),v}var VP=Vo(function(c,f,v){wu(c,f,v)}),tw=Vo(function(c,f,v,w){wu(c,f,v,w)}),jP=Er(function(c,f){var v={};if(c==null)return v;var w=!1;f=Ct(f,function(_){return _=ns(_,c),w||(w=_.length>1),_}),Ji(c,Yh(c),v),w&&(v=bi(v,h|p|g,$k));for(var C=f.length;C--;)$h(v,f[C]);return v});function UP(c,f){return nw(c,Du(Ne(f)))}var YP=Er(function(c,f){return c==null?{}:yk(c,f)});function nw(c,f){if(c==null)return{};var v=Ct(Yh(c),function(w){return[w]});return f=Ne(f),Xb(c,v,function(w,C){return f(w,C[0])})}function XP(c,f,v){f=ns(f,c);var w=-1,C=f.length;for(C||(C=1,c=n);++w<C;){var _=c==null?n:c[Zi(f[w])];_===n&&(w=C,_=v),c=Tr(_)?_.call(c):_}return c}function qP(c,f,v){return c==null?c:tl(c,f,v)}function GP(c,f,v,w){return w=typeof w=="function"?w:n,c==null?c:tl(c,f,v,w)}var iw=my(Gt),rw=my(Wn);function KP(c,f,v){var w=Ve(c),C=w||rs(c)||Yo(c);if(f=Ne(f,4),v==null){var _=c&&c.constructor;C?v=w?new _:[]:_t(c)?v=Tr(_)?Wo(cu(c)):{}:v={}}return(C?mi:Ki)(c,function(P,N,j){return f(v,P,N,j)}),v}function JP(c,f){return c==null?!0:$h(c,f)}function ZP(c,f,v){return c==null?c:Zb(c,f,Hh(v))}function QP(c,f,v,w){return w=typeof w=="function"?w:n,c==null?c:Zb(c,f,Hh(v),w)}function Xo(c){return c==null?[]:yh(c,Gt(c))}function eI(c){return c==null?[]:yh(c,Wn(c))}function tI(c,f,v){return v===n&&(v=f,f=n),v!==n&&(v=Si(v),v=v===v?v:0),f!==n&&(f=Si(f),f=f===f?f:0),Us(Si(c),f,v)}function nI(c,f,v){return f=Mr(f),v===n?(v=f,f=0):v=Mr(v),c=Si(c),lk(c,f,v)}function iI(c,f,v){if(v&&typeof v!="boolean"&&kn(c,f,v)&&(f=v=n),v===n&&(typeof f=="boolean"?(v=f,f=n):typeof c=="boolean"&&(v=c,c=n)),c===n&&f===n?(c=0,f=1):(c=Mr(c),f===n?(f=c,c=0):f=Mr(f)),c>f){var w=c;c=f,f=w}if(v||c%1||f%1){var C=Ab();return wn(c+C*(f-c+D_("1e-"+((C+"").length-1))),f)}return Dh(c,f)}var rI=jo(function(c,f,v){return f=f.toLowerCase(),c+(v?sw(f):f)});function sw(c){return lp(dt(c).toLowerCase())}function ow(c){return c=dt(c),c&&c.replace(o_,q_).replace(T_,"")}function sI(c,f,v){c=dt(c),f=Qn(f);var w=c.length;v=v===n?w:Us(Ye(v),0,w);var C=v;return v-=f.length,v>=0&&c.slice(v,C)==f}function oI(c){return c=dt(c),c&&FM.test(c)?c.replace(zv,G_):c}function aI(c){return c=dt(c),c&&YM.test(c)?c.replace(ih,"\\$&"):c}var lI=jo(function(c,f,v){return c+(v?"-":"")+f.toLowerCase()}),cI=jo(function(c,f,v){return c+(v?" ":"")+f.toLowerCase()}),uI=cy("toLowerCase");function dI(c,f,v){c=dt(c),f=Ye(f);var w=f?zo(c):0;if(!f||w>=f)return c;var C=(f-w)/2;return Mu(hu(C),v)+c+Mu(fu(C),v)}function fI(c,f,v){c=dt(c),f=Ye(f);var w=f?zo(c):0;return f&&w<f?c+Mu(f-w,v):c}function hI(c,f,v){c=dt(c),f=Ye(f);var w=f?zo(c):0;return f&&w<f?Mu(f-w,v)+c:c}function pI(c,f,v){return v||f==null?f=0:f&&(f=+f),SA(dt(c).replace(rh,""),f||0)}function mI(c,f,v){return(v?kn(c,f,v):f===n)?f=1:f=Ye(f),Nh(dt(c),f)}function gI(){var c=arguments,f=dt(c[0]);return c.length<3?f:f.replace(c[1],c[2])}var vI=jo(function(c,f,v){return c+(v?"_":"")+f.toLowerCase()});function bI(c,f,v){return v&&typeof v!="number"&&kn(c,f,v)&&(f=v=n),v=v===n?Be:v>>>0,v?(c=dt(c),c&&(typeof f=="string"||f!=null&&!sp(f))&&(f=Qn(f),!f&&No(c))?is(Li(c),0,v):c.split(f,v)):[]}var yI=jo(function(c,f,v){return c+(v?" ":"")+lp(f)});function wI(c,f,v){return c=dt(c),v=v==null?0:Us(Ye(v),0,c.length),f=Qn(f),c.slice(v,v+f.length)==f}function SI(c,f,v){var w=T.templateSettings;v&&kn(c,f,v)&&(f=n),c=dt(c),f=$u({},f,w,gy);var C=$u({},f.imports,w.imports,gy),_=Gt(C),P=yh(C,_),N,j,le=0,ue=f.interpolate||Jc,pe="__p += '",we=Sh((f.escape||Jc).source+"|"+ue.source+"|"+(ue===$v?e_:Jc).source+"|"+(f.evaluate||Jc).source+"|$","g"),ke="//# sourceURL="+(pt.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++O_+"]")+`
`;c.replace(we,function($e,nt,st,ti,On,ni){return st||(st=ti),pe+=c.slice(le,ni).replace(a_,K_),nt&&(N=!0,pe+=`' +
__e(`+nt+`) +
'`),On&&(j=!0,pe+=`';
`+On+`;
__p += '`),st&&(pe+=`' +
((__t = (`+st+`)) == null ? '' : __t) +
'`),le=ni+$e.length,$e}),pe+=`';
`;var ze=pt.call(f,"variable")&&f.variable;if(!ze)pe=`with (obj) {
`+pe+`
}
`;else if(ZM.test(ze))throw new We(a);pe=(j?pe.replace(NM,""):pe).replace(zM,"$1").replace($M,"$1;"),pe="function("+(ze||"obj")+`) {
`+(ze?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(N?", __e = _.escape":"")+(j?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+pe+`return __p
}`;var Ge=lw(function(){return ut(_,ke+"return "+pe).apply(n,P)});if(Ge.source=pe,rp(Ge))throw Ge;return Ge}function xI(c){return dt(c).toLowerCase()}function EI(c){return dt(c).toUpperCase()}function CI(c,f,v){if(c=dt(c),c&&(v||f===n))return vb(c);if(!c||!(f=Qn(f)))return c;var w=Li(c),C=Li(f),_=bb(w,C),P=yb(w,C)+1;return is(w,_,P).join("")}function TI(c,f,v){if(c=dt(c),c&&(v||f===n))return c.slice(0,Sb(c)+1);if(!c||!(f=Qn(f)))return c;var w=Li(c),C=yb(w,Li(f))+1;return is(w,0,C).join("")}function MI(c,f,v){if(c=dt(c),c&&(v||f===n))return c.replace(rh,"");if(!c||!(f=Qn(f)))return c;var w=Li(c),C=bb(w,Li(f));return is(w,C).join("")}function _I(c,f){var v=D,w=X;if(_t(f)){var C="separator"in f?f.separator:C;v="length"in f?Ye(f.length):v,w="omission"in f?Qn(f.omission):w}c=dt(c);var _=c.length;if(No(c)){var P=Li(c);_=P.length}if(v>=_)return c;var N=v-zo(w);if(N<1)return w;var j=P?is(P,0,N).join(""):c.slice(0,N);if(C===n)return j+w;if(P&&(N+=j.length-N),sp(C)){if(c.slice(N).search(C)){var le,ue=j;for(C.global||(C=Sh(C.source,dt(Bv.exec(C))+"g")),C.lastIndex=0;le=C.exec(ue);)var pe=le.index;j=j.slice(0,pe===n?N:pe)}}else if(c.indexOf(Qn(C),N)!=N){var we=j.lastIndexOf(C);we>-1&&(j=j.slice(0,we))}return j+w}function AI(c){return c=dt(c),c&&BM.test(c)?c.replace(Nv,iA):c}var kI=jo(function(c,f,v){return c+(v?" ":"")+f.toUpperCase()}),lp=cy("toUpperCase");function aw(c,f,v){return c=dt(c),f=v?n:f,f===n?Z_(c)?oA(c):V_(c):c.match(f)||[]}var lw=Ze(function(c,f){try{return Jn(c,n,f)}catch(v){return rp(v)?v:new We(v)}}),OI=Er(function(c,f){return mi(f,function(v){v=Zi(v),Sr(c,v,np(c[v],c))}),c});function RI(c){var f=c==null?0:c.length,v=Ne();return c=f?Ct(c,function(w){if(typeof w[1]!="function")throw new gi(o);return[v(w[0]),w[1]]}):[],Ze(function(w){for(var C=-1;++C<f;){var _=c[C];if(Jn(_[0],this,w))return Jn(_[1],this,w)}})}function PI(c){return ik(bi(c,h))}function cp(c){return function(){return c}}function II(c,f){return c==null||c!==c?f:c}var LI=dy(),DI=dy(!0);function Vn(c){return c}function up(c){return Hb(typeof c=="function"?c:bi(c,h))}function NI(c){return Vb(bi(c,h))}function zI(c,f){return jb(c,bi(f,h))}var $I=Ze(function(c,f){return function(v){return Qa(v,c,f)}}),BI=Ze(function(c,f){return function(v){return Qa(c,v,f)}});function dp(c,f,v){var w=Gt(f),C=yu(f,w);v==null&&!(_t(f)&&(C.length||!w.length))&&(v=f,f=c,c=this,C=yu(f,Gt(f)));var _=!(_t(v)&&"chain"in v)||!!v.chain,P=Tr(c);return mi(C,function(N){var j=f[N];c[N]=j,P&&(c.prototype[N]=function(){var le=this.__chain__;if(_||le){var ue=c(this.__wrapped__),pe=ue.__actions__=Fn(this.__actions__);return pe.push({func:j,args:arguments,thisArg:c}),ue.__chain__=le,ue}return j.apply(c,Jr([this.value()],arguments))})}),c}function FI(){return an._===this&&(an._=fA),this}function fp(){}function HI(c){return c=Ye(c),Ze(function(f){return Ub(f,c)})}var WI=Vh(Ct),VI=Vh(fb),jI=Vh(ph);function cw(c){return Kh(c)?mh(Zi(c)):wk(c)}function UI(c){return function(f){return c==null?n:Ys(c,f)}}var YI=hy(),XI=hy(!0);function hp(){return[]}function pp(){return!1}function qI(){return{}}function GI(){return""}function KI(){return!0}function JI(c,f){if(c=Ye(c),c<1||c>W)return[];var v=Be,w=wn(c,Be);f=Ne(f),c-=Be;for(var C=bh(w,f);++v<c;)f(v);return C}function ZI(c){return Ve(c)?Ct(c,Zi):ei(c)?[c]:Fn(ky(dt(c)))}function QI(c){var f=++uA;return dt(c)+f}var eL=Tu(function(c,f){return c+f},0),tL=jh("ceil"),nL=Tu(function(c,f){return c/f},1),iL=jh("floor");function rL(c){return c&&c.length?bu(c,Vn,kh):n}function sL(c,f){return c&&c.length?bu(c,Ne(f,2),kh):n}function oL(c){return mb(c,Vn)}function aL(c,f){return mb(c,Ne(f,2))}function lL(c){return c&&c.length?bu(c,Vn,Ih):n}function cL(c,f){return c&&c.length?bu(c,Ne(f,2),Ih):n}var uL=Tu(function(c,f){return c*f},1),dL=jh("round"),fL=Tu(function(c,f){return c-f},0);function hL(c){return c&&c.length?vh(c,Vn):0}function pL(c,f){return c&&c.length?vh(c,Ne(f,2)):0}return T.after=NR,T.ary=Fy,T.assign=EP,T.assignIn=ew,T.assignInWith=$u,T.assignWith=CP,T.at=TP,T.before=Hy,T.bind=np,T.bindAll=OI,T.bindKey=Wy,T.castArray=qR,T.chain=zy,T.chunk=iO,T.compact=rO,T.concat=sO,T.cond=RI,T.conforms=PI,T.constant=cp,T.countBy=hR,T.create=MP,T.curry=Vy,T.curryRight=jy,T.debounce=Uy,T.defaults=_P,T.defaultsDeep=AP,T.defer=zR,T.delay=$R,T.difference=oO,T.differenceBy=aO,T.differenceWith=lO,T.drop=cO,T.dropRight=uO,T.dropRightWhile=dO,T.dropWhile=fO,T.fill=hO,T.filter=mR,T.flatMap=bR,T.flatMapDeep=yR,T.flatMapDepth=wR,T.flatten=Iy,T.flattenDeep=pO,T.flattenDepth=mO,T.flip=BR,T.flow=LI,T.flowRight=DI,T.fromPairs=gO,T.functions=DP,T.functionsIn=NP,T.groupBy=SR,T.initial=bO,T.intersection=yO,T.intersectionBy=wO,T.intersectionWith=SO,T.invert=$P,T.invertBy=BP,T.invokeMap=ER,T.iteratee=up,T.keyBy=CR,T.keys=Gt,T.keysIn=Wn,T.map=Pu,T.mapKeys=HP,T.mapValues=WP,T.matches=NI,T.matchesProperty=zI,T.memoize=Lu,T.merge=VP,T.mergeWith=tw,T.method=$I,T.methodOf=BI,T.mixin=dp,T.negate=Du,T.nthArg=HI,T.omit=jP,T.omitBy=UP,T.once=FR,T.orderBy=TR,T.over=WI,T.overArgs=HR,T.overEvery=VI,T.overSome=jI,T.partial=ip,T.partialRight=Yy,T.partition=MR,T.pick=YP,T.pickBy=nw,T.property=cw,T.propertyOf=UI,T.pull=TO,T.pullAll=Dy,T.pullAllBy=MO,T.pullAllWith=_O,T.pullAt=AO,T.range=YI,T.rangeRight=XI,T.rearg=WR,T.reject=kR,T.remove=kO,T.rest=VR,T.reverse=ep,T.sampleSize=RR,T.set=qP,T.setWith=GP,T.shuffle=PR,T.slice=OO,T.sortBy=DR,T.sortedUniq=zO,T.sortedUniqBy=$O,T.split=bI,T.spread=jR,T.tail=BO,T.take=FO,T.takeRight=HO,T.takeRightWhile=WO,T.takeWhile=VO,T.tap=rR,T.throttle=UR,T.thru=Ru,T.toArray=Jy,T.toPairs=iw,T.toPairsIn=rw,T.toPath=ZI,T.toPlainObject=Qy,T.transform=KP,T.unary=YR,T.union=jO,T.unionBy=UO,T.unionWith=YO,T.uniq=XO,T.uniqBy=qO,T.uniqWith=GO,T.unset=JP,T.unzip=tp,T.unzipWith=Ny,T.update=ZP,T.updateWith=QP,T.values=Xo,T.valuesIn=eI,T.without=KO,T.words=aw,T.wrap=XR,T.xor=JO,T.xorBy=ZO,T.xorWith=QO,T.zip=eR,T.zipObject=tR,T.zipObjectDeep=nR,T.zipWith=iR,T.entries=iw,T.entriesIn=rw,T.extend=ew,T.extendWith=$u,dp(T,T),T.add=eL,T.attempt=lw,T.camelCase=rI,T.capitalize=sw,T.ceil=tL,T.clamp=tI,T.clone=GR,T.cloneDeep=JR,T.cloneDeepWith=ZR,T.cloneWith=KR,T.conformsTo=QR,T.deburr=ow,T.defaultTo=II,T.divide=nL,T.endsWith=sI,T.eq=Ni,T.escape=oI,T.escapeRegExp=aI,T.every=pR,T.find=gR,T.findIndex=Ry,T.findKey=kP,T.findLast=vR,T.findLastIndex=Py,T.findLastKey=OP,T.floor=iL,T.forEach=$y,T.forEachRight=By,T.forIn=RP,T.forInRight=PP,T.forOwn=IP,T.forOwnRight=LP,T.get=op,T.gt=eP,T.gte=tP,T.has=zP,T.hasIn=ap,T.head=Ly,T.identity=Vn,T.includes=xR,T.indexOf=vO,T.inRange=nI,T.invoke=FP,T.isArguments=Gs,T.isArray=Ve,T.isArrayBuffer=nP,T.isArrayLike=Hn,T.isArrayLikeObject=zt,T.isBoolean=iP,T.isBuffer=rs,T.isDate=rP,T.isElement=sP,T.isEmpty=oP,T.isEqual=aP,T.isEqualWith=lP,T.isError=rp,T.isFinite=cP,T.isFunction=Tr,T.isInteger=Xy,T.isLength=Nu,T.isMap=qy,T.isMatch=uP,T.isMatchWith=dP,T.isNaN=fP,T.isNative=hP,T.isNil=mP,T.isNull=pP,T.isNumber=Gy,T.isObject=_t,T.isObjectLike=kt,T.isPlainObject=sl,T.isRegExp=sp,T.isSafeInteger=gP,T.isSet=Ky,T.isString=zu,T.isSymbol=ei,T.isTypedArray=Yo,T.isUndefined=vP,T.isWeakMap=bP,T.isWeakSet=yP,T.join=xO,T.kebabCase=lI,T.last=wi,T.lastIndexOf=EO,T.lowerCase=cI,T.lowerFirst=uI,T.lt=wP,T.lte=SP,T.max=rL,T.maxBy=sL,T.mean=oL,T.meanBy=aL,T.min=lL,T.minBy=cL,T.stubArray=hp,T.stubFalse=pp,T.stubObject=qI,T.stubString=GI,T.stubTrue=KI,T.multiply=uL,T.nth=CO,T.noConflict=FI,T.noop=fp,T.now=Iu,T.pad=dI,T.padEnd=fI,T.padStart=hI,T.parseInt=pI,T.random=iI,T.reduce=_R,T.reduceRight=AR,T.repeat=mI,T.replace=gI,T.result=XP,T.round=dL,T.runInContext=V,T.sample=OR,T.size=IR,T.snakeCase=vI,T.some=LR,T.sortedIndex=RO,T.sortedIndexBy=PO,T.sortedIndexOf=IO,T.sortedLastIndex=LO,T.sortedLastIndexBy=DO,T.sortedLastIndexOf=NO,T.startCase=yI,T.startsWith=wI,T.subtract=fL,T.sum=hL,T.sumBy=pL,T.template=SI,T.times=JI,T.toFinite=Mr,T.toInteger=Ye,T.toLength=Zy,T.toLower=xI,T.toNumber=Si,T.toSafeInteger=xP,T.toString=dt,T.toUpper=EI,T.trim=CI,T.trimEnd=TI,T.trimStart=MI,T.truncate=_I,T.unescape=AI,T.uniqueId=QI,T.upperCase=kI,T.upperFirst=lp,T.each=$y,T.eachRight=By,T.first=Ly,dp(T,function(){var c={};return Ki(T,function(f,v){pt.call(T.prototype,v)||(c[v]=f)}),c}(),{chain:!1}),T.VERSION=i,mi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){T[c].placeholder=T}),mi(["drop","take"],function(c,f){rt.prototype[c]=function(v){v=v===n?1:Yt(Ye(v),0);var w=this.__filtered__&&!f?new rt(this):this.clone();return w.__filtered__?w.__takeCount__=wn(v,w.__takeCount__):w.__views__.push({size:wn(v,Be),type:c+(w.__dir__<0?"Right":"")}),w},rt.prototype[c+"Right"]=function(v){return this.reverse()[c](v).reverse()}}),mi(["filter","map","takeWhile"],function(c,f){var v=f+1,w=v==q||v==Z;rt.prototype[c]=function(C){var _=this.clone();return _.__iteratees__.push({iteratee:Ne(C,3),type:v}),_.__filtered__=_.__filtered__||w,_}}),mi(["head","last"],function(c,f){var v="take"+(f?"Right":"");rt.prototype[c]=function(){return this[v](1).value()[0]}}),mi(["initial","tail"],function(c,f){var v="drop"+(f?"":"Right");rt.prototype[c]=function(){return this.__filtered__?new rt(this):this[v](1)}}),rt.prototype.compact=function(){return this.filter(Vn)},rt.prototype.find=function(c){return this.filter(c).head()},rt.prototype.findLast=function(c){return this.reverse().find(c)},rt.prototype.invokeMap=Ze(function(c,f){return typeof c=="function"?new rt(this):this.map(function(v){return Qa(v,c,f)})}),rt.prototype.reject=function(c){return this.filter(Du(Ne(c)))},rt.prototype.slice=function(c,f){c=Ye(c);var v=this;return v.__filtered__&&(c>0||f<0)?new rt(v):(c<0?v=v.takeRight(-c):c&&(v=v.drop(c)),f!==n&&(f=Ye(f),v=f<0?v.dropRight(-f):v.take(f-c)),v)},rt.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},rt.prototype.toArray=function(){return this.take(Be)},Ki(rt.prototype,function(c,f){var v=/^(?:filter|find|map|reject)|While$/.test(f),w=/^(?:head|last)$/.test(f),C=T[w?"take"+(f=="last"?"Right":""):f],_=w||/^find/.test(f);C&&(T.prototype[f]=function(){var P=this.__wrapped__,N=w?[1]:arguments,j=P instanceof rt,le=N[0],ue=j||Ve(P),pe=function(nt){var st=C.apply(T,Jr([nt],N));return w&&we?st[0]:st};ue&&v&&typeof le=="function"&&le.length!=1&&(j=ue=!1);var we=this.__chain__,ke=!!this.__actions__.length,ze=_&&!we,Ge=j&&!ke;if(!_&&ue){P=Ge?P:new rt(this);var $e=c.apply(P,N);return $e.__actions__.push({func:Ru,args:[pe],thisArg:n}),new vi($e,we)}return ze&&Ge?c.apply(this,N):($e=this.thru(pe),ze?w?$e.value()[0]:$e.value():$e)})}),mi(["pop","push","shift","sort","splice","unshift"],function(c){var f=iu[c],v=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",w=/^(?:pop|shift)$/.test(c);T.prototype[c]=function(){var C=arguments;if(w&&!this.__chain__){var _=this.value();return f.apply(Ve(_)?_:[],C)}return this[v](function(P){return f.apply(Ve(P)?P:[],C)})}}),Ki(rt.prototype,function(c,f){var v=T[f];if(v){var w=v.name+"";pt.call(Ho,w)||(Ho[w]=[]),Ho[w].push({name:f,func:v})}}),Ho[Cu(n,S).name]=[{name:"wrapper",func:n}],rt.prototype.clone=AA,rt.prototype.reverse=kA,rt.prototype.value=OA,T.prototype.at=sR,T.prototype.chain=oR,T.prototype.commit=aR,T.prototype.next=lR,T.prototype.plant=uR,T.prototype.reverse=dR,T.prototype.toJSON=T.prototype.valueOf=T.prototype.value=fR,T.prototype.first=T.prototype.head,Ya&&(T.prototype[Ya]=cR),T},$o=aA();Hs?((Hs.exports=$o)._=$o,uh._=$o):an._=$o}).call(fH)}(Hl,Hl.exports)),Hl.exports}var pH=hH();const z0=dH(pH),mH={class:"ui-dialog__wrapper"},gH={class:"ui-dialog__content"},vH={class:"ui-dialog__buttons"},bH={__name:"Dialog",props:rn({title:{type:String,default:""},type:{type:String,default:"primary"},center:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:rn(["approve"],["update:modelValue"]),setup(t,{emit:e}){const n=Vi(t,"modelValue"),i=e,r=t,s=()=>n.value=!1,o=()=>{i("approve"),s()};return(a,l)=>(ee(),Pe(bc,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=u=>n.value=u),title:t.title,center:t.center,class:"ui-dialog"},{default:xt(()=>[he("div",mH,[he("div",gH,[Kn(a.$slots,"default",{},void 0,!0)]),he("div",vH,[ge(Fi,{text:"",type:r.type,onClick:o},null,8,["type"]),ge(Fi,{text:"",type:"default",onClick:s})])])]),_:3},8,["modelValue","title","center"]))}},dC=gt(bH,[["__scopeId","data-v-9964e8b4"]]),yH={class:"wooj-card"},wH={key:0,class:"wooj-card__panel"},SH={class:"wooj-card__title"},xH=["innerHTML"],EH={__name:"WoojCard",props:{data:Object,hasPin:{type:Boolean,default:!0},hasEdit:{type:Boolean,default:!0},hasRemove:{type:Boolean,default:!0},hasRestore:{type:Boolean,default:!1}},setup(t){const e=t,n=be(()=>e.data||{}),i=be(()=>n.value.title||" WOOJ"),r=be(()=>n.value.content||"  ..."),s=be(()=>e.hasPin||e.hasEdit||e.hasRemove||e.hasRestore);return(o,a)=>(ee(),Ee("div",yH,[s.value?(ee(),Ee("div",wH,[t.hasPin?(ee(),Ee("span",{key:0,class:"wooj-card__panel-button icon is-medium",onClick:a[0]||(a[0]=Bg(l=>o.$emit("pin",n.value),["stop"]))},[he("i",{class:mt(["fas",n.value.is_pinned?"fa-thumbtack-slash":"fa-thumbtack"])},null,2)])):It("",!0),t.hasEdit?(ee(),Ee("span",{key:1,class:"wooj-card__panel-button icon is-medium",onClick:a[1]||(a[1]=l=>o.$emit("edit",n.value))},a[4]||(a[4]=[he("i",{class:"fas fa-edit"},null,-1)]))):It("",!0),t.hasRemove?(ee(),Ee("span",{key:2,class:"wooj-card__panel-button icon is-medium",onClick:a[2]||(a[2]=l=>o.$emit("remove",n.value))},a[5]||(a[5]=[he("i",{class:"fas fa-trash"},null,-1)]))):It("",!0),t.hasRestore?(ee(),Ee("span",{key:3,class:"wooj-card__panel-button icon is-medium",onClick:a[3]||(a[3]=l=>o.$emit("restore",n.value))},a[6]||(a[6]=[he("i",{class:"fa fa-undo"},null,-1)]))):It("",!0)])):It("",!0),he("div",{class:mt(["wooj-card__wrapper",{pinned:n.value.is_pinned}])},[he("div",SH,Qt(i.value),1),he("div",{class:"wooj-card__content",innerHTML:r.value},null,8,xH)],2)]))}},CH=gt(EH,[["__scopeId","data-v-17c8d06b"]]),TH={class:"empty"},MH={class:"empty__wrapper"},_H={class:"empty__title"},AH={class:"empty__text"},kH={__name:"Empty",props:{title:{type:String,default:" "},text:{type:String,default:"  "}},setup(t){const e=t;return(n,i)=>(ee(),Ee("div",TH,[he("div",MH,[he("p",_H,Qt(e.title),1),he("p",AH,Qt(e.text),1)])]))}},fC=gt(kH,[["__scopeId","data-v-ddca4205"]]),OH={class:"wooj-list"},RH={class:"wooj-list__header"},PH={class:"wooj-list__header-panel"},IH={key:0,class:"wooj-list__header-panel-edit"},LH={key:1,class:"wooj-list__board"},DH=["data-id"],NH={__name:"WoojList",props:{id:String,title:String,woojs:Array,emptyText:{type:String,default:" "},loaded:{type:Boolean,default:!0},hasEditableTopic:{type:Boolean,default:!1},hasSort:{type:Boolean,default:!0},hasPin:{type:Boolean,default:!0},hasEdit:{type:Boolean,default:!0},hasRemove:{type:Boolean,default:!0},hasRestore:{type:Boolean,default:!1}},emits:["sort","pin","edit","remove","restore","update-topic","delete-topic"],setup(t,{emit:e}){let n=null;const i=t,r=Na("items"),s=e,o=A=>({}),a=Oe(i.title),l=Oe(!1),u=Oe(!1),d=Oe([]),h=be(()=>i.title),p=be(()=>i.woojs),g=be(()=>p.value.length),m=be(()=>i.loaded&&!g.value),b=be(()=>p.value.reduce((A,z)=>(A[z.id]=o(z.id),A),{})),y=()=>{z0.isEqual(a.value,h.value)||s("update-topic",{name:a.value})},S=()=>s("delete-topic"),x=()=>l.value=!0,E=()=>u.value=!0,M=()=>{const A=()=>(r.value?Array.from(r.value.querySelectorAll(".wooj-list__item")):[]).map(L=>parseInt(L.dataset.id));n=new uC(document.querySelectorAll(".wooj-list__items"),{draggable:".wooj-list__item",handle:".wooj-card__wrapper",sortAnimation:{duration:300,easingFunction:"ease-in-out"},classes:{"source:dragging":["dragging"],mirror:["dragging-mirror"]},plugins:[GE]}),n.on("sortable:stop",()=>{jr(()=>d.value=A())}),d.value=A()};return gn(()=>i.loaded,A=>jr(()=>{A&&i.hasSort&&M()})),gn(()=>i.title,A=>a.value=A),gn(()=>d.value,(A,z)=>{!i.hasSort||!z.length||z0.isEqual(A,z)||s("sort",A)}),gr(()=>i.hasSort&&i.loaded&&M()),za(()=>n&&n.destroy()),(A,z)=>(ee(),Ee("div",OH,[he("div",RH,[(ee(),Pe(hE,{ref:"topicTitle",class:"wooj-list__header-title",key:a.value,modelValue:a.value,"onUpdate:modelValue":z[0]||(z[0]=L=>a.value=L),focused:l.value,"onUpdate:focused":z[1]||(z[1]=L=>l.value=L),locked:!t.hasEditableTopic,max:20,onBlur:y},null,8,["modelValue","focused","locked"])),g.value?(ee(),Pe(Vg,{key:0},{default:xt(()=>[wo(Qt(g.value),1)]),_:1})):It("",!0),he("div",PH,[t.hasEditableTopic?(ee(),Ee("div",IH,[ge(Yr,{icon:"pencil",onClick:x}),ge(Yr,{icon:"xmark",type:"danger",onClick:E})])):It("",!0),Kn(A.$slots,"panel",{isEmpty:m.value},void 0,!0)])]),m.value?(ee(),Pe(fC,{key:0,title:i.emptyText},null,8,["title"])):t.loaded?(ee(),Ee("div",LH,[he("div",{class:mt(["wooj-list__items",{sortable:i.hasSort}]),ref_key:"items",ref:r},[(ee(!0),Ee(Pt,null,Is(p.value,L=>(ee(),Ee("div",{class:"wooj-list__item",key:L.id,"data-id":L.id,style:Ao(b.value[L.id])},[ge(CH,{data:L,hasPin:i.hasPin,hasEdit:i.hasEdit,hasRemove:i.hasRemove,hasRestore:i.hasRestore,onPin:z[2]||(z[2]=R=>s("pin",R)),onEdit:z[3]||(z[3]=R=>s("edit",R)),onRemove:z[4]||(z[4]=R=>s("remove",R)),onRestore:z[5]||(z[5]=R=>s("restore",R))},null,8,["data","hasPin","hasEdit","hasRemove","hasRestore"])],12,DH))),128))],2)])):(ee(),Pe(Gg,{key:2,type:"blocks",itemsNum:8})),ge(dC,{modelValue:u.value,"onUpdate:modelValue":z[6]||(z[6]=L=>u.value=L),title:" ",type:"danger",onApprove:S},{default:xt(()=>z[7]||(z[7]=[wo("     ? ")])),_:1,__:[7]},8,["modelValue"])]))}},jc=gt(NH,[["__scopeId","data-v-17c479ed"]]),zH={class:"view-all"},$H={__name:"All",setup(t){const{topicParamsMap:e,setRouteListeners:n}=zs(),i=be(()=>e.value.all);return Ns(()=>n()),(r,s)=>(ee(),Ee("div",zH,[(ee(),Pe(jc,{id:i.value.id,key:i.value.id,title:i.value.title,woojs:i.value.woojs,loaded:i.value.isLoaded,onSort:i.value.sort,onPin:i.value.togglePin,onEdit:i.value.edit,onRemove:i.value.remove},null,8,["id","title","woojs","loaded","onSort","onPin","onEdit","onRemove"]))]))}},BH={class:"view-pinned"},FH={__name:"Pinned",setup(t){const{topicParamsMap:e,setRouteListeners:n}=zs(),i=be(()=>e.value.pinned);return Ns(()=>n()),(r,s)=>(ee(),Ee("div",BH,[(ee(),Pe(jc,{id:i.value.id,key:i.value.id,title:i.value.title,woojs:i.value.woojs,loaded:i.value.isLoaded,onSort:i.value.sort,onPin:i.value.togglePin,onEdit:i.value.edit,onRemove:i.value.remove},null,8,["id","title","woojs","loaded","onSort","onPin","onEdit","onRemove"]))]))}},HH={class:"view-trash"},WH={__name:"Trash",setup(t){const{topicParamsMap:e,setRouteListeners:n}=zs(),i=be(()=>e.value.trash),r=be(()=>i.value.woojs.length),s=Oe(!1),o=()=>s.value=!0;return Ns(()=>n()),(a,l)=>(ee(),Ee("div",HH,[(ee(),Pe(jc,{id:i.value.id,key:i.value.id,title:i.value.title,woojs:i.value.woojs,loaded:i.value.isLoaded,hasSort:!1,hasPin:!1,hasEdit:!1,hasRemove:!1,hasRestore:!0,emptyText:" ",onRestore:i.value.restore},{panel:xt(()=>[r.value?(ee(),Pe(Fi,{key:0,text:" ",icon:"times",type:"danger",onClick:o})):It("",!0),ge(dC,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=u=>s.value=u),title:" ",type:"danger",onApprove:i.value.clearTrash},{default:xt(()=>l[1]||(l[1]=[wo("     ? ")])),_:1,__:[1]},8,["modelValue","onApprove"])]),_:1},8,["id","title","woojs","loaded","onRestore"]))]))}},VH={class:"view-published"},jH={__name:"Published",setup(t){const{topicParamsMap:e,setRouteListeners:n}=zs(),i=be(()=>e.value.published);return Ns(()=>n()),(r,s)=>(ee(),Ee("div",VH,[(ee(),Pe(jc,{id:i.value.id,key:i.value.id,title:i.value.title,woojs:i.value.woojs,loaded:i.value.isLoaded,onSort:i.value.sort,onPin:i.value.togglePin,onEdit:i.value.edit,onRemove:i.value.remove},null,8,["id","title","woojs","loaded","onSort","onPin","onEdit","onRemove"]))]))}},UH={class:"view-topic"},YH={__name:"Topic",props:["topicId"],setup(t){const e=t,{topicParamsMap:n,onLoaded:i,setRouteListeners:r}=zs(),s=Bc(),o=be(()=>n.value.custom),a=()=>s.isLoaded&&s.activateTopic(e.topicId);return gn(()=>e.topicId,()=>a()),i(()=>a()),Ns(()=>{a(),r()}),(l,u)=>(ee(),Ee("div",UH,[(ee(),Pe(jc,{id:o.value.id,key:o.value.id,title:o.value.title,woojs:o.value.woojs,loaded:o.value.isLoaded,hasEditableTopic:!0,onSort:o.value.sort,onPin:o.value.togglePin,onEdit:o.value.edit,onRemove:o.value.remove,onUpdateTopic:o.value.update,onDeleteTopic:o.value.delete},null,8,["id","title","woojs","loaded","onSort","onPin","onEdit","onRemove","onUpdateTopic","onDeleteTopic"]))]))}};function cn(t){this.content=t}cn.prototype={constructor:cn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,r=i.find(t),s=i.content.slice();return r==-1?s.push(n||t,e):(s[r+1]=e,n&&(s[r]=n)),new cn(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new cn(n)},addToStart:function(t,e){return new cn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new cn(n)},addBefore:function(t,e,n){var i=this.remove(e),r=i.content.slice(),s=i.find(t);return r.splice(s==-1?r.length:s,0,e,n),new cn(r)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=cn.from(t),t.size?new cn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=cn.from(t),t.size?new cn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=cn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};cn.from=function(t){if(t instanceof cn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new cn(e)};function hC(t,e,n){for(let i=0;;i++){if(i==t.childCount||i==e.childCount)return t.childCount==e.childCount?null:n;let r=t.child(i),s=e.child(i);if(r==s){n+=r.nodeSize;continue}if(!r.sameMarkup(s))return n;if(r.isText&&r.text!=s.text){for(let o=0;r.text[o]==s.text[o];o++)n++;return n}if(r.content.size||s.content.size){let o=hC(r.content,s.content,n+1);if(o!=null)return o}n+=r.nodeSize}}function pC(t,e,n,i){for(let r=t.childCount,s=e.childCount;;){if(r==0||s==0)return r==s?null:{a:n,b:i};let o=t.child(--r),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,i-=l;continue}if(!o.sameMarkup(a))return{a:n,b:i};if(o.isText&&o.text!=a.text){let u=0,d=Math.min(o.text.length,a.text.length);for(;u<d&&o.text[o.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,i--;return{a:n,b:i}}if(o.content.size||a.content.size){let u=pC(o.content,a.content,n-1,i-1);if(u)return u}n-=l,i-=l}}class me{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,n,i,r=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],u=a+l.nodeSize;if(u>e&&i(l,r+a,s||null,o)!==!1&&l.content.size){let d=a+1;l.nodesBetween(Math.max(0,e-d),Math.min(l.content.size,n-d),i,r+d)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,i,r){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let u=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?r?typeof r=="function"?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&i&&(o?o=!1:s+=i),s+=u},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,i=e.firstChild,r=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(i)&&(r[r.length-1]=n.withText(n.text+i.text),s=1);s<e.content.length;s++)r.push(e.content[s]);return new me(r,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let i=[],r=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),i.push(a),r+=a.nodeSize),o=l}return new me(i,r)}cutByIndex(e,n){return e==n?me.empty:e==0&&n==this.content.length?this:new me(this.content.slice(e,n))}replaceChild(e,n){let i=this.content[e];if(i==n)return this;let r=this.content.slice(),s=this.size+n.nodeSize-i.nodeSize;return r[e]=n,new me(r,s)}addToStart(e){return new me([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new me(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,i=0;n<this.content.length;n++){let r=this.content[n];e(r,i,n),i+=r.nodeSize}}findDiffStart(e,n=0){return hC(this,e,n)}findDiffEnd(e,n=this.size,i=e.size){return pC(this,e,n,i)}findIndex(e,n=-1){if(e==0)return rd(0,e);if(e==this.size)return rd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let i=0,r=0;;i++){let s=this.child(i),o=r+s.nodeSize;if(o>=e)return o==e||n>0?rd(i+1,o):rd(i,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return me.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new me(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return me.empty;let n,i=0;for(let r=0;r<e.length;r++){let s=e[r];i+=s.nodeSize,r&&s.isText&&e[r-1].sameMarkup(s)?(n||(n=e.slice(0,r)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new me(n||e,i)}static from(e){if(!e)return me.empty;if(e instanceof me)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new me([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}me.empty=new me([],0);const $p={index:0,offset:0};function rd(t,e){return $p.index=t,$p.offset=e,$p}function jd(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!jd(t[i],e[i]))return!1}else{for(let i in t)if(!(i in e)||!jd(t[i],e[i]))return!1;for(let i in e)if(!(i in t))return!1}return!0}let bt=class Vm{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,i=!1;for(let r=0;r<e.length;r++){let s=e[r];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,r));else{if(s.type.excludes(this.type))return e;!i&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,r)),n.push(this),i=!0),n&&n.push(s)}}return n||(n=e.slice()),i||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&jd(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let r=i.create(n.attrs);return i.checkAttrs(r.attrs),r}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(n[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Vm.none;if(e instanceof Vm)return[e];let n=e.slice();return n.sort((i,r)=>i.type.rank-r.type.rank),n}};bt.none=[];class Ud extends Error{}class Se{constructor(e,n,i){this.content=e,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let i=gC(this.content,e+this.openStart,n);return i&&new Se(i,this.openStart,this.openEnd)}removeBetween(e,n){return new Se(mC(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Se.empty;let i=n.openStart||0,r=n.openEnd||0;if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Se(me.fromJSON(e,n.content),i,r)}static maxOpen(e,n=!0){let i=0,r=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)i++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)r++;return new Se(e,i,r)}}Se.empty=new Se(me.empty,0,0);function mC(t,e,n){let{index:i,offset:r}=t.findIndex(e),s=t.maybeChild(i),{index:o,offset:a}=t.findIndex(n);if(r==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(i!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(i,s.copy(mC(s.content,e-r-1,n-r-1)))}function gC(t,e,n,i){let{index:r,offset:s}=t.findIndex(e),o=t.maybeChild(r);if(s==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=gC(o.content,e-s-1,n);return a&&t.replaceChild(r,o.copy(a))}function XH(t,e,n){if(n.openStart>t.depth)throw new Ud("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Ud("Inconsistent open depths");return vC(t,e,n,0)}function vC(t,e,n,i){let r=t.index(i),s=t.node(i);if(r==e.index(i)&&i<t.depth-n.openStart){let o=vC(t,e,n,i+1);return s.copy(s.content.replaceChild(r,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==i&&e.depth==i){let o=t.parent,a=o.content;return uo(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=qH(n,t);return uo(s,yC(t,o,a,e,i))}else return uo(s,Yd(t,e,i))}function bC(t,e){if(!e.type.compatibleContent(t.type))throw new Ud("Cannot join "+e.type.name+" onto "+t.type.name)}function jm(t,e,n){let i=t.node(n);return bC(i,e.node(n)),i}function co(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function nc(t,e,n,i){let r=(e||t).node(n),s=0,o=e?e.index(n):r.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(co(t.nodeAfter,i),s++));for(let a=s;a<o;a++)co(r.child(a),i);e&&e.depth==n&&e.textOffset&&co(e.nodeBefore,i)}function uo(t,e){return t.type.checkContent(e),t.copy(e)}function yC(t,e,n,i,r){let s=t.depth>r&&jm(t,e,r+1),o=i.depth>r&&jm(n,i,r+1),a=[];return nc(null,t,r,a),s&&o&&e.index(r)==n.index(r)?(bC(s,o),co(uo(s,yC(t,e,n,i,r+1)),a)):(s&&co(uo(s,Yd(t,e,r+1)),a),nc(e,n,r,a),o&&co(uo(o,Yd(n,i,r+1)),a)),nc(i,null,r,a),new me(a)}function Yd(t,e,n){let i=[];if(nc(null,t,n,i),t.depth>n){let r=jm(t,e,n+1);co(uo(r,Yd(t,e,n+1)),i)}return nc(e,null,n,i),new me(i)}function qH(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)r=e.node(s).copy(me.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class wc{constructor(e,n,i){this.pos=e,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],r=e.child(n);return i?e.child(n).cut(i):r}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let i=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)r+=i.child(s).nodeSize;return r}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return bt.none;if(this.textOffset)return e.child(n).marks;let i=e.maybeChild(n-1),r=e.maybeChild(n);if(!i){let a=i;i=r,r=a}let s=i.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!r||!s[o].isInSet(r.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,r=e.parent.maybeChild(e.index());for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!r||!i[s].isInSet(r.marks))&&(i=i[s--].removeFromSet(i));return i}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!n||n(this.node(i))))return new Xd(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let i=[],r=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),u=s-l;if(i.push(o,a,r+l),!u||(o=o.child(a),o.isText))break;s=u-1,r+=l+1}return new wc(n,i,s)}static resolveCached(e,n){let i=$0.get(e);if(i)for(let s=0;s<i.elts.length;s++){let o=i.elts[s];if(o.pos==n)return o}else $0.set(e,i=new GH);let r=i.elts[i.i]=wc.resolve(e,n);return i.i=(i.i+1)%KH,r}}class GH{constructor(){this.elts=[],this.i=0}}const KH=12,$0=new WeakMap;class Xd{constructor(e,n,i){this.$from=e,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const JH=Object.create(null);let _s=class Um{constructor(e,n,i,r=bt.none){this.type=e,this.attrs=n,this.marks=r,this.content=i||me.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,i,r=0){this.content.nodesBetween(e,n,i,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,i,r){return this.content.textBetween(e,n,i,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,i){return this.type==e&&jd(this.attrs,n||e.defaultAttrs||JH)&&bt.sameSet(this.marks,i||bt.none)}copy(e=null){return e==this.content?this:new Um(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Um(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,i=!1){if(e==n)return Se.empty;let r=this.resolve(e),s=this.resolve(n),o=i?0:r.sharedDepth(n),a=r.start(o),u=r.node(o).content.cut(r.pos-a,s.pos-a);return new Se(u,r.depth-o,s.depth-o)}replace(e,n,i){return XH(this.resolve(e),this.resolve(n),i)}nodeAt(e){for(let n=this;;){let{index:i,offset:r}=n.content.findIndex(e);if(n=n.maybeChild(i),!n)return null;if(r==e||n.isText)return n;e-=r+1}}childAfter(e){let{index:n,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(n),index:n,offset:i};let r=this.content.child(n-1);return{node:r,index:n-1,offset:i-r.nodeSize}}resolve(e){return wc.resolveCached(this,e)}resolveNoCache(e){return wc.resolve(this,e)}rangeHasMark(e,n,i){let r=!1;return n>e&&this.nodesBetween(e,n,s=>(i.isInSet(s.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),wC(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,i=me.empty,r=0,s=i.childCount){let o=this.contentMatchAt(e).matchFragment(i,r,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=r;l<s;l++)if(!this.type.allowsMarks(i.child(l).marks))return!1;return!0}canReplaceWith(e,n,i,r){if(r&&!this.type.allowsMarks(r))return!1;let s=this.contentMatchAt(e).matchType(i),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=bt.none;for(let n=0;n<this.marks.length;n++){let i=this.marks[n];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!bt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,i)}let r=me.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,r,i);return s.type.checkAttrs(s.attrs),s}};_s.prototype.text=void 0;class qd extends _s{constructor(e,n,i,r){if(super(e,n,null,r),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wC(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new qd(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new qd(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function wC(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class xo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let i=new ZH(e,n);if(i.next==null)return xo.empty;let r=SC(i);i.next&&i.err("Unexpected trailing text");let s=sW(rW(r));return oW(s,i),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,i=e.childCount){let r=this;for(let s=n;r&&s<i;s++)r=r.matchType(e.child(s).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let i=0;i<e.next.length;i++)if(this.next[n].type==e.next[i].type)return!0;return!1}fillBefore(e,n=!1,i=0){let r=[this];function s(o,a){let l=o.matchFragment(e,i);if(l&&(!n||l.validEnd))return me.from(a.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:d,next:h}=o.next[u];if(!(d.isText||d.hasRequiredAttrs())&&r.indexOf(h)==-1){r.push(h);let p=s(h,a.concat(d));if(p)return p}}return null}return s(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let r=i.shift(),s=r.match;if(s.matchType(e)){let o=[];for(let a=r;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!r.type||l.validEnd)&&(i.push({match:a.contentMatch,type:a,via:r}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(i){e.push(i);for(let r=0;r<i.next.length;r++)e.indexOf(i.next[r].next)==-1&&n(i.next[r].next)}return n(this),e.map((i,r)=>{let s=r+(i.validEnd?"*":" ")+" ";for(let o=0;o<i.next.length;o++)s+=(o?", ":"")+i.next[o].type.name+"->"+e.indexOf(i.next[o].next);return s}).join(`
`)}}xo.empty=new xo(!0);class ZH{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function SC(t){let e=[];do e.push(QH(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function QH(t){let e=[];do e.push(eW(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function eW(t){let e=iW(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=tW(t,e);else break;return e}function B0(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function tW(t,e){let n=B0(t),i=n;return t.eat(",")&&(t.next!="}"?i=B0(t):i=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function nW(t,e){let n=t.nodeTypes,i=n[e];if(i)return[i];let r=[];for(let s in n){let o=n[s];o.isInGroup(e)&&r.push(o)}return r.length==0&&t.err("No node type or group '"+e+"' found"),r}function iW(t){if(t.eat("(")){let e=SC(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=nW(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function rW(t){let e=[[]];return r(s(t,0),n()),e;function n(){return e.push([])-1}function i(o,a,l){let u={term:l,to:a};return e[o].push(u),u}function r(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,u)=>l.concat(s(u,a)),[]);if(o.type=="seq")for(let l=0;;l++){let u=s(o.exprs[l],a);if(l==o.exprs.length-1)return u;r(u,a=n())}else if(o.type=="star"){let l=n();return i(a,l),r(s(o.expr,l),l),[i(l)]}else if(o.type=="plus"){let l=n();return r(s(o.expr,a),l),r(s(o.expr,l),l),[i(l)]}else{if(o.type=="opt")return[i(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let u=0;u<o.min;u++){let d=n();r(s(o.expr,l),d),l=d}if(o.max==-1)r(s(o.expr,l),l);else for(let u=o.min;u<o.max;u++){let d=n();i(l,d),r(s(o.expr,l),d),l=d}return[i(l)]}else{if(o.type=="name")return[i(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function xC(t,e){return e-t}function F0(t,e){let n=[];return i(e),n.sort(xC);function i(r){let s=t[r];if(s.length==1&&!s[0].term)return i(s[0].to);n.push(r);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&i(l)}}}function sW(t){let e=Object.create(null);return n(F0(t,0));function n(i){let r=[];i.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let d=0;d<r.length;d++)r[d][0]==a&&(u=r[d][1]);F0(t,l).forEach(d=>{u||r.push([a,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let s=e[i.join(",")]=new xo(i.indexOf(t.length-1)>-1);for(let o=0;o<r.length;o++){let a=r[o][1].sort(xC);s.next.push({type:r[o][0],next:e[a.join(",")]||n(a)})}return s}}function oW(t,e){for(let n=0,i=[t];n<i.length;n++){let r=i[n],s=!r.validEnd,o=[];for(let a=0;a<r.next.length;a++){let{type:l,next:u}=r.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),i.indexOf(u)==-1&&i.push(u)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function EC(t){let e=Object.create(null);for(let n in t){let i=t[n];if(!i.hasDefault)return null;e[n]=i.default}return e}function CC(t,e){let n=Object.create(null);for(let i in t){let r=e&&e[i];if(r===void 0){let s=t[i];if(s.hasDefault)r=s.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=r}return n}function TC(t,e,n,i){for(let r in e)if(!(r in t))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in t){let s=t[r];s.validate&&s.validate(e[r])}}function MC(t,e){let n=Object.create(null);if(e)for(let i in e)n[i]=new lW(t,i,e[i]);return n}let H0=class _C{constructor(e,n,i){this.name=e,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=MC(e,i.attrs),this.defaultAttrs=EC(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==xo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:CC(this.attrs,e)}create(e=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new _s(this,this.computeAttrs(e),me.from(n),bt.setFrom(i))}createChecked(e=null,n,i){return n=me.from(n),this.checkContent(n),new _s(this,this.computeAttrs(e),n,bt.setFrom(i))}createAndFill(e=null,n,i){if(e=this.computeAttrs(e),n=me.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let r=this.contentMatch.matchFragment(n),s=r&&r.fillBefore(me.empty,!0);return s?new _s(this,e,n.append(s),bt.setFrom(i)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){TC(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?n&&n.push(e[i]):n||(n=e.slice(0,i));return n?n.length?n:bt.none:e}static compile(e,n){let i=Object.create(null);e.forEach((s,o)=>i[s]=new _C(s,n,o));let r=n.spec.topNode||"doc";if(!i[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let s in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function aW(t,e,n){let i=n.split("|");return r=>{let s=r===null?"null":typeof r;if(i.indexOf(s)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${t}, got ${s}`)}}class lW{constructor(e,n,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?aW(e,n,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class If{constructor(e,n,i,r){this.name=e,this.rank=n,this.schema=i,this.spec=r,this.attrs=MC(e,r.attrs),this.excluded=null;let s=EC(this.attrs);this.instance=s?new bt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new bt(this,CC(this.attrs,e))}static compile(e,n){let i=Object.create(null),r=0;return e.forEach((s,o)=>i[s]=new If(s,r++,n,o)),i}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){TC(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class AC{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in e)n[r]=e[r];n.nodes=cn.from(e.nodes),n.marks=cn.from(e.marks||{}),this.nodes=H0.compile(this.spec.nodes,this),this.marks=If.compile(this.spec.marks,this);let i=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let s=this.nodes[r],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=i[o]||(i[o]=xo.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?W0(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let r in this.marks){let s=this.marks[r],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:W0(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,i,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof H0){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,i,r)}text(e,n){let i=this.nodes.text;return new qd(i,i.defaultAttrs,e,bt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return _s.fromJSON(this,e)}markFromJSON(e){return bt.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function W0(t,e){let n=[];for(let i=0;i<e.length;i++){let r=e[i],s=t.marks[r],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(r=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}function cW(t){return t.tag!=null}function uW(t){return t.style!=null}class As{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let i=this.matchedStyles=[];n.forEach(r=>{if(cW(r))this.tags.push(r);else if(uW(r)){let s=/[^=]*/.exec(r.style)[0];i.indexOf(s)<0&&i.push(s),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=e.nodes[r.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let i=new j0(this,n,!1);return i.addAll(e,bt.none,n.from,n.to),i.finish()}parseSlice(e,n={}){let i=new j0(this,n,!0);return i.addAll(e,bt.none,n.from,n.to),Se.maxOpen(i.finish())}matchTag(e,n,i){for(let r=i?this.tags.indexOf(i)+1:0;r<this.tags.length;r++){let s=this.tags[r];if(hW(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,i,r){for(let s=r?this.styles.indexOf(r)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!i.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function i(r){let s=r.priority==null?50:r.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,r)}for(let r in e.marks){let s=e.marks[r].spec.parseDOM;s&&s.forEach(o=>{i(o=U0(o)),o.mark||o.ignore||o.clearMark||(o.mark=r)})}for(let r in e.nodes){let s=e.nodes[r].spec.parseDOM;s&&s.forEach(o=>{i(o=U0(o)),o.node||o.ignore||o.mark||(o.node=r)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new As(e,As.schemaRules(e)))}}const kC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},dW={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},OC={ol:!0,ul:!0},Sc=1,Ym=2,ic=4;function V0(t,e,n){return e!=null?(e?Sc:0)|(e==="full"?Ym:0):t&&t.whitespace=="pre"?Sc|Ym:n&~ic}class sd{constructor(e,n,i,r,s,o){this.type=e,this.attrs=n,this.marks=i,this.solid=r,this.options=o,this.content=[],this.activeMarks=bt.none,this.match=s||(o&ic?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(me.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,r;return(r=i.findWrapping(e.type))?(this.match=i,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Sc)){let i=this.content[this.content.length-1],r;if(i&&i.isText&&(r=/[ \t\r\n\u000c]+$/.exec(i.text))){let s=i;i.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-r[0].length))}}let n=me.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(me.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!kC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class j0{constructor(e,n,i){this.parser=e,this.options=n,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let r=n.topNode,s,o=V0(null,n.preserveWhitespace,0)|(i?ic:0);r?s=new sd(r.type,r.attrs,bt.none,!0,n.topMatch||r.type.contentMatch,o):i?s=new sd(null,null,bt.none,!0,null,o):s=new sd(e.schema.topNodeType,null,bt.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let i=e.nodeValue,r=this.top,s=r.options&Ym?"full":this.localPreserveWS||(r.options&Sc)>0;if(s==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(s)s!=="full"?i=i.replace(/\r?\n|\r/g," "):i=i.replace(/\r\n?/g,`
`);else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let o=r.content[r.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),n,!/\S/.test(i)),this.findInText(e)}else this.findInside(e)}addElement(e,n,i){let r=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;OC.hasOwnProperty(o)&&this.parser.normalizeLists&&fW(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,i));e:if(l?l.ignore:dW.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let u,d=this.needsBlock;if(kC.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),u=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let h=l&&l.skip?n:this.readStyles(e,n);h&&this.addAll(e,h),u&&this.sync(s),this.needsBlock=d}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,l,u,l.consuming===!1?a:void 0)}this.localPreserveWS=r}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let i=e.style;if(i&&i.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let s=this.parser.matchedStyles[r],o=i.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(u=>!l.clearMark(u)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,i,r){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),i,e.nodeName=="BR")||this.leafFallback(e,i);else{let l=this.enter(o,n.attrs||null,i,n.preserveWhitespace);l&&(s=!0,i=l)}else{let l=this.parser.schema.marks[n.mark];i=i.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,i,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,i,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,i),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,i,r){let s=i||0;for(let o=i?e.childNodes[i]:e.firstChild,a=r==null?null:e.childNodes[r];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n,i){let r,s;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],u=l.findWrapping(e);if(u&&(!r||r.length>u.length+a)&&(r=u,s=l,!u.length))break;if(l.solid){if(i)break;a+=2}}if(!r)return null;this.sync(s);for(let o=0;o<r.length;o++)n=this.enterInner(r[o],null,n,!1);return n}insertNode(e,n,i){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let r=this.findPlace(e,n,i);if(r){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=bt.none;for(let a of r.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):Y0(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,n,i,r){let s=this.findPlace(e.create(n),i,!1);return s&&(s=this.enterInner(e,n,i,!0,r)),s}enterInner(e,n,i,r=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=V0(e,s,o.options);o.options&ic&&o.content.length==0&&(a|=ic);let l=bt.none;return i=i.filter(u=>(o.type?o.type.allowsMarkType(u.type):Y0(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new sd(e,n,l,r,null,a)),this.open++,i}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Sc)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let r=i.length-1;r>=0;r--)e+=i[r].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,i){if(e!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(i?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),i=this.options.context,r=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),s=-(i?i.depth+1:0)+(r?0:1),o=(a,l)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let d=l>0||l==0&&r?this.nodes[l].type:i&&l>=s?i.node(l-s).type:null;if(!d||d.name!=u&&!d.isInGroup(u))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}}function fW(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&OC.hasOwnProperty(i)&&n?(n.appendChild(e),e=n):i=="li"?n=e:i&&(n=null)}}function hW(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function U0(t){let e={};for(let n in t)e[n]=t[n];return e}function Y0(t,e){let n=e.schema.nodes;for(let i in n){let r=n[i];if(!r.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:d}=a.edge(l);if(u==e||s.indexOf(d)<0&&o(d))return!0}};if(o(r.contentMatch))return!0}}class ko{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},i){i||(i=Bp(n).createDocumentFragment());let r=i,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let u=o.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(s[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)r=s.pop()[1];for(;l<o.marks.length;){let u=o.marks[l++],d=this.serializeMark(u,o.isInline,n);d&&(s.push([u,r]),r.appendChild(d.dom),r=d.contentDOM||d.dom)}}r.appendChild(this.serializeNodeInner(o,n))}),i}serializeNodeInner(e,n){let{dom:i,contentDOM:r}=Sd(Bp(n),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,r)}return i}serializeNode(e,n={}){let i=this.serializeNodeInner(e,n);for(let r=e.marks.length-1;r>=0;r--){let s=this.serializeMark(e.marks[r],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(i),i=s.dom)}return i}serializeMark(e,n,i={}){let r=this.marks[e.type.name];return r&&Sd(Bp(i),r(e,n),null,e.attrs)}static renderSpec(e,n,i=null,r){return Sd(e,n,i,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ko(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=X0(e.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(e){return X0(e.marks)}}function X0(t){let e={};for(let n in t){let i=t[n].spec.toDOM;i&&(e[n]=i)}return e}function Bp(t){return t.document||window.document}const q0=new WeakMap;function pW(t){let e=q0.get(t);return e===void 0&&q0.set(t,e=mW(t)),e}function mW(t){let e=null;function n(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let r=0;r<i.length;r++)n(i[r]);else for(let r in i)n(i[r])}return n(t),e}function Sd(t,e,n,i){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],s;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(s=pW(i))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));let a,l=n?t.createElementNS(n,r):t.createElement(r),u=e[1],d=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){d=2;for(let h in u)if(u[h]!=null){let p=h.indexOf(" ");p>0?l.setAttributeNS(h.slice(0,p),h.slice(p+1),u[h]):l.setAttribute(h,u[h])}}for(let h=d;h<e.length;h++){let p=e[h];if(p===0){if(h<e.length-1||h>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:g,contentDOM:m}=Sd(t,p,n,i);if(l.appendChild(g),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const RC=65535,PC=Math.pow(2,16);function gW(t,e){return t+e*PC}function G0(t){return t&RC}function vW(t){return(t-(t&RC))/PC}const IC=1,LC=2,xd=4,DC=8;class Xm{constructor(e,n,i){this.pos=e,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&DC)>0}get deletedBefore(){return(this.delInfo&(IC|xd))>0}get deletedAfter(){return(this.delInfo&(LC|xd))>0}get deletedAcross(){return(this.delInfo&xd)>0}}class ai{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&ai.empty)return ai.empty}recover(e){let n=0,i=G0(e);if(!this.inverted)for(let r=0;r<i;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[i*3]+n+vW(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,i){let r=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[a+s],d=this.ranges[a+o],h=l+u;if(e<=h){let p=u?e==l?-1:e==h?1:n:n,g=l+r+(p<0?0:d);if(i)return g;let m=e==(n<0?l:h)?null:gW(a/3,e-l),b=e==l?LC:e==h?IC:xd;return(n<0?e!=l:e!=h)&&(b|=DC),new Xm(g,b,m)}r+=d-u}return i?e+r:new Xm(e+r,0,null)}touches(e,n){let i=0,r=G0(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[a+s],d=l+u;if(e<=d&&a==r*3)return!0;i+=this.ranges[a+o]-u}return!1}forEach(e){let n=this.inverted?2:1,i=this.inverted?1:2;for(let r=0,s=0;r<this.ranges.length;r+=3){let o=this.ranges[r],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),u=this.ranges[r+n],d=this.ranges[r+i];e(a,a+u,l,l+d),s+=d-u}}invert(){return new ai(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ai.empty:new ai(e<0?[0,-e,0]:[0,0,e])}}ai.empty=new ai([]);class xc{constructor(e,n,i=0,r=e?e.length:0){this.mirror=n,this.from=i,this.to=r,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new xc(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,i=this._maps.length;n<e._maps.length;n++){let r=e.getMirror(n);this.appendMap(e._maps[n],r!=null&&r<n?i+r:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,i=this._maps.length+e._maps.length;n>=0;n--){let r=e.getMirror(n);this.appendMap(e._maps[n].invert(),r!=null&&r>n?i-r-1:void 0)}}invert(){let e=new xc;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let i=this.from;i<this.to;i++)e=this._maps[i].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,i){let r=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}r|=a.delInfo,e=a.pos}return i?e:new Xm(e,r,null)}}const Fp=Object.create(null);class _n{getMap(){return ai.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=Fp[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in Fp)throw new RangeError("Duplicate use of step JSON ID "+e);return Fp[e]=n,n.prototype.jsonID=e,n}}class Vt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Vt(e,null)}static fail(e){return new Vt(null,e)}static fromReplace(e,n,i,r){try{return Vt.ok(e.replace(n,i,r))}catch(s){if(s instanceof Ud)return Vt.fail(s.message);throw s}}}function av(t,e,n){let i=[];for(let r=0;r<t.childCount;r++){let s=t.child(r);s.content.size&&(s=s.copy(av(s.content,e,s))),s.isInline&&(s=e(s,n,r)),i.push(s)}return me.fromArray(i)}class xs extends _n{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=e.resolve(this.from),r=i.node(i.sharedDepth(this.to)),s=new Se(av(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),r),n.openStart,n.openEnd);return Vt.fromReplace(e,this.from,this.to,s)}invert(){return new cr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new xs(n.pos,i.pos,this.mark)}merge(e){return e instanceof xs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new xs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new xs(n.from,n.to,e.markFromJSON(n.mark))}}_n.jsonID("addMark",xs);class cr extends _n{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=new Se(av(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),n.openStart,n.openEnd);return Vt.fromReplace(e,this.from,this.to,i)}invert(){return new xs(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new cr(n.pos,i.pos,this.mark)}merge(e){return e instanceof cr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new cr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new cr(n.from,n.to,e.markFromJSON(n.mark))}}_n.jsonID("removeMark",cr);class Es extends _n{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Vt.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Vt.fromReplace(e,this.pos,this.pos+1,new Se(me.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(i))return new Es(this.pos,n.marks[r]);return new Es(this.pos,this.mark)}}return new Eo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Es(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Es(n.pos,e.markFromJSON(n.mark))}}_n.jsonID("addNodeMark",Es);class Eo extends _n{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Vt.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Vt.fromReplace(e,this.pos,this.pos+1,new Se(me.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Es(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Eo(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Eo(n.pos,e.markFromJSON(n.mark))}}_n.jsonID("removeNodeMark",Eo);class Jt extends _n{constructor(e,n,i,r=!1){super(),this.from=e,this.to=n,this.slice=i,this.structure=r}apply(e){return this.structure&&qm(e,this.from,this.to)?Vt.fail("Structure replace would overwrite content"):Vt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ai([this.from,this.to-this.from,this.slice.size])}invert(e){return new Jt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new Jt(n.pos,Math.max(n.pos,i.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Jt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Se.empty:new Se(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Jt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Se.empty:new Se(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Jt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Jt(n.from,n.to,Se.fromJSON(e,n.slice),!!n.structure)}}_n.jsonID("replace",Jt);class en extends _n{constructor(e,n,i,r,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=i,this.gapTo=r,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(qm(e,this.from,this.gapFrom)||qm(e,this.gapTo,this.to)))return Vt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Vt.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?Vt.fromReplace(e,this.from,this.to,i):Vt.fail("Content does not fit in gap")}getMap(){return new ai([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new en(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),r=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||r<n.pos||s>i.pos?null:new en(n.pos,i.pos,r,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new en(n.from,n.to,n.gapFrom,n.gapTo,Se.fromJSON(e,n.slice),n.insert,!!n.structure)}}_n.jsonID("replaceAround",en);function qm(t,e,n){let i=t.resolve(e),r=n-e,s=i.depth;for(;r>0&&s>0&&i.indexAfter(s)==i.node(s).childCount;)s--,r--;if(r>0){let o=i.node(s).maybeChild(i.indexAfter(s));for(;r>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,r--}}return!1}function bW(t,e,n,i){let r=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,u,d)=>{if(!l.isInline)return;let h=l.marks;if(!i.isInSet(h)&&d.type.allowsMarkType(i.type)){let p=Math.max(u,e),g=Math.min(u+l.nodeSize,n),m=i.addToSet(h);for(let b=0;b<h.length;b++)h[b].isInSet(m)||(o&&o.to==p&&o.mark.eq(h[b])?o.to=g:r.push(o=new cr(p,g,h[b])));a&&a.to==p?a.to=g:s.push(a=new xs(p,g,i))}}),r.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function yW(t,e,n,i){let r=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(i instanceof If){let u=o.marks,d;for(;d=i.isInSet(u);)(l||(l=[])).push(d),u=d.removeFromSet(u)}else i?i.isInSet(o.marks)&&(l=[i]):l=o.marks;if(l&&l.length){let u=Math.min(a+o.nodeSize,n);for(let d=0;d<l.length;d++){let h=l[d],p;for(let g=0;g<r.length;g++){let m=r[g];m.step==s-1&&h.eq(r[g].style)&&(p=m)}p?(p.to=u,p.step=s):r.push({style:h,from:Math.max(a,e),to:u,step:s})}}}),r.forEach(o=>t.step(new cr(o.from,o.to,o.style)))}function lv(t,e,n,i=n.contentMatch,r=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let u=s.child(l),d=a+u.nodeSize,h=i.matchType(u.type);if(!h)o.push(new Jt(a,d,Se.empty));else{i=h;for(let p=0;p<u.marks.length;p++)n.allowsMarkType(u.marks[p].type)||t.step(new cr(a,d,u.marks[p]));if(r&&u.isText&&n.whitespace!="pre"){let p,g=/\r?\n|\r/g,m;for(;p=g.exec(u.text);)m||(m=new Se(me.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),o.push(new Jt(a+p.index,a+p.index+p[0].length,m))}}a=d}if(!i.validEnd){let l=i.fillBefore(me.empty,!0);t.replace(a,a,new Se(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function wW(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Ha(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let i=t.depth;;--i){let r=t.$from.node(i),s=t.$from.index(i),o=t.$to.indexAfter(i);if(i<t.depth&&r.canReplace(s,o,n))return i;if(i==0||r.type.spec.isolating||!wW(r,s,o))break}return null}function SW(t,e,n){let{$from:i,$to:r,depth:s}=e,o=i.before(s+1),a=r.after(s+1),l=o,u=a,d=me.empty,h=0;for(let m=s,b=!1;m>n;m--)b||i.index(m)>0?(b=!0,d=me.from(i.node(m).copy(d)),h++):l--;let p=me.empty,g=0;for(let m=s,b=!1;m>n;m--)b||r.after(m+1)<r.end(m)?(b=!0,p=me.from(r.node(m).copy(p)),g++):u++;t.step(new en(l,u,o,a,new Se(d.append(p),h,g),d.size-h,!0))}function cv(t,e,n=null,i=t){let r=xW(t,e),s=r&&EW(i,e);return s?r.map(K0).concat({type:e,attrs:n}).concat(s.map(K0)):null}function K0(t){return{type:t,attrs:null}}function xW(t,e){let{parent:n,startIndex:i,endIndex:r}=t,s=n.contentMatchAt(i).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(i,r,o)?s:null}function EW(t,e){let{parent:n,startIndex:i,endIndex:r}=t,s=n.child(i),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let u=i;l&&u<r;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:o}function CW(t,e,n){let i=me.empty;for(let o=n.length-1;o>=0;o--){if(i.size){let a=n[o].type.contentMatch.matchFragment(i);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=me.from(n[o].type.create(n[o].attrs,i))}let r=e.start,s=e.end;t.step(new en(r,s,r,s,new Se(i,0,0),n.length,!0))}function TW(t,e,n,i,r){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof r=="function"?r(o):r;if(o.isTextblock&&!o.hasMarkup(i,l)&&MW(t.doc,t.mapping.slice(s).map(a),i)){let u=null;if(i.schema.linebreakReplacement){let g=i.whitespace=="pre",m=!!i.contentMatch.matchType(i.schema.linebreakReplacement);g&&!m?u=!1:!g&&m&&(u=!0)}u===!1&&zC(t,o,a,s),lv(t,t.mapping.slice(s).map(a,1),i,void 0,u===null);let d=t.mapping.slice(s),h=d.map(a,1),p=d.map(a+o.nodeSize,1);return t.step(new en(h,p,h+1,p-1,new Se(me.from(i.create(l,null,o.marks)),0,0),1,!0)),u===!0&&NC(t,o,a,s),!1}})}function NC(t,e,n,i){e.forEach((r,s)=>{if(r.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(r.text);){let l=t.mapping.slice(i).map(n+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function zC(t,e,n,i){e.forEach((r,s)=>{if(r.type==r.type.schema.linebreakReplacement){let o=t.mapping.slice(i).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function MW(t,e,n){let i=t.resolve(e),r=i.index();return i.parent.canReplaceWith(r,r+1,n)}function _W(t,e,n,i,r){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(i,null,r||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new en(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Se(me.from(o),0,0),1,!0))}function Fr(t,e,n=1,i){let r=t.resolve(e),s=r.depth-n,o=i&&i[i.length-1]||r.parent;if(s<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!o.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let u=r.depth-1,d=n-2;u>s;u--,d--){let h=r.node(u),p=r.index(u);if(h.type.spec.isolating)return!1;let g=h.content.cutByIndex(p,h.childCount),m=i&&i[d+1];m&&(g=g.replaceChild(0,m.type.create(m.attrs)));let b=i&&i[d]||h;if(!h.canReplace(p+1,h.childCount)||!b.type.validContent(g))return!1}let a=r.indexAfter(s),l=i&&i[0];return r.node(s).canReplaceWith(a,a,l?l.type:r.node(s+1).type)}function AW(t,e,n=1,i){let r=t.doc.resolve(e),s=me.empty,o=me.empty;for(let a=r.depth,l=r.depth-n,u=n-1;a>l;a--,u--){s=me.from(r.node(a).copy(s));let d=i&&i[u];o=me.from(d?d.type.create(d.attrs,o):r.node(a).copy(o))}t.step(new Jt(e,e,new Se(s.append(o),n,n),!0))}function $s(t,e){let n=t.resolve(e),i=n.index();return $C(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function kW(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:i}=t.type.schema;for(let r=0;r<e.childCount;r++){let s=e.child(r),o=s.type==i?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function $C(t,e){return!!(t&&e&&!t.isLeaf&&kW(t,e))}function Lf(t,e,n=-1){let i=t.resolve(e);for(let r=i.depth;;r--){let s,o,a=i.index(r);if(r==i.depth?(s=i.nodeBefore,o=i.nodeAfter):n>0?(s=i.node(r+1),a++,o=i.node(r).maybeChild(a)):(s=i.node(r).maybeChild(a-1),o=i.node(r+1)),s&&!s.isTextblock&&$C(s,o)&&i.node(r).canReplace(a,a+1))return e;if(r==0)break;e=n<0?i.before(r):i.after(r)}}function OW(t,e,n){let i=null,{linebreakReplacement:r}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(r&&o.inlineContent){let d=o.whitespace=="pre",h=!!o.contentMatch.matchType(r);d&&!h?i=!1:!d&&h&&(i=!0)}let a=t.steps.length;if(i===!1){let d=t.doc.resolve(e+n);zC(t,d.node(),d.before(),a)}o.inlineContent&&lv(t,e+n-1,o,s.node().contentMatchAt(s.index()),i==null);let l=t.mapping.slice(a),u=l.map(e-n);if(t.step(new Jt(u,l.map(e+n,-1),Se.empty,!0)),i===!0){let d=t.doc.resolve(u);NC(t,d.node(),d.before(),t.steps.length)}return t}function RW(t,e,n){let i=t.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(i.parentOffset==0)for(let r=i.depth-1;r>=0;r--){let s=i.index(r);if(i.node(r).canReplaceWith(s,s,n))return i.before(r+1);if(s>0)return null}if(i.parentOffset==i.parent.content.size)for(let r=i.depth-1;r>=0;r--){let s=i.indexAfter(r);if(i.node(r).canReplaceWith(s,s,n))return i.after(r+1);if(s<i.node(r).childCount)return null}return null}function BC(t,e,n){let i=t.resolve(e);if(!n.content.size)return e;let r=n.content;for(let s=0;s<n.openStart;s++)r=r.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=i.depth;o>=0;o--){let a=o==i.depth?0:i.pos<=(i.start(o+1)+i.end(o+1))/2?-1:1,l=i.index(o)+(a>0?1:0),u=i.node(o),d=!1;if(s==1)d=u.canReplace(l,l,r);else{let h=u.contentMatchAt(l).findWrapping(r.firstChild.type);d=h&&u.canReplaceWith(l,l,h[0])}if(d)return a==0?i.pos:a<0?i.before(o+1):i.after(o+1)}return null}function Df(t,e,n=e,i=Se.empty){if(e==n&&!i.size)return null;let r=t.resolve(e),s=t.resolve(n);return FC(r,s,i)?new Jt(e,n,i):new PW(r,s,i).fit()}function FC(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class PW{constructor(e,n,i){this.$from=e,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=me.empty;for(let r=0;r<=e.depth;r++){let s=e.node(r);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=me.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,r=this.close(e<0?this.$to:i.doc.resolve(e));if(!r)return null;let s=this.placed,o=i.depth,a=r.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new Se(s,o,a);return e>-1?new en(i.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||i.pos!=this.$to.pos?new Jt(i.pos,r.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,r=this.unplaced.openEnd;i<e;i++){let s=n.firstChild;if(n.childCount>1&&(r=0),s.type.spec.isolating&&r<=i){e=i;break}n=s.content}for(let n=1;n<=2;n++)for(let i=n==1?e:this.unplaced.openStart;i>=0;i--){let r,s=null;i?(s=Hp(this.unplaced.content,i-1).firstChild,r=s.content):r=this.unplaced.content;let o=r.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],d,h=null;if(n==1&&(o?u.matchType(o.type)||(h=u.fillBefore(me.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:i,frontierDepth:a,parent:s,inject:h};if(n==2&&o&&(d=u.findWrapping(o.type)))return{sliceDepth:i,frontierDepth:a,parent:s,wrap:d};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:i}=this.unplaced,r=Hp(e,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new Se(e,n+1,Math.max(i,r.size+n>=e.size-i?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:i}=this.unplaced,r=Hp(e,n);if(r.childCount<=1&&n>0){let s=e.size-n<=n+r.size;this.unplaced=new Se(Wl(e,n-1,1),n-1,s?n-1:i)}else this.unplaced=new Se(Wl(e,n,1),n,i)}placeNodes({sliceDepth:e,frontierDepth:n,parent:i,inject:r,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let b=0;b<s.length;b++)this.openFrontierNode(s[b]);let o=this.unplaced,a=i?i.content:o.content,l=o.openStart-e,u=0,d=[],{match:h,type:p}=this.frontier[n];if(r){for(let b=0;b<r.childCount;b++)d.push(r.child(b));h=h.matchFragment(r)}let g=a.size+e-(o.content.size-o.openEnd);for(;u<a.childCount;){let b=a.child(u),y=h.matchType(b.type);if(!y)break;u++,(u>1||l==0||b.content.size)&&(h=y,d.push(HC(b.mark(p.allowedMarks(b.marks)),u==1?l:0,u==a.childCount?g:-1)))}let m=u==a.childCount;m||(g=-1),this.placed=Vl(this.placed,n,me.from(d)),this.frontier[n].match=h,m&&g<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,y=a;b<g;b++){let S=y.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),y=S.content}this.unplaced=m?e==0?Se.empty:new Se(Wl(o.content,e-1,1),e-1,g<0?o.openEnd:e-1):new Se(Wl(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Wp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,r=this.$to.after(i);for(;i>1&&r==this.$to.end(--i);)++r;return r}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:i,type:r}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=Wp(e,n,r,i,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],d=Wp(e,a,u,l,!0);if(!d||d.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Vl(this.placed,n.depth,n.fit)),e=n.move;for(let i=n.depth+1;i<=e.depth;i++){let r=e.node(i),s=r.type.contentMatch.fillBefore(r.content,!0,e.index(i));this.openFrontierNode(r.type,r.attrs,s)}return e}openFrontierNode(e,n=null,i){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Vl(this.placed,this.depth,me.from(e.create(n,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(me.empty,!0);n.childCount&&(this.placed=Vl(this.placed,this.frontier.length,n))}}function Wl(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Wl(t.firstChild.content,e-1,n)))}function Vl(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Vl(t.lastChild.content,e-1,n)))}function Hp(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function HC(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,HC(i.firstChild,e-1,i.childCount==1?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(me.empty,!0)))),t.copy(i)}function Wp(t,e,n,i,r){let s=t.node(e),o=r?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=i.fillBefore(s.content,!0,o);return a&&!IW(n,s.content,o)?a:null}function IW(t,e,n){for(let i=n;i<e.childCount;i++)if(!t.allowsMarks(e.child(i).marks))return!0;return!1}function LW(t){return t.spec.defining||t.spec.definingForContent}function DW(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let r=t.doc.resolve(e),s=t.doc.resolve(n);if(FC(r,s,i))return t.step(new Jt(e,n,i));let o=VC(r,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(r.depth+1);o.unshift(a);for(let p=r.depth,g=r.pos-1;p>0;p--,g--){let m=r.node(p).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(p)>-1?a=p:r.before(p)==g&&o.splice(1,0,-p)}let l=o.indexOf(a),u=[],d=i.openStart;for(let p=i.content,g=0;;g++){let m=p.firstChild;if(u.push(m),g==i.openStart)break;p=m.content}for(let p=d-1;p>=0;p--){let g=u[p],m=LW(g.type);if(m&&!g.sameMarkup(r.node(Math.abs(a)-1)))d=p;else if(m||!g.type.isTextblock)break}for(let p=i.openStart;p>=0;p--){let g=(p+d+1)%(i.openStart+1),m=u[g];if(m)for(let b=0;b<o.length;b++){let y=o[(b+l)%o.length],S=!0;y<0&&(S=!1,y=-y);let x=r.node(y-1),E=r.index(y-1);if(x.canReplaceWith(E,E,m.type,m.marks))return t.replace(r.before(y),S?s.after(y):n,new Se(WC(i.content,0,i.openStart,g),g,i.openEnd))}}let h=t.steps.length;for(let p=o.length-1;p>=0&&(t.replace(e,n,i),!(t.steps.length>h));p--){let g=o[p];g<0||(e=r.before(g),n=s.after(g))}}function WC(t,e,n,i,r){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(WC(s.content,e+1,n,i,s)))}if(e>i){let s=r.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(me.empty,!0))}return t}function NW(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=RW(t.doc,e,i.type);r!=null&&(e=n=r)}t.replaceRange(e,n,new Se(me.from(i),0,0))}function zW(t,e,n){let i=t.doc.resolve(e),r=t.doc.resolve(n),s=VC(i,r);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||i.node(a).type.contentMatch.validEnd)return t.delete(i.start(a),r.end(a));if(a>0&&(l||i.node(a-1).canReplace(i.index(a-1),r.indexAfter(a-1))))return t.delete(i.before(a),r.after(a))}for(let o=1;o<=i.depth&&o<=r.depth;o++)if(e-i.start(o)==i.depth-o&&n>i.end(o)&&r.end(o)-n!=r.depth-o&&i.start(o-1)==r.start(o-1)&&i.node(o-1).canReplace(i.index(o-1),r.index(o-1)))return t.delete(i.before(o),n);t.delete(e,n)}function VC(t,e){let n=[],i=Math.min(t.depth,e.depth);for(let r=i;r>=0;r--){let s=t.start(r);if(s<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(s==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==s-1)&&n.push(r)}return n}class va extends _n{constructor(e,n,i){super(),this.pos=e,this.attr=n,this.value=i}apply(e){let n=e.nodeAt(this.pos);if(!n)return Vt.fail("No node at attribute step's position");let i=Object.create(null);for(let s in n.attrs)i[s]=n.attrs[s];i[this.attr]=this.value;let r=n.type.create(i,null,n.marks);return Vt.fromReplace(e,this.pos,this.pos+1,new Se(me.from(r),0,n.isLeaf?0:1))}getMap(){return ai.empty}invert(e){return new va(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new va(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new va(n.pos,n.attr,n.value)}}_n.jsonID("attr",va);class Ec extends _n{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let r in e.attrs)n[r]=e.attrs[r];n[this.attr]=this.value;let i=e.type.create(n,e.content,e.marks);return Vt.ok(i)}getMap(){return ai.empty}invert(e){return new Ec(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ec(n.attr,n.value)}}_n.jsonID("docAttr",Ec);let _a=class extends Error{};_a=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};_a.prototype=Object.create(Error.prototype);_a.prototype.constructor=_a;_a.prototype.name="TransformError";class $W{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new xc}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new _a(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,i=Se.empty){let r=Df(this.doc,e,n,i);return r&&this.step(r),this}replaceWith(e,n,i){return this.replace(e,n,new Se(me.from(i),0,0))}delete(e,n){return this.replace(e,n,Se.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,i){return DW(this,e,n,i),this}replaceRangeWith(e,n,i){return NW(this,e,n,i),this}deleteRange(e,n){return zW(this,e,n),this}lift(e,n){return SW(this,e,n),this}join(e,n=1){return OW(this,e,n),this}wrap(e,n){return CW(this,e,n),this}setBlockType(e,n=e,i,r=null){return TW(this,e,n,i,r),this}setNodeMarkup(e,n,i=null,r){return _W(this,e,n,i,r),this}setNodeAttribute(e,n,i){return this.step(new va(e,n,i)),this}setDocAttribute(e,n){return this.step(new Ec(e,n)),this}addNodeMark(e,n){return this.step(new Es(e,n)),this}removeNodeMark(e,n){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(n instanceof bt)n.isInSet(i.marks)&&this.step(new Eo(e,n));else{let r=i.marks,s,o=[];for(;s=n.isInSet(r);)o.push(new Eo(e,s)),r=s.removeFromSet(r);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,n=1,i){return AW(this,e,n,i),this}addMark(e,n,i){return bW(this,e,n,i),this}removeMark(e,n,i){return yW(this,e,n,i),this}clearIncompatible(e,n,i){return lv(this,e,n,i),this}}const Vp=Object.create(null);class Xe{constructor(e,n,i){this.$anchor=e,this.$head=n,this.ranges=i||[new BW(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Se.empty){let i=n.content.lastChild,r=null;for(let a=0;a<n.openEnd;a++)r=i,i=i.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:u}=o[a],d=e.mapping.slice(s);e.replaceRange(d.map(l.pos),d.map(u.pos),a?Se.empty:n),a==0&&Q0(e,s,(i?i.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,n){let i=e.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){let{$from:o,$to:a}=r[s],l=e.mapping.slice(i),u=l.map(o.pos),d=l.map(a.pos);s?e.deleteRange(u,d):(e.replaceRangeWith(u,d,n),Q0(e,i,n.isInline?-1:1))}}static findFrom(e,n,i=!1){let r=e.parent.inlineContent?new Fe(e):la(e.node(0),e.parent,e.pos,e.index(),n,i);if(r)return r;for(let s=e.depth-1;s>=0;s--){let o=n<0?la(e.node(0),e.node(s),e.before(s+1),e.index(s),n,i):la(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,i);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new fi(e.node(0))}static atStart(e){return la(e,e,0,0,1)||new fi(e)}static atEnd(e){return la(e,e,e.content.size,e.childCount,-1)||new fi(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=Vp[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in Vp)throw new RangeError("Duplicate use of selection JSON ID "+e);return Vp[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Fe.between(this.$anchor,this.$head).getBookmark()}}Xe.prototype.visible=!0;class BW{constructor(e,n){this.$from=e,this.$to=n}}let J0=!1;function Z0(t){!J0&&!t.parent.inlineContent&&(J0=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Fe extends Xe{constructor(e,n=e){Z0(e),Z0(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let i=e.resolve(n.map(this.head));if(!i.parent.inlineContent)return Xe.near(i);let r=e.resolve(n.map(this.anchor));return new Fe(r.parent.inlineContent?r:i,i)}replace(e,n=Se.empty){if(super.replace(e,n),n==Se.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof Fe&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Nf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Fe(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i=n){let r=e.resolve(n);return new this(r,i==n?r:e.resolve(i))}static between(e,n,i){let r=e.pos-n.pos;if((!i||r)&&(i=r>=0?1:-1),!n.parent.inlineContent){let s=Xe.findFrom(n,i,!0)||Xe.findFrom(n,-i,!0);if(s)n=s.$head;else return Xe.near(n,i)}return e.parent.inlineContent||(r==0?e=n:(e=(Xe.findFrom(e,-i,!0)||Xe.findFrom(e,i,!0)).$anchor,e.pos<n.pos!=r<0&&(e=n))),new Fe(e,n)}}Xe.jsonID("text",Fe);class Nf{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Nf(e.map(this.anchor),e.map(this.head))}resolve(e){return Fe.between(e.resolve(this.anchor),e.resolve(this.head))}}class De extends Xe{constructor(e){let n=e.nodeAfter,i=e.node(0).resolve(e.pos+n.nodeSize);super(e,i),this.node=n}map(e,n){let{deleted:i,pos:r}=n.mapResult(this.anchor),s=e.resolve(r);return i?Xe.near(s):new De(s)}content(){return new Se(me.from(this.node),0,0)}eq(e){return e instanceof De&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new uv(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new De(e.resolve(n.anchor))}static create(e,n){return new De(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}De.prototype.visible=!1;Xe.jsonID("node",De);class uv{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:i}=e.mapResult(this.anchor);return n?new Nf(i,i):new uv(i)}resolve(e){let n=e.resolve(this.anchor),i=n.nodeAfter;return i&&De.isSelectable(i)?new De(n):Xe.near(n)}}class fi extends Xe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Se.empty){if(n==Se.empty){e.delete(0,e.doc.content.size);let i=Xe.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new fi(e)}map(e){return new fi(e)}eq(e){return e instanceof fi}getBookmark(){return FW}}Xe.jsonID("all",fi);const FW={map(){return this},resolve(t){return new fi(t)}};function la(t,e,n,i,r,s=!1){if(e.inlineContent)return Fe.create(t,n);for(let o=i-(r>0?0:1);r>0?o<e.childCount:o>=0;o+=r){let a=e.child(o);if(a.isAtom){if(!s&&De.isSelectable(a))return De.create(t,n-(r<0?a.nodeSize:0))}else{let l=la(t,a,n+r,r<0?a.childCount:0,r,s);if(l)return l}n+=a.nodeSize*r}return null}function Q0(t,e,n){let i=t.steps.length-1;if(i<e)return;let r=t.steps[i];if(!(r instanceof Jt||r instanceof en))return;let s=t.mapping.maps[i],o;s.forEach((a,l,u,d)=>{o==null&&(o=d)}),t.setSelection(Xe.near(t.doc.resolve(o),n))}const eS=1,od=2,tS=4;class HW extends $W{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|eS)&~od,this.storedMarks=null,this}get selectionSet(){return(this.updated&eS)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=od,this}ensureMarks(e){return bt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&od)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~od,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let i=this.selection;return n&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||bt.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,i){let r=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(i==null&&(i=n),i=i??n,!e)return this.deleteRange(n,i);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=i==n?o.marks():o.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(n,i,r.text(e,s)),this.selection.empty||this.setSelection(Xe.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=tS,this}get scrolledIntoView(){return(this.updated&tS)>0}}function nS(t,e){return!e||!t?t:t.bind(e)}class jl{constructor(e,n,i){this.name=e,this.init=nS(n.init,i),this.apply=nS(n.apply,i)}}const WW=[new jl("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new jl("selection",{init(t,e){return t.selection||Xe.atStart(e.doc)},apply(t){return t.selection}}),new jl("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,i){return i.selection.$cursor?t.storedMarks:null}}),new jl("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class jp{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=WW.slice(),n&&n.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new jl(i.key,i.spec.state,i))})}}class da{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=n){let r=this.config.plugins[i];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],i=this.applyInner(e),r=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=r?r[o].n:0,u=r?r[o].state:this,d=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,u,i);if(d&&i.filterTransaction(d,o)){if(d.setMeta("appendedTransaction",e),!r){r=[];for(let h=0;h<this.config.plugins.length;h++)r.push(h<o?{state:i,n:n.length}:{state:this,n:0})}n.push(d),i=i.applyInner(d),s=!0}r&&(r[o]={state:i,n:n.length})}}if(!s)return{state:i,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new da(this.config),i=this.config.fields;for(let r=0;r<i.length;r++){let s=i[r];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new HW(this)}static create(e){let n=new jp(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new da(n);for(let r=0;r<n.fields.length;r++)i[n.fields[r].name]=n.fields[r].init(e,i);return i}reconfigure(e){let n=new jp(this.schema,e.plugins),i=n.fields,r=new da(n);for(let s=0;s<i.length;s++){let o=i[s].name;r[o]=this.hasOwnProperty(o)?this[o]:i[s].init(e,r)}return r}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[i],s=r.spec.state;s&&s.toJSON&&(n[i]=s.toJSON.call(r,this[r.key]))}return n}static fromJSON(e,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new jp(e.schema,e.plugins),s=new da(r);return r.fields.forEach(o=>{if(o.name=="doc")s.doc=_s.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=Xe.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let a in i){let l=i[a],u=l.spec.state;if(l.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=u.fromJSON.call(l,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function jC(t,e,n){for(let i in t){let r=t[i];r instanceof Function?r=r.bind(e):i=="handleDOMEvents"&&(r=jC(r,e,{})),n[i]=r}return n}class Nn{constructor(e){this.spec=e,this.props={},e.props&&jC(e.props,this,this.props),this.key=e.key?e.key.key:UC("plugin")}getState(e){return e[this.key]}}const Up=Object.create(null);function UC(t){return t in Up?t+"$"+ ++Up[t]:(Up[t]=0,t+"$")}class Xi{constructor(e="key"){this.key=UC(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const dn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Aa=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Gm=null;const Ir=function(t,e,n){let i=Gm||(Gm=document.createRange());return i.setEnd(t,n??t.nodeValue.length),i.setStart(t,e||0),i},VW=function(){Gm=null},Co=function(t,e,n,i){return n&&(iS(t,e,n,i,-1)||iS(t,e,n,i,1))},jW=/^(img|br|input|textarea|hr)$/i;function iS(t,e,n,i,r){for(var s;;){if(t==n&&e==i)return!0;if(e==(r<0?0:Ci(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Uc(t)||jW.test(t.nodeName)||t.contentEditable=="false")return!1;e=dn(t)+(r<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(r<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=r;else return!1;else t=o,e=r<0?Ci(t):0}else return!1}}function Ci(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function UW(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ci(t)}else if(t.parentNode&&!Uc(t))e=dn(t),t=t.parentNode;else return null}}function YW(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Uc(t))e=dn(t)+1,t=t.parentNode;else return null}}function XW(t,e,n){for(let i=e==0,r=e==Ci(t);i||r;){if(t==n)return!0;let s=dn(t);if(t=t.parentNode,!t)return!1;i=i&&s==0,r=r&&s==Ci(t)}}function Uc(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const zf=function(t){return t.focusNode&&Co(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function to(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function qW(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function GW(t,e,n){if(t.caretPositionFromPoint)try{let i=t.caretPositionFromPoint(e,n);if(i)return{node:i.offsetNode,offset:Math.min(Ci(i.offsetNode),i.offset)}}catch{}if(t.caretRangeFromPoint){let i=t.caretRangeFromPoint(e,n);if(i)return{node:i.startContainer,offset:Math.min(Ci(i.startContainer),i.startOffset)}}}const hr=typeof navigator<"u"?navigator:null,rS=typeof document<"u"?document:null,Bs=hr&&hr.userAgent||"",Km=/Edge\/(\d+)/.exec(Bs),YC=/MSIE \d/.exec(Bs),Jm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Bs),Xn=!!(YC||Jm||Km),ks=YC?document.documentMode:Jm?+Jm[1]:Km?+Km[1]:0,Ui=!Xn&&/gecko\/(\d+)/i.test(Bs);Ui&&+(/Firefox\/(\d+)/.exec(Bs)||[0,0])[1];const Zm=!Xn&&/Chrome\/(\d+)/.exec(Bs),Mn=!!Zm,XC=Zm?+Zm[1]:0,In=!Xn&&!!hr&&/Apple Computer/.test(hr.vendor),ka=In&&(/Mobile\/\w+/.test(Bs)||!!hr&&hr.maxTouchPoints>2),Ei=ka||(hr?/Mac/.test(hr.platform):!1),KW=hr?/Win/.test(hr.platform):!1,Br=/Android \d/.test(Bs),Yc=!!rS&&"webkitFontSmoothing"in rS.documentElement.style,JW=Yc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function ZW(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Rr(t,e){return typeof t=="number"?t:t[e]}function QW(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,i=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*i}}function sS(t,e,n){let i=t.someProp("scrollThreshold")||0,r=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;){if(o.nodeType!=1){o=Aa(o);continue}let a=o,l=a==s.body,u=l?ZW(s):QW(a),d=0,h=0;if(e.top<u.top+Rr(i,"top")?h=-(u.top-e.top+Rr(r,"top")):e.bottom>u.bottom-Rr(i,"bottom")&&(h=e.bottom-e.top>u.bottom-u.top?e.top+Rr(r,"top")-u.top:e.bottom-u.bottom+Rr(r,"bottom")),e.left<u.left+Rr(i,"left")?d=-(u.left-e.left+Rr(r,"left")):e.right>u.right-Rr(i,"right")&&(d=e.right-u.right+Rr(r,"right")),d||h)if(l)s.defaultView.scrollBy(d,h);else{let g=a.scrollLeft,m=a.scrollTop;h&&(a.scrollTop+=h),d&&(a.scrollLeft+=d);let b=a.scrollLeft-g,y=a.scrollTop-m;e={left:e.left-b,top:e.top-y,right:e.right-b,bottom:e.bottom-y}}let p=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(p))break;o=p=="absolute"?o.offsetParent:Aa(o)}}function eV(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),i,r;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){i=a,r=l.top;break}}return{refDOM:i,refTop:r,stack:qC(t.dom)}}function qC(t){let e=[],n=t.ownerDocument;for(let i=t;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),t!=n);i=Aa(i));return e}function tV({refDOM:t,refTop:e,stack:n}){let i=t?t.getBoundingClientRect().top:0;GC(n,i==0?0:i-e)}function GC(t,e){for(let n=0;n<t.length;n++){let{dom:i,top:r,left:s}=t[n];i.scrollTop!=r+e&&(i.scrollTop=r+e),i.scrollLeft!=s&&(i.scrollLeft=s)}}let na=null;function nV(t){if(t.setActive)return t.setActive();if(na)return t.focus(na);let e=qC(t);t.focus(na==null?{get preventScroll(){return na={preventScroll:!0},!0}}:void 0),na||(na=!1,GC(e,0))}function KC(t,e){let n,i=2e8,r,s=0,o=e.top,a=e.top,l,u;for(let d=t.firstChild,h=0;d;d=d.nextSibling,h++){let p;if(d.nodeType==1)p=d.getClientRects();else if(d.nodeType==3)p=Ir(d).getClientRects();else continue;for(let g=0;g<p.length;g++){let m=p[g];if(m.top<=o&&m.bottom>=a){o=Math.max(m.bottom,o),a=Math.min(m.top,a);let b=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(b<i){n=d,i=b,r=b&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,d.nodeType==1&&b&&(s=h+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=d,u={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(s=h+1)}}return!n&&l&&(n=l,r=u,i=0),n&&n.nodeType==3?iV(n,r):!n||i&&n.nodeType==1?{node:t,offset:s}:KC(n,r)}function iV(t,e){let n=t.nodeValue.length,i=document.createRange();for(let r=0;r<n;r++){i.setEnd(t,r+1),i.setStart(t,r);let s=fs(i,1);if(s.top!=s.bottom&&dv(e,s))return{node:t,offset:r+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function dv(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function rV(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function sV(t,e,n){let{node:i,offset:r}=KC(e,n),s=-1;if(i.nodeType==1&&!i.firstChild){let o=i.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(i,r,s)}function oV(t,e,n,i){let r=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!o&&l.left>i.left||l.top>i.top?r=a.posBefore:(!o&&l.right<i.left||l.bottom<i.top)&&(r=a.posAfter),o=!0),!a.contentDOM&&r<0&&!a.node.isText))return(a.node.isBlock?i.top<(l.top+l.bottom)/2:i.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return r>-1?r:t.docView.posFromDOM(e,n,-1)}function JC(t,e,n){let i=t.childNodes.length;if(i&&n.top<n.bottom)for(let r=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-n.top)/(n.bottom-n.top))-2)),s=r;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(dv(e,u))return JC(o,e,u)}}if((s=(s+1)%i)==r)break}return t}function aV(t,e){let n=t.dom.ownerDocument,i,r=0,s=GW(n,e.left,e.top);s&&({node:i,offset:r}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!dv(e,u)||(o=JC(t.dom,e,u),!o))return null}if(In)for(let u=o;i&&u;u=Aa(u))u.draggable&&(i=void 0);if(o=rV(o,e),i){if(Ui&&i.nodeType==1&&(r=Math.min(r,i.childNodes.length),r<i.childNodes.length)){let d=i.childNodes[r],h;d.nodeName=="IMG"&&(h=d.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&r++}let u;Yc&&r&&i.nodeType==1&&(u=i.childNodes[r-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&r--,i==t.dom&&r==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(r==0||i.nodeType!=1||i.childNodes[r-1].nodeName!="BR")&&(a=oV(t,i,r,e))}a==null&&(a=sV(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function oS(t){return t.top<t.bottom||t.left<t.right}function fs(t,e){let n=t.getClientRects();if(n.length){let i=n[e<0?0:n.length-1];if(oS(i))return i}return Array.prototype.find.call(n,oS)||t.getBoundingClientRect()}const lV=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function ZC(t,e,n){let{node:i,offset:r,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=Yc||Ui;if(i.nodeType==3)if(o&&(lV.test(i.nodeValue)||(n<0?!r:r==i.nodeValue.length))){let l=fs(Ir(i,r,r),n);if(Ui&&r&&/\s/.test(i.nodeValue[r-1])&&r<i.nodeValue.length){let u=fs(Ir(i,r-1,r-1),-1);if(u.top==l.top){let d=fs(Ir(i,r,r+1),-1);if(d.top!=l.top)return $l(d,d.left<u.left)}}return l}else{let l=r,u=r,d=n<0?1:-1;return n<0&&!r?(u++,d=-1):n>=0&&r==i.nodeValue.length?(l--,d=1):n<0?l--:u++,$l(fs(Ir(i,l,u),d),d<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&r&&(n<0||r==Ci(i))){let l=i.childNodes[r-1];if(l.nodeType==1)return Yp(l.getBoundingClientRect(),!1)}if(s==null&&r<Ci(i)){let l=i.childNodes[r];if(l.nodeType==1)return Yp(l.getBoundingClientRect(),!0)}return Yp(i.getBoundingClientRect(),n>=0)}if(s==null&&r&&(n<0||r==Ci(i))){let l=i.childNodes[r-1],u=l.nodeType==3?Ir(l,Ci(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return $l(fs(u,1),!1)}if(s==null&&r<Ci(i)){let l=i.childNodes[r];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Ir(l,0,o?0:1):l.nodeType==1?l:null:null;if(u)return $l(fs(u,-1),!0)}return $l(fs(i.nodeType==3?Ir(i):i,-n),n>=0)}function $l(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Yp(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function QC(t,e,n){let i=t.state,r=t.root.activeElement;i!=e&&t.updateState(e),r!=t.dom&&t.focus();try{return n()}finally{i!=e&&t.updateState(i),r!=t.dom&&r&&r.focus()}}function cV(t,e,n){let i=e.selection,r=n=="up"?i.$from:i.$to;return QC(t,e,()=>{let{node:s}=t.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=ZC(t,r.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Ir(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let d=l[u];if(d.bottom>d.top+1&&(n=="up"?o.top-d.top>(d.bottom-o.top)*2:d.bottom-o.bottom>(o.bottom-d.top)*2))return!1}}return!0})}const uV=/[\u0590-\u08ac]/;function dV(t,e,n){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let r=i.parentOffset,s=!r,o=r==i.parent.content.size,a=t.domSelection();return a?!uV.test(i.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:QC(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:d,anchorOffset:h}=t.domSelectionRange(),p=a.caretBidiLevel;a.modify("move",n,"character");let g=i.depth?t.docView.domAfterPos(i.before()):t.dom,{focusNode:m,focusOffset:b}=t.domSelectionRange(),y=m&&!g.contains(m.nodeType==1?m:m.parentNode)||l==m&&u==b;try{a.collapse(d,h),l&&(l!=d||u!=h)&&a.extend&&a.extend(l,u)}catch{}return p!=null&&(a.caretBidiLevel=p),y}):i.pos==i.start()||i.pos==i.end()}let aS=null,lS=null,cS=!1;function fV(t,e,n){return aS==e&&lS==n?cS:(aS=e,lS=n,cS=n=="up"||n=="down"?cV(t,e,n):dV(t,e,n))}const Ri=0,uS=1,io=2,pr=3;class Xc{constructor(e,n,i,r){this.parent=e,this.children=n,this.dom=i,this.contentDOM=r,this.dirty=Ri,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,i=this.posAtStart;;n++){let r=this.children[n];if(r==e)return i;i+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=n>dn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!1;break}if(s.previousSibling)break}if(r==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!0;break}if(s.nextSibling)break}}return r??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let i=!0,r=e;r;r=r.parentNode){let s=this.getDesc(r),o;if(s&&(!n||s.node))if(i&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))i=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let i=n;i;i=i.parent)if(i==this)return n}posFromDOM(e,n,i){for(let r=e;r;r=r.parentNode){let s=this.getDesc(r);if(s)return s.localPosFromDOM(e,n,i)}return-1}descAt(e){for(let n=0,i=0;n<this.children.length;n++){let r=this.children[n],s=i+r.size;if(i==e&&s!=i){for(;!r.border&&r.children.length;)for(let o=0;o<r.children.length;o++){let a=r.children[o];if(a.size){r=a;break}}return r}if(e<s)return r.descAt(e-i-r.border);i=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,r=0;for(let s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.size;if(a>e||o instanceof tT){r=e-s;break}s=a}if(r)return this.children[i].domFromPos(r-this.children[i].border,n);for(let s;i&&!(s=this.children[i-1]).size&&s instanceof eT&&s.side>=0;i--);if(n<=0){let s,o=!0;for(;s=i?this.children[i-1]:null,!(!s||s.dom.parentNode==this.contentDOM);i--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?dn(s.dom)+1:0}}else{let s,o=!0;for(;s=i<this.children.length?this.children[i]:null,!(!s||s.dom.parentNode==this.contentDOM);i++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?dn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,s=-1;for(let o=i,a=0;;a++){let l=this.children[a],u=o+l.size;if(r==-1&&e<=u){let d=o+l.border;if(e>=d&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,d);e=o;for(let h=a;h>0;h--){let p=this.children[h-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){r=dn(p.dom)+1;break}e-=p.size}r==-1&&(r=0)}if(r>-1&&(u>n||a==this.children.length-1)){n=u;for(let d=a+1;d<this.children.length;d++){let h=this.children[d];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){s=dn(h.dom);break}n+=h.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:n,fromOffset:r,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:i}=this.domFromPos(e,0);if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]}setSelection(e,n,i,r=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let g=0,m=0;g<this.children.length;g++){let b=this.children[g],y=m+b.size;if(s>m&&o<y)return b.setSelection(e-m-b.border,n-m-b.border,i,r);m=y}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),u=i.root.getSelection(),d=i.domSelectionRange(),h=!1;if((Ui||In)&&e==n){let{node:g,offset:m}=a;if(g.nodeType==3){if(h=!!(m&&g.nodeValue[m-1]==`
`),h&&m==g.nodeValue.length)for(let b=g,y;b;b=b.parentNode){if(y=b.nextSibling){y.nodeName=="BR"&&(a=l={node:y.parentNode,offset:dn(y)+1});break}let S=b.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let b=g.childNodes[m-1];h=b&&(b.nodeName=="BR"||b.contentEditable=="false")}}if(Ui&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let g=d.focusNode.childNodes[d.focusOffset];g&&g.contentEditable=="false"&&(r=!0)}if(!(r||h&&In)&&Co(a.node,a.offset,d.anchorNode,d.anchorOffset)&&Co(l.node,l.offset,d.focusNode,d.focusOffset))return;let p=!1;if((u.extend||e==n)&&!h){u.collapse(a.node,a.offset);try{e!=n&&u.extend(l.node,l.offset),p=!0}catch{}}if(!p){if(e>n){let m=a;a=l,l=m}let g=document.createRange();g.setEnd(l.node,l.offset),g.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(g)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let i=0,r=0;r<this.children.length;r++){let s=this.children[r],o=i+s.size;if(i==o?e<=o&&n>=i:e<o&&n>i){let a=i+s.border,l=o-s.border;if(e>=a&&n<=l){this.dirty=e==i||n==o?io:uS,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=pr:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?io:pr}i=o}this.dirty=io}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let i=e==1?io:uS;n.dirty<i&&(n.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class eT extends Xc{constructor(e,n,i,r){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(i,()=>{if(!s)return r;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Ri&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class hV extends Xc{constructor(e,n,i,r){super(e,[],n,null),this.textDOM=i,this.text=r}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class To extends Xc{constructor(e,n,i,r,s){super(e,[],i,r),this.mark=n,this.spec=s}static create(e,n,i,r){let s=r.nodeViews[n.type.name],o=s&&s(n,r,i);return(!o||!o.dom)&&(o=ko.renderSpec(document,n.type.spec.toDOM(n,i),null,n.attrs)),new To(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&pr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=pr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Ri){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=Ri}}slice(e,n,i){let r=To.create(this.parent,this.mark,!0,i),s=this.children,o=this.size;n<o&&(s=eg(s,n,o,i)),e>0&&(s=eg(s,0,e,i));for(let a=0;a<s.length;a++)s[a].parent=r;return r.children=s,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Os extends Xc{constructor(e,n,i,r,s,o,a,l,u){super(e,[],s,o),this.node=n,this.outerDeco=i,this.innerDeco=r,this.nodeDOM=a}static create(e,n,i,r,s,o){let a=s.nodeViews[n.type.name],l,u=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},i,r),d=u&&u.dom,h=u&&u.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:h}=ko.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!h&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let p=d;return d=rT(d,i,n),u?l=new pV(e,n,i,r,d,h||null,p,u,s,o+1):n.isText?new $f(e,n,i,r,d,p,s):new Os(e,n,i,r,d,h||null,p,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let i=this.children[n];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>me.empty)}return e}matchesNode(e,n,i){return this.dirty==Ri&&e.eq(this.node)&&Gd(n,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let i=this.node.inlineContent,r=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new gV(this,o&&o.node,e);yV(this.node,this.innerDeco,(u,d,h)=>{u.spec.marks?l.syncToMarks(u.spec.marks,i,e):u.type.side>=0&&!h&&l.syncToMarks(d==this.node.childCount?bt.none:this.node.child(d).marks,i,e),l.placeWidget(u,e,r)},(u,d,h,p)=>{l.syncToMarks(u.marks,i,e);let g;l.findNodeMatch(u,d,h,p)||a&&e.state.selection.from>r&&e.state.selection.to<r+u.nodeSize&&(g=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(u,d,h,g,e)||l.updateNextNode(u,d,h,e,p,r)||l.addNode(u,d,h,e,r),r+=u.nodeSize}),l.syncToMarks([],i,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==io)&&(o&&this.protectLocalComposition(e,o),nT(this.contentDOM,this.children,e),ka&&wV(this.dom))}localCompositionInfo(e,n){let{from:i,to:r}=e.state.selection;if(!(e.state.selection instanceof Fe)||i<n||r>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=SV(this.node.content,o,i-n,r-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:i,text:r}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new hV(this,s,n,r);e.input.compositionNodes.push(o),this.children=eg(this.children,i,i+r.length,e,o)}update(e,n,i,r){return this.dirty==pr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,i,r),!0)}updateInner(e,n,i,r){this.updateOuterDeco(n),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Ri}updateOuterDeco(e){if(Gd(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=iT(this.dom,this.nodeDOM,Qm(this.outerDeco,this.node,n),Qm(e,this.node,n)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function dS(t,e,n,i,r){rT(i,e,t);let s=new Os(void 0,t,e,n,i,i,i,r,0);return s.contentDOM&&s.updateChildren(r,0),s}class $f extends Os{constructor(e,n,i,r,s,o,a){super(e,n,i,r,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,i,r){return this.dirty==pr||this.dirty!=Ri&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ri||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=Ri,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,i){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,i){let r=this.node.cut(e,n),s=document.createTextNode(r.text);return new $f(this.parent,r,this.outerDeco,this.innerDeco,s,s,i)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=pr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class tT extends Xc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ri&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class pV extends Os{constructor(e,n,i,r,s,o,a,l,u,d){super(e,n,i,r,s,o,a,u,d),this.spec=l}update(e,n,i,r){if(this.dirty==pr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,i);return s&&this.updateInner(e,n,i,r),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,i,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,i,r){this.spec.setSelection?this.spec.setSelection(e,n,i.root):super.setSelection(e,n,i,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function nT(t,e,n){let i=t.firstChild,r=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=i;)i=fS(i),r=!0;i=i.nextSibling}else r=!0,t.insertBefore(a,i);if(o instanceof To){let l=i?i.previousSibling:t.lastChild;nT(o.contentDOM,o.children,n),i=l?l.nextSibling:t.firstChild}}for(;i;)i=fS(i),r=!0;r&&n.trackWrites==t&&(n.trackWrites=null)}const rc=function(t){t&&(this.nodeName=t)};rc.prototype=Object.create(null);const ro=[new rc];function Qm(t,e,n){if(t.length==0)return ro;let i=n?ro[0]:new rc,r=[i];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&r.push(i=new rc(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&r.length==1&&r.push(i=new rc(e.isInline?"span":"div")),a=="class"?i.class=(i.class?i.class+" ":"")+l:a=="style"?i.style=(i.style?i.style+";":"")+l:a!="nodeName"&&(i[a]=l))}}}return r}function iT(t,e,n,i){if(n==ro&&i==ro)return e;let r=e;for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&r!=t&&(l=r.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(r),a=ro[0]),r=l}mV(r,a||ro[0],o)}return r}function mV(t,e,n){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in n)&&t.removeAttribute(i);for(let i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){let i=e.class?e.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.remove(i[s]);for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.add(r[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=i.exec(e.style);)t.style.removeProperty(r[1])}n.style&&(t.style.cssText+=n.style)}}function rT(t,e,n){return iT(t,t,ro,Qm(e,n,t.nodeType!=1))}function Gd(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function fS(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class gV{constructor(e,n,i){this.lock=n,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=vV(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let i=e;i<n;i++)this.top.children[i].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,i){let r=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;r<o&&(r==s-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<s;)this.destroyRest(),this.top.dirty=Ri,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=To.create(this.top,e[s],n,i);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,i,r){let s=-1,o;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,i))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(e,n,i)&&!this.preMatch.matched.has(u)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,i,r,s){let o=this.top.children[r];return o.dirty==pr&&o.dom==o.contentDOM&&(o.dirty=io),o.update(e,n,i,s)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==i)return r}return-1}e=n}}updateNextNode(e,n,i,r,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Os){let u=this.preMatch.matched.get(l);if(u!=null&&u!=s)return!1;let d=l.dom,h,p=this.isLocked(d)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=pr&&Gd(n,l.outerDeco));if(!p&&l.update(e,n,i,r))return this.destroyBetween(this.index,a),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!p&&(h=this.recreateWrapper(l,e,n,i,r,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=io,h.updateChildren(r,o+1),h.dirty=Ri),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,i,r,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Gd(i,e.outerDeco)||!r.eq(e.innerDeco))return null;let a=Os.create(this.top,n,i,r,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,i,r,s){let o=Os.create(this.top,e,n,i,r,s);o.contentDOM&&o.updateChildren(r,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,i){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let s=new eT(this.top,e,n,i);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof To;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof $f)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((In||Mn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let r=new tT(this.top,[],i,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function vV(t,e){let n=e,i=n.children.length,r=t.childCount,s=new Map,o=[];e:for(;r>0;){let a;for(;;)if(i){let u=n.children[i-1];if(u instanceof To)n=u,i=u.children.length;else{a=u,i--;break}}else{if(n==e)break e;i=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(r-1))break;--r,s.set(a,r),o.push(a)}}return{index:r,matched:s,matches:o.reverse()}}function bV(t,e){return t.type.side-e.type.side}function yV(t,e,n,i){let r=e.locals(t),s=0;if(r.length==0){for(let u=0;u<t.childCount;u++){let d=t.child(u);i(d,r,e.forChild(s,d),u),s+=d.nodeSize}return}let o=0,a=[],l=null;for(let u=0;;){let d,h;for(;o<r.length&&r[o].to==s;){let y=r[o++];y.widget&&(d?(h||(h=[d])).push(y):d=y)}if(d)if(h){h.sort(bV);for(let y=0;y<h.length;y++)n(h[y],u,!!l)}else n(d,u,!!l);let p,g;if(l)g=-1,p=l,l=null;else if(u<t.childCount)g=u,p=t.child(u++);else break;for(let y=0;y<a.length;y++)a[y].to<=s&&a.splice(y--,1);for(;o<r.length&&r[o].from<=s&&r[o].to>s;)a.push(r[o++]);let m=s+p.nodeSize;if(p.isText){let y=m;o<r.length&&r[o].from<y&&(y=r[o].from);for(let S=0;S<a.length;S++)a[S].to<y&&(y=a[S].to);y<m&&(l=p.cut(y-s),p=p.cut(0,y-s),m=y,g=-1)}else for(;o<r.length&&r[o].to<m;)o++;let b=p.isInline&&!p.isLeaf?a.filter(y=>!y.inline):a.slice();i(p,b,e.forChild(s,p),g),s=m}}function wV(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function SV(t,e,n,i){for(let r=0,s=0;r<t.childCount&&s<=i;){let o=t.child(r++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;r<t.childCount;){let u=t.child(r++);if(s+=u.nodeSize,!u.isText)break;l+=u.text}if(s>=n){if(s>=i&&l.slice(i-e.length-a,i-a)==e)return i-e.length;let u=a<i?l.lastIndexOf(e,i-a-1):-1;if(u>=0&&u+e.length+a>=n)return a+u;if(n==i&&l.length>=i+e.length-a&&l.slice(i-a,i-a+e.length)==e)return i}}return-1}function eg(t,e,n,i,r){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],u=a,d=a+=l.size;u>=n||d<=e?s.push(l):(u<e&&s.push(l.slice(0,e-u,i)),r&&(s.push(r),r=void 0),d>n&&s.push(l.slice(n-u,l.size,i)))}return s}function fv(t,e=null){let n=t.domSelectionRange(),i=t.state.doc;if(!n.focusNode)return null;let r=t.docView.nearestDesc(n.focusNode),s=r&&r.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=i.resolve(o),l,u;if(zf(n)){for(l=o;r&&!r.node;)r=r.parent;let h=r.node;if(r&&h.isAtom&&De.isSelectable(h)&&r.parent&&!(h.isInline&&XW(n.focusNode,n.focusOffset,r.dom))){let p=r.posBefore;u=new De(o==p?a:i.resolve(p))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let h=o,p=o;for(let g=0;g<n.rangeCount;g++){let m=n.getRangeAt(g);h=Math.min(h,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(h<0)return null;[l,o]=p==t.state.selection.anchor?[p,h]:[h,p],a=i.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let d=i.resolve(l);if(!u){let h=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;u=hv(t,d,a,h)}return u}function sT(t){return t.editable?t.hasFocus():aT(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Hr(t,e=!1){let n=t.state.selection;if(oT(t,n),!!sT(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Mn){let i=t.domSelectionRange(),r=t.domObserver.currentSelection;if(i.anchorNode&&r.anchorNode&&Co(i.anchorNode,i.anchorOffset,r.anchorNode,r.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)EV(t);else{let{anchor:i,head:r}=n,s,o;hS&&!(n instanceof Fe)&&(n.$from.parent.inlineContent||(s=pS(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=pS(t,n.to))),t.docView.setSelection(i,r,t,e),hS&&(s&&mS(s),o&&mS(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&xV(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const hS=In||Mn&&XC<63;function pS(t,e){let{node:n,offset:i}=t.docView.domFromPos(e,0),r=i<n.childNodes.length?n.childNodes[i]:null,s=i?n.childNodes[i-1]:null;if(In&&r&&r.contentEditable=="false")return Xp(r);if((!r||r.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(r)return Xp(r);if(s)return Xp(s)}}function Xp(t){return t.contentEditable="true",In&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function mS(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function xV(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),i=n.anchorNode,r=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=r)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!sT(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function EV(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let i=t.cursorWrapper.dom,r=i.nodeName=="IMG";r?n.setStart(i.parentNode,dn(i)+1):n.setStart(i,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!r&&!t.state.selection.visible&&Xn&&ks<=11&&(i.disabled=!0,i.disabled=!1)}function oT(t,e){if(e instanceof De){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(gS(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else gS(t)}function gS(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function hv(t,e,n,i){return t.someProp("createSelectionBetween",r=>r(t,e,n))||Fe.between(e,n,i)}function vS(t){return t.editable&&!t.hasFocus()?!1:aT(t)}function aT(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function CV(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Co(e.node,e.offset,n.anchorNode,n.anchorOffset)}function tg(t,e){let{$anchor:n,$head:i}=t.selection,r=e>0?n.max(i):n.min(i),s=r.parent.inlineContent?r.depth?t.doc.resolve(e>0?r.after():r.before()):null:r;return s&&Xe.findFrom(s,e)}function vs(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function bS(t,e,n){let i=t.state.selection;if(i instanceof Fe)if(n.indexOf("s")>-1){let{$head:r}=i,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(r.pos+s.nodeSize*(e<0?-1:1));return vs(t,new Fe(i.$anchor,o))}else if(i.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let r=tg(t.state,e);return r&&r instanceof De?vs(t,r):!1}else if(!(Ei&&n.indexOf("m")>-1)){let r=i.$head,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?r.pos-s.nodeSize:r.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?De.isSelectable(s)?vs(t,new De(e<0?t.state.doc.resolve(r.pos-s.nodeSize):r)):Yc?vs(t,new Fe(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(i instanceof De&&i.node.isInline)return vs(t,new Fe(e>0?i.$to:i.$from));{let r=tg(t.state,e);return r?vs(t,r):!1}}}function Kd(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function sc(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ia(t,e){return e<0?TV(t):MV(t)}function TV(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let r,s,o=!1;for(Ui&&n.nodeType==1&&i<Kd(n)&&sc(n.childNodes[i],-1)&&(o=!0);;)if(i>0){if(n.nodeType!=1)break;{let a=n.childNodes[i-1];if(sc(a,-1))r=n,s=--i;else if(a.nodeType==3)n=a,i=n.nodeValue.length;else break}}else{if(lT(n))break;{let a=n.previousSibling;for(;a&&sc(a,-1);)r=n.parentNode,s=dn(a),a=a.previousSibling;if(a)n=a,i=Kd(n);else{if(n=n.parentNode,n==t.dom)break;i=0}}}o?ng(t,n,i):r&&ng(t,r,s)}function MV(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let r=Kd(n),s,o;for(;;)if(i<r){if(n.nodeType!=1)break;let a=n.childNodes[i];if(sc(a,1))s=n,o=++i;else break}else{if(lT(n))break;{let a=n.nextSibling;for(;a&&sc(a,1);)s=a.parentNode,o=dn(a)+1,a=a.nextSibling;if(a)n=a,i=0,r=Kd(n);else{if(n=n.parentNode,n==t.dom)break;i=r=0}}}s&&ng(t,s,o)}function lT(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function _V(t,e){for(;t&&e==t.childNodes.length&&!Uc(t);)e=dn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function AV(t,e){for(;t&&!e&&!Uc(t);)e=dn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function ng(t,e,n){if(e.nodeType!=3){let s,o;(o=_V(e,n))?(e=o,n=0):(s=AV(e,n))&&(e=s,n=s.nodeValue.length)}let i=t.domSelection();if(!i)return;if(zf(i)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),i.removeAllRanges(),i.addRange(s)}else i.extend&&i.extend(e,n);t.domObserver.setCurSelection();let{state:r}=t;setTimeout(()=>{t.state==r&&Hr(t)},50)}function yS(t,e){let n=t.state.doc.resolve(e);if(!(Mn||KW)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(s.left-r.left)>1)return s.left<r.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(s.left-r.left)>1)return s.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function wS(t,e,n){let i=t.state.selection;if(i instanceof Fe&&!i.empty||n.indexOf("s")>-1||Ei&&n.indexOf("m")>-1)return!1;let{$from:r,$to:s}=i;if(!r.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=tg(t.state,e);if(o&&o instanceof De)return vs(t,o)}if(!r.parent.inlineContent){let o=e<0?r:s,a=i instanceof fi?Xe.near(o,e):Xe.findFrom(o,e);return a?vs(t,a):!1}return!1}function SS(t,e){if(!(t.state.selection instanceof Fe))return!0;let{$head:n,$anchor:i,empty:r}=t.state.selection;if(!n.sameParent(i))return!0;if(!r)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function xS(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function kV(t){if(!In||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;xS(t,i,"true"),setTimeout(()=>xS(t,i,"false"),20)}return!1}function OV(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function RV(t,e){let n=e.keyCode,i=OV(e);if(n==8||Ei&&n==72&&i=="c")return SS(t,-1)||ia(t,-1);if(n==46&&!e.shiftKey||Ei&&n==68&&i=="c")return SS(t,1)||ia(t,1);if(n==13||n==27)return!0;if(n==37||Ei&&n==66&&i=="c"){let r=n==37?yS(t,t.state.selection.from)=="ltr"?-1:1:-1;return bS(t,r,i)||ia(t,r)}else if(n==39||Ei&&n==70&&i=="c"){let r=n==39?yS(t,t.state.selection.from)=="ltr"?1:-1:1;return bS(t,r,i)||ia(t,r)}else{if(n==38||Ei&&n==80&&i=="c")return wS(t,-1,i)||ia(t,-1);if(n==40||Ei&&n==78&&i=="c")return kV(t)||wS(t,1,i)||ia(t,1);if(i==(Ei?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function pv(t,e){t.someProp("transformCopied",g=>{e=g(e,t)});let n=[],{content:i,openStart:r,openEnd:s}=e;for(;r>1&&s>1&&i.childCount==1&&i.firstChild.childCount==1;){r--,s--;let g=i.firstChild;n.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),i=g.content}let o=t.someProp("clipboardSerializer")||ko.fromSchema(t.state.schema),a=pT(),l=a.createElement("div");l.appendChild(o.serializeFragment(i,{document:a}));let u=l.firstChild,d,h=0;for(;u&&u.nodeType==1&&(d=hT[u.nodeName.toLowerCase()]);){for(let g=d.length-1;g>=0;g--){let m=a.createElement(d[g]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),h++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${r} ${s}${h?` -${h}`:""} ${JSON.stringify(n)}`);let p=t.someProp("clipboardTextSerializer",g=>g(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:p,slice:e}}function cT(t,e,n,i,r){let s=r.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(i||s||!n);if(l){if(t.someProp("transformPastedText",p=>{e=p(e,s||i,t)}),s)return e?new Se(me.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Se.empty;let h=t.someProp("clipboardTextParser",p=>p(e,r,i,t));if(h)a=h;else{let p=r.marks(),{schema:g}=t.state,m=ko.fromSchema(g);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(b=>{let y=o.appendChild(document.createElement("p"));b&&y.appendChild(m.serializeNode(g.text(b,p)))})}}else t.someProp("transformPastedHTML",h=>{n=h(n,t)}),o=DV(n),Yc&&NV(o);let u=o&&o.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let h=+d[3];h>0;h--){let p=o.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;o=p}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||As.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||d),context:r,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!PV.test(p.parentNode.nodeName)?{ignore:!0}:null}})),d)a=zV(ES(a,+d[1],+d[2]),d[4]);else if(a=Se.maxOpen(IV(a.content,r),!0),a.openStart||a.openEnd){let h=0,p=0;for(let g=a.content.firstChild;h<a.openStart&&!g.type.spec.isolating;h++,g=g.firstChild);for(let g=a.content.lastChild;p<a.openEnd&&!g.type.spec.isolating;p++,g=g.lastChild);a=ES(a,h,p)}return t.someProp("transformPasted",h=>{a=h(a,t)}),a}const PV=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function IV(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=r.findWrapping(a.type),u;if(!l)return o=null;if(u=o.length&&s.length&&dT(l,s,a,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=fT(o[o.length-1],s.length));let d=uT(a,l);o.push(d),r=r.matchType(d.type),s=l}}),o)return me.from(o)}return t}function uT(t,e,n=0){for(let i=e.length-1;i>=n;i--)t=e[i].create(null,me.from(t));return t}function dT(t,e,n,i,r){if(r<t.length&&r<e.length&&t[r]==e[r]){let s=dT(t,e,n,i.lastChild,r+1);if(s)return i.copy(i.content.replaceChild(i.childCount-1,s));if(i.contentMatchAt(i.childCount).matchType(r==t.length-1?n.type:t[r+1]))return i.copy(i.content.append(me.from(uT(n,t,r+1))))}}function fT(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,fT(t.lastChild,e-1)),i=t.contentMatchAt(t.childCount).fillBefore(me.empty,!0);return t.copy(n.append(i))}function ig(t,e,n,i,r,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),r<i-1&&(a=ig(a,e,n,i,r+1,s)),r>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=r).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(me.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function ES(t,e,n){return e<t.openStart&&(t=new Se(ig(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Se(ig(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const hT={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let CS=null;function pT(){return CS||(CS=document.implementation.createHTMLDocument("title"))}let qp=null;function LV(t){let e=window.trustedTypes;return e?(qp||(qp=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),qp.createHTML(t)):t}function DV(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=pT().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t),r;if((r=i&&hT[i[1].toLowerCase()])&&(t=r.map(s=>"<"+s+">").join("")+t+r.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=LV(t),r)for(let s=0;s<r.length;s++)n=n.querySelector(r[s])||n;return n}function NV(t){let e=t.querySelectorAll(Mn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let i=e[n];i.childNodes.length==1&&i.textContent==""&&i.parentNode&&i.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),i)}}function zV(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return t}let{content:r,openStart:s,openEnd:o}=t;for(let a=i.length-2;a>=0;a-=2){let l=n.nodes[i[a]];if(!l||l.hasRequiredAttrs())break;r=me.from(l.create(i[a+1],r)),s++,o++}return new Se(r,s,o)}const Ln={},Dn={},$V={touchstart:!0,touchmove:!0};class BV{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function FV(t){for(let e in Ln){let n=Ln[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=i=>{WV(t,i)&&!mv(t,i)&&(t.editable||!(i.type in Dn))&&n(t,i)},$V[e]?{passive:!0}:void 0)}In&&t.dom.addEventListener("input",()=>null),rg(t)}function Cs(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function HV(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function rg(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=i=>mv(t,i))})}function mv(t,e){return t.someProp("handleDOMEvents",n=>{let i=n[e.type];return i?i(t,e)||e.defaultPrevented:!1})}function WV(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function VV(t,e){!mv(t,e)&&Ln[e.type]&&(t.editable||!(e.type in Dn))&&Ln[e.type](t,e)}Dn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!gT(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Br&&Mn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),ka&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();t.input.lastIOSEnter=i,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==i&&(t.someProp("handleKeyDown",r=>r(t,to(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",i=>i(t,n))||RV(t,n)?n.preventDefault():Cs(t,"key")};Dn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Dn.keypress=(t,e)=>{let n=e;if(gT(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ei&&n.metaKey)return;if(t.someProp("handleKeyPress",r=>r(t,n))){n.preventDefault();return}let i=t.state.selection;if(!(i instanceof Fe)||!i.$from.sameParent(i.$to)){let r=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!t.someProp("handleTextInput",o=>o(t,i.$from.pos,i.$to.pos,r,s))&&t.dispatch(s()),n.preventDefault()}};function Bf(t){return{left:t.clientX,top:t.clientY}}function jV(t,e){let n=e.x-t.clientX,i=e.y-t.clientY;return n*n+i*i<100}function gv(t,e,n,i,r){if(i==-1)return!1;let s=t.state.doc.resolve(i);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),r,!0):a(t,n,s.node(o),s.before(o),r,!1)))return!0;return!1}function ba(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let i=t.state.tr.setSelection(e);i.setMeta("pointer",!0),t.dispatch(i)}function UV(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return i&&i.isAtom&&De.isSelectable(i)?(ba(t,new De(n)),!0):!1}function YV(t,e){if(e==-1)return!1;let n=t.state.selection,i,r;n instanceof De&&(i=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(De.isSelectable(a)){i&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?r=s.before(n.$from.depth):r=s.before(o);break}}return r!=null?(ba(t,De.create(t.state.doc,r)),!0):!1}function XV(t,e,n,i,r){return gv(t,"handleClickOn",e,n,i)||t.someProp("handleClick",s=>s(t,e,i))||(r?YV(t,n):UV(t,n))}function qV(t,e,n,i){return gv(t,"handleDoubleClickOn",e,n,i)||t.someProp("handleDoubleClick",r=>r(t,e,i))}function GV(t,e,n,i){return gv(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",r=>r(t,e,i))||KV(t,n,i)}function KV(t,e,n){if(n.button!=0)return!1;let i=t.state.doc;if(e==-1)return i.inlineContent?(ba(t,Fe.create(i,0,i.content.size)),!0):!1;let r=i.resolve(e);for(let s=r.depth+1;s>0;s--){let o=s>r.depth?r.nodeAfter:r.node(s),a=r.before(s);if(o.inlineContent)ba(t,Fe.create(i,a+1,a+1+o.content.size));else if(De.isSelectable(o))ba(t,De.create(i,a));else continue;return!0}}function vv(t){return Jd(t)}const mT=Ei?"metaKey":"ctrlKey";Ln.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let i=vv(t),r=Date.now(),s="singleClick";r-t.input.lastClick.time<500&&jV(n,t.input.lastClick)&&!n[mT]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:s,button:n.button};let o=t.posAtCoords(Bf(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new JV(t,o,n,!!i)):(s=="doubleClick"?qV:GV)(t,o.pos,o.inside,n)?n.preventDefault():Cs(t,"pointer"))};class JV{constructor(e,n,i,r){this.view=e,this.pos=n,this.event=i,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[mT],this.allowDefault=i.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let d=e.state.doc.resolve(n.pos);s=d.parent,o=d.depth?d.before():0}const a=r?null:i.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:u}=e.state;(i.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof De&&u.from<=o&&u.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ui&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Cs(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Hr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Bf(e))),this.updateAllowDefault(e),this.allowDefault||!n?Cs(this.view,"pointer"):XV(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||In&&this.mightDrag&&!this.mightDrag.node.isAtom||Mn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ba(this.view,Xe.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Cs(this.view,"pointer")}move(e){this.updateAllowDefault(e),Cs(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ln.touchstart=t=>{t.input.lastTouch=Date.now(),vv(t),Cs(t,"pointer")};Ln.touchmove=t=>{t.input.lastTouch=Date.now(),Cs(t,"pointer")};Ln.contextmenu=t=>vv(t);function gT(t,e){return t.composing?!0:In&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const ZV=Br?5e3:-1;Dn.compositionstart=Dn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Fe&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Jd(t,!0),t.markCursor=null;else if(Jd(t,!e.selection.empty),Ui&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=t.domSelectionRange();for(let r=i.focusNode,s=i.focusOffset;r&&r.nodeType==1&&s!=0;){let o=s<0?r.lastChild:r.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else r=o,s=-1}}t.input.composing=!0}vT(t,ZV)};Dn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,vT(t,20))};function vT(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Jd(t),e))}function bT(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=ej());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function QV(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=UW(e.focusNode,e.focusOffset),i=YW(e.focusNode,e.focusOffset);if(n&&i&&n!=i){let r=i.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||i==s)return s;if(!r||!r.isText(i.nodeValue))return i;if(t.input.compositionNode==i){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return i}}return n||i}function ej(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Jd(t,e=!1){if(!(Br&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),bT(t),e||t.docView&&t.docView.dirty){let n=fv(t),i=t.state.selection;return n&&!n.eq(i)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function tj(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),r=document.createRange();r.selectNodeContents(e),t.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Cc=Xn&&ks<15||ka&&JW<604;Ln.copy=Dn.cut=(t,e)=>{let n=e,i=t.state.selection,r=n.type=="cut";if(i.empty)return;let s=Cc?null:n.clipboardData,o=i.content(),{dom:a,text:l}=pv(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):tj(t,a),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function nj(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function ij(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,i=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let r=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),i.parentNode&&i.parentNode.removeChild(i),n?Tc(t,i.value,null,r,e):Tc(t,i.textContent,i.innerHTML,r,e)},50)}function Tc(t,e,n,i,r){let s=cT(t,e,n,i,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,r,s||Se.empty)))return!0;if(!s)return!1;let o=nj(s),a=o?t.state.tr.replaceSelectionWith(o,i):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function yT(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Dn.paste=(t,e)=>{let n=e;if(t.composing&&!Br)return;let i=Cc?null:n.clipboardData,r=t.input.shiftKey&&t.input.lastKeyCode!=45;i&&Tc(t,yT(i),i.getData("text/html"),r,n)?n.preventDefault():ij(t,n)};class wT{constructor(e,n,i){this.slice=e,this.move=n,this.node=i}}const rj=Ei?"altKey":"ctrlKey";function ST(t,e){let n=t.someProp("dragCopies",i=>!i(e));return n??!e[rj]}Ln.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let r=t.state.selection,s=r.empty?null:t.posAtCoords(Bf(n)),o;if(!(s&&s.pos>=r.from&&s.pos<=(r instanceof De?r.to-1:r.to))){if(i&&i.mightDrag)o=De.create(t.state.doc,i.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let h=t.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(o=De.create(t.state.doc,h.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:u,slice:d}=pv(t,a);(!n.dataTransfer.files.length||!Mn||XC>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Cc?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Cc||n.dataTransfer.setData("text/plain",u),t.dragging=new wT(d,ST(t,n),o)};Ln.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Dn.dragover=Dn.dragenter=(t,e)=>e.preventDefault();Dn.drop=(t,e)=>{let n=e,i=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let r=t.posAtCoords(Bf(n));if(!r)return;let s=t.state.doc.resolve(r.pos),o=i&&i.slice;o?t.someProp("transformPasted",m=>{o=m(o,t)}):o=cT(t,yT(n.dataTransfer),Cc?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(i&&ST(t,n));if(t.someProp("handleDrop",m=>m(t,n,o||Se.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?BC(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let u=t.state.tr;if(a){let{node:m}=i;m?m.replace(u):u.deleteSelection()}let d=u.mapping.map(l),h=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,p=u.doc;if(h?u.replaceRangeWith(d,d,o.content.firstChild):u.replaceRange(d,d,o),u.doc.eq(p))return;let g=u.doc.resolve(d);if(h&&De.isSelectable(o.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new De(g));else{let m=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((b,y,S,x)=>m=x),u.setSelection(hv(t,g,u.doc.resolve(m)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};Ln.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Hr(t)},20))};Ln.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Ln.beforeinput=(t,e)=>{if(Mn&&Br&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:i}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=i||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,to(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in Dn)Ln[t]=Dn[t];function Mc(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Zd{constructor(e,n){this.toDOM=e,this.spec=n||fo,this.side=this.spec.side||0}map(e,n,i,r){let{pos:s,deleted:o}=e.mapResult(n.from+r,this.side<0?-1:1);return o?null:new ci(s-i,s-i,this)}valid(){return!0}eq(e){return this==e||e instanceof Zd&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Mc(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Rs{constructor(e,n){this.attrs=e,this.spec=n||fo}map(e,n,i,r){let s=e.map(n.from+r,this.spec.inclusiveStart?-1:1)-i,o=e.map(n.to+r,this.spec.inclusiveEnd?1:-1)-i;return s>=o?null:new ci(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Rs&&Mc(this.attrs,e.attrs)&&Mc(this.spec,e.spec)}static is(e){return e.type instanceof Rs}destroy(){}}class bv{constructor(e,n){this.attrs=e,this.spec=n||fo}map(e,n,i,r){let s=e.mapResult(n.from+r,1);if(s.deleted)return null;let o=e.mapResult(n.to+r,-1);return o.deleted||o.pos<=s.pos?null:new ci(s.pos-i,o.pos-i,this)}valid(e,n){let{index:i,offset:r}=e.content.findIndex(n.from),s;return r==n.from&&!(s=e.child(i)).isText&&r+s.nodeSize==n.to}eq(e){return this==e||e instanceof bv&&Mc(this.attrs,e.attrs)&&Mc(this.spec,e.spec)}destroy(){}}class ci{constructor(e,n,i){this.from=e,this.to=n,this.type=i}copy(e,n){return new ci(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,i){return this.type.map(e,this,n,i)}static widget(e,n,i){return new ci(e,e,new Zd(n,i))}static inline(e,n,i,r){return new ci(e,n,new Rs(i,r))}static node(e,n,i,r){return new ci(e,n,new bv(i,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Rs}get widget(){return this.type instanceof Zd}}const ca=[],fo={};class Wt{constructor(e,n){this.local=e.length?e:ca,this.children=n.length?n:ca}static create(e,n){return n.length?Qd(n,e,0,fo):En}find(e,n,i){let r=[];return this.findInner(e??0,n??1e9,r,0,i),r}findInner(e,n,i,r,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&i.push(a.copy(a.from+r,a.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,i,r+a,s)}}map(e,n,i){return this==En||e.maps.length==0?this:this.mapInner(e,n,0,0,i||fo)}mapInner(e,n,i,r,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,i,r);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?sj(this.children,o||[],e,n,i,r,s):o?new Wt(o.sort(ho),ca):En}add(e,n){return n.length?this==En?Wt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,i){let r,s=0;e.forEach((a,l)=>{let u=l+i,d;if(d=ET(n,a,u)){for(r||(r=this.children.slice());s<r.length&&r[s]<l;)s+=3;r[s]==l?r[s+2]=r[s+2].addInner(a,d,u+1):r.splice(s,0,l,l+a.nodeSize,Qd(d,a,u+1,fo)),s+=3}});let o=xT(s?CT(n):n,-i);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Wt(o.length?this.local.concat(o).sort(ho):this.local,r||this.children)}remove(e){return e.length==0||this==En?this:this.removeInner(e,0)}removeInner(e,n){let i=this.children,r=this.local;for(let s=0;s<i.length;s+=3){let o,a=i[s]+n,l=i[s+1]+n;for(let d=0,h;d<e.length;d++)(h=e[d])&&h.from>a&&h.to<l&&(e[d]=null,(o||(o=[])).push(h));if(!o)continue;i==this.children&&(i=this.children.slice());let u=i[s+2].removeInner(o,a+1);u!=En?i[s+2]=u:(i.splice(s,3),s-=3)}if(r.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<r.length;a++)r[a].eq(o,n)&&(r==this.local&&(r=this.local.slice()),r.splice(a--,1))}return i==this.children&&r==this.local?this:r.length||i.length?new Wt(r,i):En}forChild(e,n){if(this==En)return this;if(n.isLeaf)return Wt.empty;let i,r;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(i=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Rs){let u=Math.max(s,l.from)-s,d=Math.min(o,l.to)-s;u<d&&(r||(r=[])).push(l.copy(u,d))}}if(r){let a=new Wt(r.sort(ho),ca);return i?new ws([a,i]):a}return i||En}eq(e){if(this==e)return!0;if(!(e instanceof Wt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return yv(this.localsInner(e))}localsInner(e){if(this==En)return ca;if(e.inlineContent||!this.local.some(Rs.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof Rs||n.push(this.local[i]);return n}forEachSet(e){e(this)}}Wt.empty=new Wt([],[]);Wt.removeOverlap=yv;const En=Wt.empty;class ws{constructor(e){this.members=e}map(e,n){const i=this.members.map(r=>r.map(e,n,fo));return ws.from(i)}forChild(e,n){if(n.isLeaf)return Wt.empty;let i=[];for(let r=0;r<this.members.length;r++){let s=this.members[r].forChild(e,n);s!=En&&(s instanceof ws?i=i.concat(s.members):i.push(s))}return ws.from(i)}eq(e){if(!(e instanceof ws)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,i=!0;for(let r=0;r<this.members.length;r++){let s=this.members[r].localsInner(e);if(s.length)if(!n)n=s;else{i&&(n=n.slice(),i=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?yv(i?n:n.sort(ho)):ca}static from(e){switch(e.length){case 0:return En;case 1:return e[0];default:return new ws(e.every(n=>n instanceof Wt)?e:e.reduce((n,i)=>n.concat(i instanceof Wt?i:i.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function sj(t,e,n,i,r,s,o){let a=t.slice();for(let u=0,d=s;u<n.maps.length;u++){let h=0;n.maps[u].forEach((p,g,m,b)=>{let y=b-m-(g-p);for(let S=0;S<a.length;S+=3){let x=a[S+1];if(x<0||p>x+d-h)continue;let E=a[S]+d-h;g>=E?a[S+1]=p<=E?-2:-1:p>=d&&y&&(a[S]+=y,a[S+1]+=y)}h+=y}),d=n.maps[u].map(d,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let d=n.map(t[u]+s),h=d-r;if(h<0||h>=i.content.size){l=!0;continue}let p=n.map(t[u+1]+s,-1),g=p-r,{index:m,offset:b}=i.content.findIndex(h),y=i.maybeChild(m);if(y&&b==h&&b+y.nodeSize==g){let S=a[u+2].mapInner(n,y,d+1,t[u]+s+1,o);S!=En?(a[u]=h,a[u+1]=g,a[u+2]=S):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=oj(a,t,e,n,r,s,o),d=Qd(u,i,0,o);e=d.local;for(let h=0;h<a.length;h+=3)a[h+1]<0&&(a.splice(h,3),h-=3);for(let h=0,p=0;h<d.children.length;h+=3){let g=d.children[h];for(;p<a.length&&a[p]<g;)p+=3;a.splice(p,0,d.children[h],d.children[h+1],d.children[h+2])}}return new Wt(e.sort(ho),a)}function xT(t,e){if(!e||!t.length)return t;let n=[];for(let i=0;i<t.length;i++){let r=t[i];n.push(new ci(r.from+e,r.to+e,r.type))}return n}function oj(t,e,n,i,r,s,o){function a(l,u){for(let d=0;d<l.local.length;d++){let h=l.local[d].map(i,r,u);h?n.push(h):o.onRemove&&o.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)a(l.children[d+2],l.children[d]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function ET(t,e,n){if(e.isLeaf)return null;let i=n+e.nodeSize,r=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<i&&((r||(r=[])).push(o),t[s]=null);return r}function CT(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Qd(t,e,n,i){let r=[],s=!1;e.forEach((a,l)=>{let u=ET(t,a,l+n);if(u){s=!0;let d=Qd(u,a,n+l+1,i);d!=En&&r.push(l,l+a.nodeSize,d)}});let o=xT(s?CT(t):t,-n).sort(ho);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(i.onRemove&&i.onRemove(o[a].spec),o.splice(a--,1));return o.length||r.length?new Wt(o,r):En}function ho(t,e){return t.from-e.from||t.to-e.to}function yv(t){let e=t;for(let n=0;n<e.length-1;n++){let i=e[n];if(i.from!=i.to)for(let r=n+1;r<e.length;r++){let s=e[r];if(s.from==i.from){s.to!=i.to&&(e==t&&(e=t.slice()),e[r]=s.copy(s.from,i.to),TS(e,r+1,s.copy(i.to,s.to)));continue}else{s.from<i.to&&(e==t&&(e=t.slice()),e[n]=i.copy(i.from,s.from),TS(e,r,i.copy(s.from,i.to)));break}}}return e}function TS(t,e,n){for(;e<t.length&&ho(n,t[e])>0;)e++;t.splice(e,0,n)}function Gp(t){let e=[];return t.someProp("decorations",n=>{let i=n(t.state);i&&i!=En&&e.push(i)}),t.cursorWrapper&&e.push(Wt.create(t.state.doc,[t.cursorWrapper.deco])),ws.from(e)}const aj={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},lj=Xn&&ks<=11;class cj{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class uj{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new cj,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let r=0;r<i.length;r++)this.queue.push(i[r]);Xn&&ks<=11&&i.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),lj&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,aj)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(vS(this.view)){if(this.suppressingSelectionUpdates)return Hr(this.view);if(Xn&&ks<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Co(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,i;for(let s=e.focusNode;s;s=Aa(s))n.add(s);for(let s=e.anchorNode;s;s=Aa(s))if(n.has(s)){i=s;break}let r=i&&this.view.docView.nearestDesc(i);if(r&&r.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let i=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&vS(e)&&!this.ignoreSelectionChange(i),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let d=0;d<n.length;d++){let h=this.registerMutation(n[d],l);h&&(s=s<0?h.from:Math.min(h.from,s),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(a=!0))}if(Ui&&l.length){let d=l.filter(h=>h.nodeName=="BR");if(d.length==2){let[h,p]=d;h.parentNode&&h.parentNode.parentNode==p.parentNode?p.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let p of d){let g=p.parentNode;g&&g.nodeName=="LI"&&(!h||hj(e,h)!=g)&&p.remove()}}}let u=null;s<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&zf(i)&&(u=fv(e))&&u.eq(Xe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Hr(e),this.currentSelection.set(i),e.scrollToSelection()):(s>-1||r)&&(s>-1&&(e.docView.markDirty(s,o),dj(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||Hr(e),this.currentSelection.set(i))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let h=e.addedNodes[d];n.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let r=e.previousSibling,s=e.nextSibling;if(Xn&&ks<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:h,nextSibling:p}=e.addedNodes[d];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(r=h),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(s=p)}let o=r&&r.parentNode==e.target?dn(r)+1:0,a=i.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?dn(s):e.target.childNodes.length,u=i.localPosFromDOM(e.target,l,1);return{from:a,to:u}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=e.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let MS=new WeakMap,_S=!1;function dj(t){if(!MS.has(t)&&(MS.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Ui,_S)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),_S=!0}}function AS(t,e){let n=e.startContainer,i=e.startOffset,r=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Co(o.node,o.offset,r,s)&&([n,i,r,s]=[r,s,n,i]),{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}}function fj(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return AS(t,r)}let n;function i(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",i,!0),n?AS(t,n):null}function hj(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let i=t.docView.nearestDesc(n,!0);if(i&&i.node.isBlock)return n}return null}function pj(t,e,n){let{node:i,fromOffset:r,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),u,d=l.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:l.anchorOffset}],zf(l)||u.push({node:l.focusNode,offset:l.focusOffset})),Mn&&t.input.lastKeyCode===8)for(let y=s;y>r;y--){let S=i.childNodes[y-1],x=S.pmViewDesc;if(S.nodeName=="BR"&&!x){s=y;break}if(!x||x.size)break}let h=t.state.doc,p=t.someProp("domParser")||As.fromSchema(t.state.schema),g=h.resolve(o),m=null,b=p.parse(i,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:r,to:s,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:mj,context:g});if(u&&u[0].pos!=null){let y=u[0].pos,S=u[1]&&u[1].pos;S==null&&(S=y),m={anchor:y+o,head:S+o}}return{doc:b,sel:m,from:o,to:a}}function mj(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(In&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||In&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const gj=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function vj(t,e,n,i,r){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let R=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,k=fv(t,R);if(k&&!t.state.selection.eq(k)){if(Mn&&Br&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",X=>X(t,to(13,"Enter"))))return;let D=t.state.tr.setSelection(k);R=="pointer"?D.setMeta("pointer",!0):R=="key"&&D.scrollIntoView(),s&&D.setMeta("composition",s),t.dispatch(D)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,u=pj(t,e,n),d=t.state.doc,h=d.slice(u.from,u.to),p,g;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,g="end"):(p=t.state.selection.from,g="start"),t.input.lastKeyCode=null;let m=wj(h.content,u.doc.content,u.from,p,g);if(m&&t.input.domChangeCount++,(ka&&t.input.lastIOSEnter>Date.now()-225||Br)&&r.some(R=>R.nodeType==1&&!gj.test(R.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",R=>R(t,to(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(i&&l instanceof Fe&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let R=kS(t,t.state.doc,u.sel);if(R&&!R.eq(t.state.selection)){let k=t.state.tr.setSelection(R);s&&k.setMeta("composition",s),t.dispatch(k)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof Fe&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),Xn&&ks<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>u.from&&u.doc.textBetween(m.start-u.from-1,m.start-u.from+1)==" "&&(m.start--,m.endA--,m.endB--);let b=u.doc.resolveNoCache(m.start-u.from),y=u.doc.resolveNoCache(m.endB-u.from),S=d.resolve(m.start),x=b.sameParent(y)&&b.parent.inlineContent&&S.end()>=m.endA,E;if((ka&&t.input.lastIOSEnter>Date.now()-225&&(!x||r.some(R=>R.nodeName=="DIV"||R.nodeName=="P"))||!x&&b.pos<u.doc.content.size&&(!b.sameParent(y)||!b.parent.inlineContent)&&!/\S/.test(u.doc.textBetween(b.pos,y.pos,"",""))&&(E=Xe.findFrom(u.doc.resolve(b.pos+1),1,!0))&&E.head>b.pos)&&t.someProp("handleKeyDown",R=>R(t,to(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&yj(d,m.start,m.endA,b,y)&&t.someProp("handleKeyDown",R=>R(t,to(8,"Backspace")))){Br&&Mn&&t.domObserver.suppressSelectionUpdates();return}Mn&&m.endB==m.start&&(t.input.lastChromeDelete=Date.now()),Br&&!x&&b.start()!=y.start()&&y.parentOffset==0&&b.depth==y.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==m.endA&&(m.endB-=2,y=u.doc.resolveNoCache(m.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(R){return R(t,to(13,"Enter"))})},20));let M=m.start,A=m.endA,z=R=>{let k=R||t.state.tr.replace(M,A,u.doc.slice(m.start-u.from,m.endB-u.from));if(u.sel){let D=kS(t,k.doc,u.sel);D&&!(Mn&&t.composing&&D.empty&&(m.start!=m.endB||t.input.lastChromeDelete<Date.now()-100)&&(D.head==M||D.head==k.mapping.map(A)-1)||Xn&&D.empty&&D.head==M)&&k.setSelection(D)}return s&&k.setMeta("composition",s),k.scrollIntoView()},L;if(x){if(b.pos==y.pos){Xn&&ks<=11&&b.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Hr(t),20));let R=z(t.state.tr.delete(M,A)),k=d.resolve(m.start).marksAcross(d.resolve(m.endA));k&&R.ensureMarks(k),t.dispatch(R)}else if(m.endA==m.endB&&(L=bj(b.parent.content.cut(b.parentOffset,y.parentOffset),S.parent.content.cut(S.parentOffset,m.endA-S.start())))){let R=z(t.state.tr);L.type=="add"?R.addMark(M,A,L.mark):R.removeMark(M,A,L.mark),t.dispatch(R)}else if(b.parent.child(b.index()).isText&&b.index()==y.index()-(y.textOffset?0:1)){let R=b.parent.textBetween(b.parentOffset,y.parentOffset),k=()=>z(t.state.tr.insertText(R,M,A));t.someProp("handleTextInput",D=>D(t,M,A,R,k))||t.dispatch(k())}}else t.dispatch(z())}function kS(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:hv(t,e.resolve(n.anchor),e.resolve(n.head))}function bj(t,e){let n=t.firstChild.marks,i=e.firstChild.marks,r=n,s=i,o,a,l;for(let d=0;d<i.length;d++)r=i[d].removeFromSet(r);for(let d=0;d<n.length;d++)s=n[d].removeFromSet(s);if(r.length==1&&s.length==0)a=r[0],o="add",l=d=>d.mark(a.addToSet(d.marks));else if(r.length==0&&s.length==1)a=s[0],o="remove",l=d=>d.mark(a.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<e.childCount;d++)u.push(l(e.child(d)));if(me.from(u).eq(t))return{mark:a,type:o}}function yj(t,e,n,i,r){if(n-e<=r.pos-i.pos||Kp(i,!0,!1)<r.pos)return!1;let s=t.resolve(e);if(!i.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(Kp(s,!0,!0));return!o.parent.isTextblock||o.pos>n||Kp(o,!0,!1)<n?!1:i.parent.content.cut(i.parentOffset).eq(o.parent.content)}function Kp(t,e,n){let i=t.depth,r=e?t.end():t.pos;for(;i>0&&(e||t.indexAfter(i)==t.node(i).childCount);)i--,r++,e=!1;if(n){let s=t.node(i).maybeChild(t.indexAfter(i));for(;s&&!s.isLeaf;)s=s.firstChild,r++}return r}function wj(t,e,n,i,r){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(r=="end"){let l=Math.max(0,s-Math.min(o,a));i-=o+l-s}if(o<s&&t.size<e.size){let l=i<=s&&i>=o?s-i:0;s-=l,s&&s<e.size&&OS(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=i<=s&&i>=a?s-i:0;s-=l,s&&s<t.size&&OS(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function OS(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class TT{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new BV,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(DS),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=IS(this),PS(this),this.nodeViews=LS(this),this.docView=dS(this.state.doc,RS(this),Gp(this),this.dom,this),this.domObserver=new uj(this,(i,r,s,o)=>vj(this,i,r,s,o)),this.domObserver.start(),FV(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&rg(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(DS),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let i in this._props)n[i]=this._props[i];n.state=this.state;for(let i in e)n[i]=e[i];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var i;let r=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(bT(this),o=!0),this.state=e;let a=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let g=LS(this);xj(g,this.nodeViews)&&(this.nodeViews=g,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&rg(this),this.editable=IS(this),PS(this);let l=Gp(this),u=RS(this),d=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",h=s||!this.docView.matchesNode(e.doc,u,l);(h||!e.selection.eq(r.selection))&&(o=!0);let p=d=="preserve"&&o&&this.dom.style.overflowAnchor==null&&eV(this);if(o){this.domObserver.stop();let g=h&&(Xn||Mn)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&Sj(r.selection,e.selection);if(h){let m=Mn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=QV(this)),(s||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=dS(e.doc,u,l,this.dom,this)),m&&!this.trackWrites&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&CV(this))?Hr(this,g):(oT(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((i=this.dragging)===null||i===void 0)&&i.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():p&&tV(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof De){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&sS(this,n.getBoundingClientRect(),e)}else sS(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let i=this.state.plugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let i=this.pluginViews[n];i.update&&i.update(this,e)}}updateDraggedNode(e,n){let i=e.node,r=-1;if(this.state.doc.nodeAt(i.from)==i.node)r=i.from;else{let s=i.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==i.node&&(r=s)}this.dragging=new wT(e.slice,e.move,r<0?void 0:De.create(this.state.doc,r))}someProp(e,n){let i=this._props&&this._props[e],r;if(i!=null&&(r=n?n(i):i))return r;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(r=n?n(a):a))return r}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(r=n?n(a):a))return r}}hasFocus(){if(Xn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&nV(this.dom),Hr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return aV(this,e)}coordsAtPos(e,n=1){return ZC(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,i=-1){let r=this.docView.posFromDOM(e,n,i);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,n){return fV(this,n||this.state,e)}pasteHTML(e,n){return Tc(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Tc(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return pv(this,e)}destroy(){this.docView&&(HV(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Gp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,VW())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return VV(this,e)}domSelectionRange(){let e=this.domSelection();return e?In&&this.root.nodeType===11&&qW(this.dom.ownerDocument)==this.dom&&fj(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}TT.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function RS(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let i in n)i=="class"?e.class+=" "+n[i]:i=="style"?e.style=(e.style?e.style+";":"")+n[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(n[i]))}),e.translate||(e.translate="no"),[ci.node(0,t.state.doc.content.size,e)]}function PS(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:ci.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function IS(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Sj(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function LS(t){let e=Object.create(null);function n(i){for(let r in i)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=i[r])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function xj(t,e){let n=0,i=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let r in e)i++;return n!=i}function DS(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ds={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ef={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Ej=typeof navigator<"u"&&/Mac/.test(navigator.platform),Cj=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var fn=0;fn<10;fn++)Ds[48+fn]=Ds[96+fn]=String(fn);for(var fn=1;fn<=24;fn++)Ds[fn+111]="F"+fn;for(var fn=65;fn<=90;fn++)Ds[fn]=String.fromCharCode(fn+32),ef[fn]=String.fromCharCode(fn);for(var Jp in Ds)ef.hasOwnProperty(Jp)||(ef[Jp]=Ds[Jp]);function Tj(t){var e=Ej&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Cj&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?ef:Ds)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Mj=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),_j=typeof navigator<"u"&&/Win/.test(navigator.platform);function Aj(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let i,r,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Mj?o=!0:r=!0;else throw new Error("Unrecognized modifier name: "+l)}return i&&(n="Alt-"+n),r&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function kj(t){let e=Object.create(null);for(let n in t)e[Aj(n)]=t[n];return e}function Zp(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Oj(t){return new Nn({props:{handleKeyDown:MT(t)}})}function MT(t){let e=kj(t);return function(n,i){let r=Tj(i),s,o=e[Zp(r,i)];if(o&&o(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(i.shiftKey){let a=e[Zp(r,i,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!(_j&&i.ctrlKey&&i.altKey)&&(s=Ds[i.keyCode])&&s!=r){let a=e[Zp(s,i)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const wv=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function _T(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const AT=(t,e,n)=>{let i=_T(t,n);if(!i)return!1;let r=Sv(i);if(!r){let o=i.blockRange(),a=o&&Ha(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=r.nodeBefore;if(zT(t,r,e,-1))return!0;if(i.parent.content.size==0&&(Oa(s,"end")||De.isSelectable(s)))for(let o=i.depth;;o--){let a=Df(t.doc,i.before(o),i.after(o),Se.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Oa(s,"end")?Xe.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):De.create(l.doc,r.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||i.node(o-1).childCount>1)break}return s.isAtom&&r.depth==i.depth-1?(e&&e(t.tr.delete(r.pos-s.nodeSize,r.pos).scrollIntoView()),!0):!1},Rj=(t,e,n)=>{let i=_T(t,n);if(!i)return!1;let r=Sv(i);return r?kT(t,r,e):!1},Pj=(t,e,n)=>{let i=RT(t,n);if(!i)return!1;let r=xv(i);return r?kT(t,r,e):!1};function kT(t,e,n){let i=e.nodeBefore,r=i,s=e.pos-1;for(;!r.isTextblock;s--){if(r.type.spec.isolating)return!1;let d=r.lastChild;if(!d)return!1;r=d}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let d=a.firstChild;if(!d)return!1;a=d}let u=Df(t.doc,s,l,Se.empty);if(!u||u.from!=s||u instanceof Jt&&u.slice.size>=l-s)return!1;if(n){let d=t.tr.step(u);d.setSelection(Fe.create(d.doc,s)),n(d.scrollIntoView())}return!0}function Oa(t,e,n=!1){for(let i=t;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const OT=(t,e,n)=>{let{$head:i,empty:r}=t.selection,s=i;if(!r)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1;s=Sv(i)}let o=s&&s.nodeBefore;return!o||!De.isSelectable(o)?!1:(e&&e(t.tr.setSelection(De.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function Sv(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function RT(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const PT=(t,e,n)=>{let i=RT(t,n);if(!i)return!1;let r=xv(i);if(!r)return!1;let s=r.nodeAfter;if(zT(t,r,e,1))return!0;if(i.parent.content.size==0&&(Oa(s,"start")||De.isSelectable(s))){let o=Df(t.doc,i.before(),i.after(),Se.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Oa(s,"start")?Xe.findFrom(a.doc.resolve(a.mapping.map(r.pos)),1):De.create(a.doc,a.mapping.map(r.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&r.depth==i.depth-1?(e&&e(t.tr.delete(r.pos,r.pos+s.nodeSize).scrollIntoView()),!0):!1},IT=(t,e,n)=>{let{$head:i,empty:r}=t.selection,s=i;if(!r)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;s=xv(i)}let o=s&&s.nodeAfter;return!o||!De.isSelectable(o)?!1:(e&&e(t.tr.setSelection(De.create(t.doc,s.pos)).scrollIntoView()),!0)};function xv(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Ij=(t,e)=>{let n=t.selection,i=n instanceof De,r;if(i){if(n.node.isTextblock||!$s(t.doc,n.from))return!1;r=n.from}else if(r=Lf(t.doc,n.from,-1),r==null)return!1;if(e){let s=t.tr.join(r);i&&s.setSelection(De.create(s.doc,r-t.doc.resolve(r).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},Lj=(t,e)=>{let n=t.selection,i;if(n instanceof De){if(n.node.isTextblock||!$s(t.doc,n.to))return!1;i=n.to}else if(i=Lf(t.doc,n.to,1),i==null)return!1;return e&&e(t.tr.join(i).scrollIntoView()),!0},Dj=(t,e)=>{let{$from:n,$to:i}=t.selection,r=n.blockRange(i),s=r&&Ha(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},LT=(t,e)=>{let{$head:n,$anchor:i}=t.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Ev(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Nj=(t,e)=>{let{$head:n,$anchor:i}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let r=n.node(-1),s=n.indexAfter(-1),o=Ev(r.contentMatchAt(s));if(!o||!r.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Xe.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},DT=(t,e)=>{let n=t.selection,{$from:i,$to:r}=n;if(n instanceof fi||i.parent.inlineContent||r.parent.inlineContent)return!1;let s=Ev(r.parent.contentMatchAt(r.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(Fe.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},NT=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Fr(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let i=n.blockRange(),r=i&&Ha(i);return r==null?!1:(e&&e(t.tr.lift(i,r).scrollIntoView()),!0)};function zj(t){return(e,n)=>{let{$from:i,$to:r}=e.selection;if(e.selection instanceof De&&e.selection.node.isBlock)return!i.parentOffset||!Fr(e.doc,i.pos)?!1:(n&&n(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let s=[],o,a,l=!1,u=!1;for(let g=i.depth;;g--)if(i.node(g).isBlock){l=i.end(g)==i.pos+(i.depth-g),u=i.start(g)==i.pos-(i.depth-g),a=Ev(i.node(g-1).contentMatchAt(i.indexAfter(g-1))),s.unshift(l&&a?{type:a}:null),o=g;break}else{if(g==1)return!1;s.unshift(null)}let d=e.tr;(e.selection instanceof Fe||e.selection instanceof fi)&&d.deleteSelection();let h=d.mapping.map(i.pos),p=Fr(d.doc,h,s.length,s);if(p||(s[0]=a?{type:a}:null,p=Fr(d.doc,h,s.length,s)),!p)return!1;if(d.split(h,s.length,s),!l&&u&&i.node(o).type!=a){let g=d.mapping.map(i.before(o)),m=d.doc.resolve(g);a&&i.node(o-1).canReplaceWith(m.index(),m.index()+1,a)&&d.setNodeMarkup(d.mapping.map(i.before(o)),a)}return n&&n(d.scrollIntoView()),!0}}const $j=zj(),Bj=(t,e)=>{let{$from:n,to:i}=t.selection,r,s=n.sharedDepth(i);return s==0?!1:(r=n.before(s),e&&e(t.tr.setSelection(De.create(t.doc,r))),!0)};function Fj(t,e,n){let i=e.nodeBefore,r=e.nodeAfter,s=e.index();return!i||!r||!i.type.compatibleContent(r.type)?!1:!i.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(r.isTextblock||$s(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function zT(t,e,n,i){let r=e.nodeBefore,s=e.nodeAfter,o,a,l=r.type.spec.isolating||s.type.spec.isolating;if(!l&&Fj(t,e,n))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(o=(a=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let g=e.pos+s.nodeSize,m=me.empty;for(let S=o.length-1;S>=0;S--)m=me.from(o[S].create(null,m));m=me.from(r.copy(m));let b=t.tr.step(new en(e.pos-1,g,e.pos,g,new Se(m,1,0),o.length,!0)),y=b.doc.resolve(g+2*o.length);y.nodeAfter&&y.nodeAfter.type==r.type&&$s(b.doc,y.pos)&&b.join(y.pos),n(b.scrollIntoView())}return!0}let d=s.type.spec.isolating||i>0&&l?null:Xe.findFrom(e,1),h=d&&d.$from.blockRange(d.$to),p=h&&Ha(h);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(h,p).scrollIntoView()),!0;if(u&&Oa(s,"start",!0)&&Oa(r,"end")){let g=r,m=[];for(;m.push(g),!g.isTextblock;)g=g.lastChild;let b=s,y=1;for(;!b.isTextblock;b=b.firstChild)y++;if(g.canReplace(g.childCount,g.childCount,b.content)){if(n){let S=me.empty;for(let E=m.length-1;E>=0;E--)S=me.from(m[E].copy(S));let x=t.tr.step(new en(e.pos-m.length,e.pos+s.nodeSize,e.pos+y,e.pos+s.nodeSize-y,new Se(S,m.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function $T(t){return function(e,n){let i=e.selection,r=t<0?i.$from:i.$to,s=r.depth;for(;r.node(s).isInline;){if(!s)return!1;s--}return r.node(s).isTextblock?(n&&n(e.tr.setSelection(Fe.create(e.doc,t<0?r.start(s):r.end(s)))),!0):!1}}const Hj=$T(-1),Wj=$T(1);function Vj(t,e=null){return function(n,i){let{$from:r,$to:s}=n.selection,o=r.blockRange(s),a=o&&cv(o,t,e);return a?(i&&i(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function NS(t,e=null){return function(n,i){let r=!1;for(let s=0;s<n.selection.ranges.length&&!r;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,u)=>{if(r)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)r=!0;else{let d=n.doc.resolve(u),h=d.index();r=d.parent.canReplaceWith(h,h+1,t)}})}if(!r)return!1;if(i){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,t,e)}i(s.scrollIntoView())}return!0}}function Cv(...t){return function(e,n,i){for(let r=0;r<t.length;r++)if(t[r](e,n,i))return!0;return!1}}Cv(wv,AT,OT);Cv(wv,PT,IT);Cv(LT,DT,NT,$j);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function jj(t,e=null){return function(n,i){let{$from:r,$to:s}=n.selection,o=r.blockRange(s);if(!o)return!1;let a=i?n.tr:null;return Uj(a,o,t,e)?(i&&i(a.scrollIntoView()),!0):!1}}function Uj(t,e,n,i=null){let r=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);s=new Xd(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Xd(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),r=!0}let a=cv(s,n,i,e);return a?(t&&Yj(t,e,a,r,n),!0):!1}function Yj(t,e,n,i,r){let s=me.empty;for(let d=n.length-1;d>=0;d--)s=me.from(n[d].type.create(n[d].attrs,s));t.step(new en(e.start-(i?2:0),e.end,e.start,e.end,new Se(s,0,0),n.length,!0));let o=0;for(let d=0;d<n.length;d++)n[d].type==r&&(o=d+1);let a=n.length-o,l=e.start+n.length-(i?2:0),u=e.parent;for(let d=e.startIndex,h=e.endIndex,p=!0;d<h;d++,p=!1)!p&&Fr(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=u.child(d).nodeSize;return t}function Xj(t){return function(e,n){let{$from:i,$to:r}=e.selection,s=i.blockRange(r,o=>o.childCount>0&&o.firstChild.type==t);return s?n?i.node(s.depth-1).type==t?qj(e,n,t,s):Gj(e,n,s):!0:!1}}function qj(t,e,n,i){let r=t.tr,s=i.end,o=i.$to.end(i.depth);s<o&&(r.step(new en(s-1,o,s,o,new Se(me.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new Xd(r.doc.resolve(i.$from.pos),r.doc.resolve(o),i.depth));const a=Ha(i);if(a==null)return!1;r.lift(i,a);let l=r.doc.resolve(r.mapping.map(s,-1)-1);return $s(r.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&r.join(l.pos),e(r.scrollIntoView()),!0}function Gj(t,e,n){let i=t.tr,r=n.parent;for(let g=n.end,m=n.endIndex-1,b=n.startIndex;m>b;m--)g-=r.child(m).nodeSize,i.delete(g-1,g+1);let s=i.doc.resolve(n.start),o=s.nodeAfter;if(i.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==r.childCount,u=s.node(-1),d=s.index(-1);if(!u.canReplace(d+(a?0:1),d+1,o.content.append(l?me.empty:me.from(r))))return!1;let h=s.pos,p=h+o.nodeSize;return i.step(new en(h-(a?1:0),p+(l?1:0),h+1,p-1,new Se((a?me.empty:me.from(r.copy(me.empty))).append(l?me.empty:me.from(r.copy(me.empty))),a?0:1,l?0:1),a?0:1)),e(i.scrollIntoView()),!0}function Kj(t){return function(e,n){let{$from:i,$to:r}=e.selection,s=i.blockRange(r,u=>u.childCount>0&&u.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let u=l.lastChild&&l.lastChild.type==a.type,d=me.from(u?t.create():null),h=new Se(me.from(t.create(null,me.from(a.type.create(null,d)))),u?3:1,0),p=s.start,g=s.end;n(e.tr.step(new en(p-(u?3:1),g,p,g,h,1,!0)).scrollIntoView())}return!0}}function Ff(t){const{state:e,transaction:n}=t;let{selection:i}=n,{doc:r}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return i},get doc(){return r},get tr(){return i=n.selection,r=n.doc,s=n.storedMarks,n}}}class Hf{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:i}=this,{view:r}=n,{tr:s}=i,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...d)=>{const h=l(...d)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:i,editor:r,state:s}=this,{view:o}=r,a=[],l=!!e,u=e||s.tr,d=()=>(!l&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(u),a.every(p=>p===!0)),h={...Object.fromEntries(Object.entries(i).map(([p,g])=>[p,(...b)=>{const y=this.buildProps(u,n),S=g(...b)(y);return a.push(S),h}])),run:d};return h}createCan(e){const{rawCommands:n,state:i}=this,r=!1,s=e||i.tr,o=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...d)=>u(...d)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(e,n=!0){const{rawCommands:i,editor:r,state:s}=this,{view:o}=r,a={tr:e,editor:r,view:o,state:Ff({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(i).map(([l,u])=>[l,(...d)=>u(...d)(a)]))}};return a}}class Jj{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const i=this.callbacks[e];return i&&i.forEach(r=>r.apply(this,n)),this}off(e,n){const i=this.callbacks[e];return i&&(n?this.callbacks[e]=i.filter(r=>r!==n):delete this.callbacks[e]),this}once(e,n){const i=(...r)=>{this.off(e,i),n.apply(this,r)};return this.on(e,i)}removeAllListeners(){this.callbacks={}}}function Me(t,e,n){return t.config[e]===void 0&&t.parent?Me(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Me(t.parent,e,n):null}):t.config[e]}function Wf(t){const e=t.filter(r=>r.type==="extension"),n=t.filter(r=>r.type==="node"),i=t.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:i}}function BT(t){const e=[],{nodeExtensions:n,markExtensions:i}=Wf(t),r=[...n,...i],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:r},l=Me(o,"addGlobalAttributes",a);if(!l)return;l().forEach(d=>{d.types.forEach(h=>{Object.entries(d.attributes).forEach(([p,g])=>{e.push({type:h,name:p,attribute:{...s,...g}})})})})}),r.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=Me(o,"addAttributes",a);if(!l)return;const u=l();Object.entries(u).forEach(([d,h])=>{const p={...s,...h};typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,e.push({type:o.name,name:d,attribute:p})})}),e}function sn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function vn(...t){return t.filter(e=>!!e).reduce((e,n)=>{const i={...e};return Object.entries(n).forEach(([r,s])=>{if(!i[r]){i[r]=s;return}if(r==="class"){const a=s?String(s).split(" "):[],l=i[r]?i[r].split(" "):[],u=a.filter(d=>!l.includes(d));i[r]=[...l,...u].join(" ")}else if(r==="style"){const a=s?s.split(";").map(d=>d.trim()).filter(Boolean):[],l=i[r]?i[r].split(";").map(d=>d.trim()).filter(Boolean):[],u=new Map;l.forEach(d=>{const[h,p]=d.split(":").map(g=>g.trim());u.set(h,p)}),a.forEach(d=>{const[h,p]=d.split(":").map(g=>g.trim());u.set(h,p)}),i[r]=Array.from(u.entries()).map(([d,h])=>`${d}: ${h}`).join("; ")}else i[r]=s}),i},{})}function sg(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,i)=>vn(n,i),{})}function FT(t){return typeof t=="function"}function Qe(t,e=void 0,...n){return FT(t)?e?t.bind(e)(...n):t(...n):t}function Zj(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Qj(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function zS(t,e){return"style"in t?t:{...t,getAttrs:n=>{const i=t.getAttrs?t.getAttrs(n):t.attrs;if(i===!1)return!1;const r=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):Qj(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...i,...r}}}}function $S(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Zj(n)?!1:n!=null))}function e3(t,e){var n;const i=BT(t),{nodeExtensions:r,markExtensions:s}=Wf(t),o=(n=r.find(u=>Me(u,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(r.map(u=>{const d=i.filter(S=>S.type===u.name),h={name:u.name,options:u.options,storage:u.storage,editor:e},p=t.reduce((S,x)=>{const E=Me(x,"extendNodeSchema",h);return{...S,...E?E(u):{}}},{}),g=$S({...p,content:Qe(Me(u,"content",h)),marks:Qe(Me(u,"marks",h)),group:Qe(Me(u,"group",h)),inline:Qe(Me(u,"inline",h)),atom:Qe(Me(u,"atom",h)),selectable:Qe(Me(u,"selectable",h)),draggable:Qe(Me(u,"draggable",h)),code:Qe(Me(u,"code",h)),whitespace:Qe(Me(u,"whitespace",h)),linebreakReplacement:Qe(Me(u,"linebreakReplacement",h)),defining:Qe(Me(u,"defining",h)),isolating:Qe(Me(u,"isolating",h)),attrs:Object.fromEntries(d.map(S=>{var x;return[S.name,{default:(x=S==null?void 0:S.attribute)===null||x===void 0?void 0:x.default}]}))}),m=Qe(Me(u,"parseHTML",h));m&&(g.parseDOM=m.map(S=>zS(S,d)));const b=Me(u,"renderHTML",h);b&&(g.toDOM=S=>b({node:S,HTMLAttributes:sg(S,d)}));const y=Me(u,"renderText",h);return y&&(g.toText=y),[u.name,g]})),l=Object.fromEntries(s.map(u=>{const d=i.filter(y=>y.type===u.name),h={name:u.name,options:u.options,storage:u.storage,editor:e},p=t.reduce((y,S)=>{const x=Me(S,"extendMarkSchema",h);return{...y,...x?x(u):{}}},{}),g=$S({...p,inclusive:Qe(Me(u,"inclusive",h)),excludes:Qe(Me(u,"excludes",h)),group:Qe(Me(u,"group",h)),spanning:Qe(Me(u,"spanning",h)),code:Qe(Me(u,"code",h)),attrs:Object.fromEntries(d.map(y=>{var S;return[y.name,{default:(S=y==null?void 0:y.attribute)===null||S===void 0?void 0:S.default}]}))}),m=Qe(Me(u,"parseHTML",h));m&&(g.parseDOM=m.map(y=>zS(y,d)));const b=Me(u,"renderHTML",h);return b&&(g.toDOM=y=>b({mark:y,HTMLAttributes:sg(y,d)})),[u.name,g]}));return new AC({topNode:o,nodes:a,marks:l})}function Qp(t,e){return e.nodes[t]||e.marks[t]||null}function BS(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function Tv(t,e){const n=ko.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}const t3=(t,e=500)=>{let n="";const i=t.parentOffset;return t.parent.nodesBetween(Math.max(0,i-e),i,(r,s,o,a)=>{var l,u;const d=((u=(l=r.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:r,pos:s,parent:o,index:a}))||r.textContent||"%leaf%";n+=r.isAtom&&!r.isText?d:d.slice(0,Math.max(0,i-s))}),n};function Mv(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Vf{constructor(e){this.find=e.find,this.handler=e.handler}}const n3=(t,e)=>{if(Mv(e))return e.exec(t);const n=e(t);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=t,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function ad(t){var e;const{editor:n,from:i,to:r,text:s,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const u=l.state.doc.resolve(i);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(p=>p.type.spec.code))return!1;let d=!1;const h=t3(u)+s;return o.forEach(p=>{if(d)return;const g=n3(h,p.find);if(!g)return;const m=l.state.tr,b=Ff({state:l.state,transaction:m}),y={from:i-(g[0].length-s.length),to:r},{commands:S,chain:x,can:E}=new Hf({editor:n,state:b});p.handler({state:b,range:y,match:g,commands:S,chain:x,can:E})===null||!m.steps.length||(m.setMeta(a,{transform:m,from:i,to:r,text:s}),l.dispatch(m),d=!0)}),d}function i3(t){const{editor:e,rules:n}=t,i=new Nn({state:{init(){return null},apply(r,s,o){const a=r.getMeta(i);if(a)return a;const l=r.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:d}=l;typeof d=="string"?d=d:d=Tv(me.from(d),o.schema);const{from:h}=l,p=h+d.length;ad({editor:e,from:h,to:p,text:d,rules:n,plugin:i})}),r.selectionSet||r.docChanged?null:s}},props:{handleTextInput(r,s,o,a){return ad({editor:e,from:s,to:o,text:a,rules:n,plugin:i})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:s}=r.state.selection;s&&ad({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(r,s){if(s.key!=="Enter")return!1;const{$cursor:o}=r.state.selection;return o?ad({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:i}):!1}},isInputRules:!0});return i}function r3(t){return Object.prototype.toString.call(t).slice(8,-1)}function ld(t){return r3(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function jf(t,e){const n={...t};return ld(t)&&ld(e)&&Object.keys(e).forEach(i=>{ld(e[i])&&ld(t[i])?n[i]=jf(t[i],e[i]):n[i]=e[i]}),n}class mr{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Qe(Me(this,"addOptions",{name:this.name}))),this.storage=Qe(Me(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new mr(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>jf(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new mr(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Qe(Me(n,"addOptions",{name:n.name})),n.storage=Qe(Me(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:i}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const o=r.marks();if(!!!o.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const l=o.find(u=>(u==null?void 0:u.type.name)===n.name);return l&&i.removeStoredMark(l),i.insertText(" ",r.pos),e.view.dispatch(i),!0}return!1}}function s3(t){return typeof t=="number"}class o3{constructor(e){this.find=e.find,this.handler=e.handler}}const a3=(t,e,n)=>{if(Mv(e))return[...t.matchAll(e)];const i=e(t,n);return i?i.map(r=>{const s=[r.text];return s.index=r.index,s.input=t,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(r.replaceWith)),s}):[]};function l3(t){const{editor:e,state:n,from:i,to:r,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:u,can:d}=new Hf({editor:e,state:n}),h=[];return n.doc.nodesBetween(i,r,(g,m)=>{if(!g.isTextblock||g.type.spec.code)return;const b=Math.max(i,m),y=Math.min(r,m+g.content.size),S=g.textBetween(b-m,y-m,void 0,"");a3(S,s.find,o).forEach(E=>{if(E.index===void 0)return;const M=b+E.index+1,A=M+E[0].length,z={from:n.tr.mapping.map(M),to:n.tr.mapping.map(A)},L=s.handler({state:n,range:z,match:E,commands:l,chain:u,can:d,pasteEvent:o,dropEvent:a});h.push(L)})}),h.every(g=>g!==null)}let cd=null;const c3=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function u3(t){const{editor:e,rules:n}=t;let i=null,r=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:d,from:h,to:p,rule:g,pasteEvt:m})=>{const b=d.tr,y=Ff({state:d,transaction:b});if(!(!l3({editor:e,state:y,from:Math.max(h-1,0),to:p.b-1,rule:g,pasteEvent:m,dropEvent:a})||!b.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,b}};return n.map(d=>new Nn({view(h){const p=m=>{var b;i=!((b=h.dom.parentElement)===null||b===void 0)&&b.contains(m.target)?h.dom.parentElement:null,i&&(cd=e)},g=()=>{cd&&(cd=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",g),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",g)}}},props:{handleDOMEvents:{drop:(h,p)=>{if(s=i===h.dom.parentElement,a=p,!s){const g=cd;g&&setTimeout(()=>{const m=g.state.selection;m&&g.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(h,p)=>{var g;const m=(g=p.clipboardData)===null||g===void 0?void 0:g.getData("text/html");return o=p,r=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(h,p,g)=>{const m=h[0],b=m.getMeta("uiEvent")==="paste"&&!r,y=m.getMeta("uiEvent")==="drop"&&!s,S=m.getMeta("applyPasteRules"),x=!!S;if(!b&&!y&&!x)return;if(x){let{text:A}=S;typeof A=="string"?A=A:A=Tv(me.from(A),g.schema);const{from:z}=S,L=z+A.length,R=c3(A);return l({rule:d,state:g,from:z,to:{b:L},pasteEvt:R})}const E=p.doc.content.findDiffStart(g.doc.content),M=p.doc.content.findDiffEnd(g.doc.content);if(!(!s3(E)||!M||E===M.b))return l({rule:d,state:g,from:E,to:M,pasteEvt:o})}}))}function d3(t){const e=t.filter((n,i)=>t.indexOf(n)!==i);return Array.from(new Set(e))}class fa{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=fa.resolve(e),this.schema=e3(this.extensions,n),this.setupExtensions()}static resolve(e){const n=fa.sort(fa.flatten(e)),i=d3(n.map(r=>r.name));return i.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${i.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const i={name:n.name,options:n.options,storage:n.storage},r=Me(n,"addExtensions",i);return r?[n,...this.flatten(r())]:n}).flat(10)}static sort(e){return e.sort((i,r)=>{const s=Me(i,"priority")||100,o=Me(r,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const i={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Qp(n.name,this.schema)},r=Me(n,"addCommands",i);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this,n=fa.sort([...this.extensions].reverse()),i=[],r=[],s=n.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:Qp(o.name,this.schema)},l=[],u=Me(o,"addKeyboardShortcuts",a);let d={};if(o.type==="mark"&&Me(o,"exitable",a)&&(d.ArrowRight=()=>mr.handleExit({editor:e,mark:o})),u){const b=Object.fromEntries(Object.entries(u()).map(([y,S])=>[y,()=>S({editor:e})]));d={...d,...b}}const h=Oj(d);l.push(h);const p=Me(o,"addInputRules",a);BS(o,e.options.enableInputRules)&&p&&i.push(...p());const g=Me(o,"addPasteRules",a);BS(o,e.options.enablePasteRules)&&g&&r.push(...g());const m=Me(o,"addProseMirrorPlugins",a);if(m){const b=m();l.push(...b)}return l}).flat();return[i3({editor:e,rules:i}),...u3({editor:e,rules:r}),...s]}get attributes(){return BT(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Wf(this.extensions);return Object.fromEntries(n.filter(i=>!!Me(i,"addNodeView")).map(i=>{const r=this.attributes.filter(l=>l.type===i.name),s={name:i.name,options:i.options,storage:i.storage,editor:e,type:sn(i.name,this.schema)},o=Me(i,"addNodeView",s);if(!o)return[];const a=(l,u,d,h,p)=>{const g=sg(l,r);return o()({node:l,view:u,getPos:d,decorations:h,innerDecorations:p,editor:e,extension:i,HTMLAttributes:g})};return[i.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const i={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Qp(e.name,this.schema)};e.type==="mark"&&(!((n=Qe(Me(e,"keepOnSplit",i)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const r=Me(e,"onBeforeCreate",i),s=Me(e,"onCreate",i),o=Me(e,"onUpdate",i),a=Me(e,"onSelectionUpdate",i),l=Me(e,"onTransaction",i),u=Me(e,"onFocus",i),d=Me(e,"onBlur",i),h=Me(e,"onDestroy",i);r&&this.editor.on("beforeCreate",r),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),d&&this.editor.on("blur",d),h&&this.editor.on("destroy",h)})}}class bn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Qe(Me(this,"addOptions",{name:this.name}))),this.storage=Qe(Me(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new bn(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>jf(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new bn({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Qe(Me(n,"addOptions",{name:n.name})),n.storage=Qe(Me(n,"addStorage",{name:n.name,options:n.options})),n}}function HT(t,e,n){const{from:i,to:r}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(i,r,(l,u,d,h)=>{var p;l.isBlock&&u>i&&(a+=s);const g=o==null?void 0:o[l.type.name];if(g)return d&&(a+=g({node:l,pos:u,parent:d,index:h,range:e})),!1;l.isText&&(a+=(p=l==null?void 0:l.text)===null||p===void 0?void 0:p.slice(Math.max(i,u)-u,r-u))}),a}function WT(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const f3=bn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Nn({key:new Xi("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:i,selection:r}=e,{ranges:s}=r,o=Math.min(...s.map(d=>d.$from.pos)),a=Math.max(...s.map(d=>d.$to.pos)),l=WT(n);return HT(i,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),h3=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),p3=(t=!1)=>({commands:e})=>e.setContent("",t),m3=()=>({state:t,tr:e,dispatch:n})=>{const{selection:i}=e,{ranges:r}=i;return n&&r.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:u,mapping:d}=e,h=u.resolve(d.map(l)),p=u.resolve(d.map(l+a.nodeSize)),g=h.blockRange(p);if(!g)return;const m=Ha(g);if(a.type.isTextblock){const{defaultType:b}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(g.start,b)}(m||m===0)&&e.lift(g,m)})}),!0},g3=t=>e=>t(e),v3=()=>({state:t,dispatch:e})=>DT(t,e),b3=(t,e)=>({editor:n,tr:i})=>{const{state:r}=n,s=r.doc.slice(t.from,t.to);i.deleteRange(t.from,t.to);const o=i.mapping.map(e);return i.insert(o,s.content),i.setSelection(new Fe(i.doc.resolve(o-1))),!0},y3=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,i=n.$anchor.node();if(i.content.size>0)return!1;const r=t.selection.$anchor;for(let s=r.depth;s>0;s-=1)if(r.node(s).type===i.type){if(e){const a=r.before(s),l=r.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1},w3=t=>({tr:e,state:n,dispatch:i})=>{const r=sn(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===r){if(i){const l=s.before(o),u=s.after(o);e.delete(l,u).scrollIntoView()}return!0}return!1},S3=t=>({tr:e,dispatch:n})=>{const{from:i,to:r}=t;return n&&e.delete(i,r),!0},x3=()=>({state:t,dispatch:e})=>wv(t,e),E3=()=>({commands:t})=>t.keyboardShortcut("Enter"),C3=()=>({state:t,dispatch:e})=>Nj(t,e);function tf(t,e,n={strict:!0}){const i=Object.keys(e);return i.length?i.every(r=>n.strict?e[r]===t[r]:Mv(e[r])?e[r].test(t[r]):e[r]===t[r]):!0}function VT(t,e,n={}){return t.find(i=>i.type===e&&tf(Object.fromEntries(Object.keys(n).map(r=>[r,i.attrs[r]])),n))}function FS(t,e,n={}){return!!VT(t,e,n)}function _v(t,e,n){var i;if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(d=>d.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(d=>d.type===e)||(n=n||((i=r.node.marks[0])===null||i===void 0?void 0:i.attrs),!VT([...r.node.marks],e,n)))return;let o=r.index,a=t.start()+r.offset,l=o+1,u=a+r.node.nodeSize;for(;o>0&&FS([...t.parent.child(o-1).marks],e,n);)o-=1,a-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&FS([...t.parent.child(l).marks],e,n);)u+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:u}}function Fs(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const T3=(t,e={})=>({tr:n,state:i,dispatch:r})=>{const s=Fs(t,i.schema),{doc:o,selection:a}=n,{$from:l,from:u,to:d}=a;if(r){const h=_v(l,s,e);if(h&&h.from<=u&&h.to>=d){const p=Fe.create(o,h.from,h.to);n.setSelection(p)}}return!0},M3=t=>e=>{const n=typeof t=="function"?t(e):t;for(let i=0;i<n.length;i+=1)if(n[i](e))return!0;return!1};function jT(t){return t instanceof Fe}function so(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function UT(t,e=null){if(!e)return null;const n=Xe.atStart(t),i=Xe.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return i;const r=n.from,s=i.to;return e==="all"?Fe.create(t,so(0,r,s),so(t.content.size,r,s)):Fe.create(t,so(e,r,s),so(e,r,s))}function _3(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Av(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const A3=(t=null,e={})=>({editor:n,view:i,tr:r,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(Av()||_3())&&i.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(i.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!jT(n.state.selection))return o(),!0;const a=UT(r.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||r.setSelection(a),l&&r.storedMarks&&r.setStoredMarks(r.storedMarks),o()),!0},k3=(t,e)=>n=>t.every((i,r)=>e(i,{...n,index:r})),O3=(t,e)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),YT=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const i=e[n];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?t.removeChild(i):i.nodeType===1&&YT(i)}return t};function ud(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return YT(n)}function _c(t,e,n){if(t instanceof _s||t instanceof me)return t;n={slice:!0,parseOptions:{},...n};const i=typeof t=="object"&&t!==null,r=typeof t=="string";if(i)try{if(Array.isArray(t)&&t.length>0)return me.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),_c("",e,n)}if(r){if(n.errorOnInvalidContent){let o=!1,a="";const l=new AC({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(o=!0,a=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?As.fromSchema(l).parseSlice(ud(t),n.parseOptions):As.fromSchema(l).parse(ud(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=As.fromSchema(e);return n.slice?s.parseSlice(ud(t),n.parseOptions).content:s.parse(ud(t),n.parseOptions)}return _c("",e,n)}function R3(t,e,n){const i=t.steps.length-1;if(i<e)return;const r=t.steps[i];if(!(r instanceof Jt||r instanceof en))return;const s=t.mapping.maps[i];let o=0;s.forEach((a,l,u,d)=>{o===0&&(o=d)}),t.setSelection(Xe.near(t.doc.resolve(o),n))}const P3=t=>!("type"in t),I3=(t,e,n)=>({tr:i,dispatch:r,editor:s})=>{var o;if(r){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=y=>{s.emit("contentError",{editor:s,error:y,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{_c(e,s.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(y){l(y)}try{a=_c(e,s.schema,{parseOptions:u,errorOnInvalidContent:(o=n.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(y){return l(y),!1}let{from:d,to:h}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},p=!0,g=!0;if((P3(a)?a:[a]).forEach(y=>{y.check(),p=p?y.isText&&y.marks.length===0:!1,g=g?y.isBlock:!1}),d===h&&g){const{parent:y}=i.doc.resolve(d);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(d-=1,h+=1)}let b;if(p){if(Array.isArray(e))b=e.map(y=>y.text||"").join("");else if(e instanceof me){let y="";e.forEach(S=>{S.text&&(y+=S.text)}),b=y}else typeof e=="object"&&e&&e.text?b=e.text:b=e;i.insertText(b,d,h)}else b=a,i.replaceWith(d,h,b);n.updateSelection&&R3(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:d,text:b}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:d,text:b})}return!0},L3=()=>({state:t,dispatch:e})=>Ij(t,e),D3=()=>({state:t,dispatch:e})=>Lj(t,e),N3=()=>({state:t,dispatch:e})=>AT(t,e),z3=()=>({state:t,dispatch:e})=>PT(t,e),$3=()=>({state:t,dispatch:e,tr:n})=>{try{const i=Lf(t.doc,t.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},B3=()=>({state:t,dispatch:e,tr:n})=>{try{const i=Lf(t.doc,t.selection.$from.pos,1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},F3=()=>({state:t,dispatch:e})=>Rj(t,e),H3=()=>({state:t,dispatch:e})=>Pj(t,e);function XT(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function W3(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let i,r,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Av()||XT()?o=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return i&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const V3=t=>({editor:e,view:n,tr:i,dispatch:r})=>{const s=W3(t).split(/-(?!$)/),o=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,a))});return l==null||l.steps.forEach(u=>{const d=u.map(i.mapping);d&&r&&i.maybeStep(d)}),!0};function Ac(t,e,n={}){const{from:i,to:r,empty:s}=t.selection,o=e?sn(e,t.schema):null,a=[];t.doc.nodesBetween(i,r,(h,p)=>{if(h.isText)return;const g=Math.max(i,p),m=Math.min(r,p+h.nodeSize);a.push({node:h,from:g,to:m})});const l=r-i,u=a.filter(h=>o?o.name===h.node.type.name:!0).filter(h=>tf(h.node.attrs,n,{strict:!1}));return s?!!u.length:u.reduce((h,p)=>h+p.to-p.from,0)>=l}const j3=(t,e={})=>({state:n,dispatch:i})=>{const r=sn(t,n.schema);return Ac(n,r,e)?Dj(n,i):!1},U3=()=>({state:t,dispatch:e})=>NT(t,e),Y3=t=>({state:e,dispatch:n})=>{const i=sn(t,e.schema);return Xj(i)(e,n)},X3=()=>({state:t,dispatch:e})=>LT(t,e);function Uf(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function HS(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((i,r)=>(n.includes(r)||(i[r]=t[r]),i),{})}const q3=(t,e)=>({tr:n,state:i,dispatch:r})=>{let s=null,o=null;const a=Uf(typeof t=="string"?t:t.name,i.schema);return a?(a==="node"&&(s=sn(t,i.schema)),a==="mark"&&(o=Fs(t,i.schema)),r&&n.selection.ranges.forEach(l=>{i.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,d)=>{s&&s===u.type&&n.setNodeMarkup(d,void 0,HS(u.attrs,e)),o&&u.marks.length&&u.marks.forEach(h=>{o===h.type&&n.addMark(d,d+u.nodeSize,o.create(HS(h.attrs,e)))})})}),!0):!1},G3=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),K3=()=>({tr:t,dispatch:e})=>{if(e){const n=new fi(t.doc);t.setSelection(n)}return!0},J3=()=>({state:t,dispatch:e})=>OT(t,e),Z3=()=>({state:t,dispatch:e})=>IT(t,e),Q3=()=>({state:t,dispatch:e})=>Bj(t,e),eU=()=>({state:t,dispatch:e})=>Wj(t,e),tU=()=>({state:t,dispatch:e})=>Hj(t,e);function og(t,e,n={},i={}){return _c(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}const nU=(t,e=!1,n={},i={})=>({editor:r,tr:s,dispatch:o,commands:a})=>{var l,u;const{doc:d}=s;if(n.preserveWhitespace!=="full"){const h=og(t,r.schema,n,{errorOnInvalidContent:(l=i.errorOnInvalidContent)!==null&&l!==void 0?l:r.options.enableContentCheck});return o&&s.replaceWith(0,d.content.size,h).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:d.content.size},t,{parseOptions:n,errorOnInvalidContent:(u=i.errorOnInvalidContent)!==null&&u!==void 0?u:r.options.enableContentCheck})};function qT(t,e){const n=Fs(e,t.schema),{from:i,to:r,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(i,r,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function iU(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function rU(t,e){for(let n=t.depth;n>0;n-=1){const i=t.node(n);if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}}function kv(t){return e=>rU(e.$from,t)}function sU(t,e){const n={from:0,to:t.content.size};return HT(t,n,e)}function oU(t,e){const n=sn(e,t.schema),{from:i,to:r}=t.selection,s=[];t.doc.nodesBetween(i,r,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function aU(t,e){const n=Uf(typeof e=="string"?e:e.name,t.schema);return n==="node"?oU(t,e):n==="mark"?qT(t,e):{}}function GT(t,e,n){const i=[];return t===e?n.resolve(t).marks().forEach(r=>{const s=n.resolve(t),o=_v(s,r.type);o&&i.push({mark:r,...o})}):n.nodesBetween(t,e,(r,s)=>{!r||(r==null?void 0:r.nodeSize)===void 0||i.push(...r.marks.map(o=>({from:s,to:s+r.nodeSize,mark:o})))}),i}function Ed(t,e,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const r=t.find(s=>s.type===e&&s.name===i);return r?r.attribute.keepOnSplit:!1}))}function ag(t,e,n={}){const{empty:i,ranges:r}=t.selection,s=e?Fs(e,t.schema):null;if(i)return!!(t.storedMarks||t.selection.$from.marks()).filter(h=>s?s.name===h.type.name:!0).find(h=>tf(h.attrs,n,{strict:!1}));let o=0;const a=[];if(r.forEach(({$from:h,$to:p})=>{const g=h.pos,m=p.pos;t.doc.nodesBetween(g,m,(b,y)=>{if(!b.isText&&!b.marks.length)return;const S=Math.max(g,y),x=Math.min(m,y+b.nodeSize),E=x-S;o+=E,a.push(...b.marks.map(M=>({mark:M,from:S,to:x})))})}),o===0)return!1;const l=a.filter(h=>s?s.name===h.mark.type.name:!0).filter(h=>tf(h.mark.attrs,n,{strict:!1})).reduce((h,p)=>h+p.to-p.from,0),u=a.filter(h=>s?h.mark.type!==s&&h.mark.type.excludes(s):!0).reduce((h,p)=>h+p.to-p.from,0);return(l>0?l+u:l)>=o}function lU(t,e,n={}){if(!e)return Ac(t,null,n)||ag(t,null,n);const i=Uf(e,t.schema);return i==="node"?Ac(t,e,n):i==="mark"?ag(t,e,n):!1}function WS(t,e){const{nodeExtensions:n}=Wf(e),i=n.find(o=>o.name===t);if(!i)return!1;const r={name:i.name,options:i.options,storage:i.storage},s=Qe(Me(i,"group",r));return typeof s!="string"?!1:s.split(" ").includes("list")}function Yf(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((i=t.text)!==null&&i!==void 0?i:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let r=!0;return t.content.forEach(s=>{r!==!1&&(Yf(s,{ignoreWhitespace:n,checkChildren:e})||(r=!1))}),r}return!1}function cU(t){return t instanceof De}function uU(t,e,n){var i;const{selection:r}=e;let s=null;if(jT(r)&&(s=r.$cursor),s){const a=(i=t.storedMarks)!==null&&i!==void 0?i:s.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:o}=r;return o.some(({$from:a,$to:l})=>{let u=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(d,h,p)=>{if(u)return!1;if(d.isInline){const g=!p||p.type.allowsMarkType(n),m=!!n.isInSet(d.marks)||!d.marks.some(b=>b.type.excludes(n));u=g&&m}return!u}),u})}const dU=(t,e={})=>({tr:n,state:i,dispatch:r})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=Fs(t,i.schema);if(r)if(o){const u=qT(i,l);n.addStoredMark(l.create({...u,...e}))}else a.forEach(u=>{const d=u.$from.pos,h=u.$to.pos;i.doc.nodesBetween(d,h,(p,g)=>{const m=Math.max(g,d),b=Math.min(g+p.nodeSize,h);p.marks.find(S=>S.type===l)?p.marks.forEach(S=>{l===S.type&&n.addMark(m,b,l.create({...S.attrs,...e}))}):n.addMark(m,b,l.create(e))})});return uU(i,n,l)},fU=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),hU=(t,e={})=>({state:n,dispatch:i,chain:r})=>{const s=sn(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),s.isTextblock?r().command(({commands:a})=>NS(s,{...o,...e})(n)?!0:a.clearNodes()).command(({state:a})=>NS(s,{...o,...e})(a,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},pU=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,r=so(t,0,i.content.size),s=De.create(i,r);e.setSelection(s)}return!0},mU=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,{from:r,to:s}=typeof t=="number"?{from:t,to:t}:t,o=Fe.atStart(i).from,a=Fe.atEnd(i).to,l=so(r,o,a),u=so(s,o,a),d=Fe.create(i,l,u);e.setSelection(d)}return!0},gU=t=>({state:e,dispatch:n})=>{const i=sn(t,e.schema);return Kj(i)(e,n)};function VS(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const i=n.filter(r=>e==null?void 0:e.includes(r.type.name));t.tr.ensureMarks(i)}}const vU=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:i,editor:r})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,u=r.extensionManager.attributes,d=Ed(u,a.node().type.name,a.node().attrs);if(s instanceof De&&s.node.isBlock)return!a.parentOffset||!Fr(o,a.pos)?!1:(i&&(t&&VS(n,r.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const h=l.parentOffset===l.parent.content.size,p=a.depth===0?void 0:iU(a.node(-1).contentMatchAt(a.indexAfter(-1)));let g=h&&p?[{type:p,attrs:d}]:void 0,m=Fr(e.doc,e.mapping.map(a.pos),1,g);if(!g&&!m&&Fr(e.doc,e.mapping.map(a.pos),1,p?[{type:p}]:void 0)&&(m=!0,g=p?[{type:p,attrs:d}]:void 0),i){if(m&&(s instanceof Fe&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,g),p&&!h&&!a.parentOffset&&a.parent.type!==p)){const b=e.mapping.map(a.before()),y=e.doc.resolve(b);a.node(-1).canReplaceWith(y.index(),y.index()+1,p)&&e.setNodeMarkup(e.mapping.map(a.before()),p)}t&&VS(n,r.extensionManager.splittableMarks),e.scrollIntoView()}return m},bU=(t,e={})=>({tr:n,state:i,dispatch:r,editor:s})=>{var o;const a=sn(t,i.schema),{$from:l,$to:u}=i.selection,d=i.selection.node;if(d&&d.isBlock||l.depth<2||!l.sameParent(u))return!1;const h=l.node(-1);if(h.type!==a)return!1;const p=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let S=me.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let R=l.depth-x;R>=l.depth-3;R-=1)S=me.from(l.node(R).copy(S));const E=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,M={...Ed(p,l.node().type.name,l.node().attrs),...e},A=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(M))||void 0;S=S.append(me.from(a.createAndFill(null,A)||void 0));const z=l.before(l.depth-(x-1));n.replace(z,l.after(-E),new Se(S,4-x,0));let L=-1;n.doc.nodesBetween(z,n.doc.content.size,(R,k)=>{if(L>-1)return!1;R.isTextblock&&R.content.size===0&&(L=k+1)}),L>-1&&n.setSelection(Fe.near(n.doc.resolve(L))),n.scrollIntoView()}return!0}const g=u.pos===l.end()?h.contentMatchAt(0).defaultType:null,m={...Ed(p,h.type.name,h.attrs),...e},b={...Ed(p,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,u.pos);const y=g?[{type:a,attrs:m},{type:g,attrs:b}]:[{type:a,attrs:m}];if(!Fr(n.doc,l.pos,2))return!1;if(r){const{selection:S,storedMarks:x}=i,{splittableMarks:E}=s.extensionManager,M=x||S.$to.parentOffset&&S.$from.marks();if(n.split(l.pos,2,y).scrollIntoView(),!M||!r)return!0;const A=M.filter(z=>E.includes(z.type.name));n.ensureMarks(A)}return!0},em=(t,e)=>{const n=kv(o=>o.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const r=t.doc.nodeAt(i);return n.node.type===(r==null?void 0:r.type)&&$s(t.doc,n.pos)&&t.join(n.pos),!0},tm=(t,e)=>{const n=kv(o=>o.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const r=t.doc.nodeAt(i);return n.node.type===(r==null?void 0:r.type)&&$s(t.doc,i)&&t.join(i),!0},yU=(t,e,n,i={})=>({editor:r,tr:s,state:o,dispatch:a,chain:l,commands:u,can:d})=>{const{extensions:h,splittableMarks:p}=r.extensionManager,g=sn(t,o.schema),m=sn(e,o.schema),{selection:b,storedMarks:y}=o,{$from:S,$to:x}=b,E=S.blockRange(x),M=y||b.$to.parentOffset&&b.$from.marks();if(!E)return!1;const A=kv(z=>WS(z.type.name,h))(b);if(E.depth>=1&&A&&E.depth-A.depth<=1){if(A.node.type===g)return u.liftListItem(m);if(WS(A.node.type.name,h)&&g.validContent(A.node.content)&&a)return l().command(()=>(s.setNodeMarkup(A.pos,g),!0)).command(()=>em(s,g)).command(()=>tm(s,g)).run()}return!n||!M||!a?l().command(()=>d().wrapInList(g,i)?!0:u.clearNodes()).wrapInList(g,i).command(()=>em(s,g)).command(()=>tm(s,g)).run():l().command(()=>{const z=d().wrapInList(g,i),L=M.filter(R=>p.includes(R.type.name));return s.ensureMarks(L),z?!0:u.clearNodes()}).wrapInList(g,i).command(()=>em(s,g)).command(()=>tm(s,g)).run()},wU=(t,e={},n={})=>({state:i,commands:r})=>{const{extendEmptyMarkRange:s=!1}=n,o=Fs(t,i.schema);return ag(i,o,e)?r.unsetMark(o,{extendEmptyMarkRange:s}):r.setMark(o,e)},SU=(t,e,n={})=>({state:i,commands:r})=>{const s=sn(t,i.schema),o=sn(e,i.schema),a=Ac(i,s,n);let l;return i.selection.$anchor.sameParent(i.selection.$head)&&(l=i.selection.$anchor.parent.attrs),a?r.setNode(o,l):r.setNode(s,{...l,...n})},xU=(t,e={})=>({state:n,commands:i})=>{const r=sn(t,n.schema);return Ac(n,r,e)?i.lift(r):i.wrapIn(r,e)},EU=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let i=0;i<n.length;i+=1){const r=n[i];let s;if(r.spec.isInputRules&&(s=r.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},CU=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:i,ranges:r}=n;return i||e&&r.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},TU=(t,e={})=>({tr:n,state:i,dispatch:r})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=Fs(t,i.schema),{$from:u,empty:d,ranges:h}=a;if(!r)return!0;if(d&&o){let{from:p,to:g}=a;const m=(s=u.marks().find(y=>y.type===l))===null||s===void 0?void 0:s.attrs,b=_v(u,l,m);b&&(p=b.from,g=b.to),n.removeMark(p,g,l)}else h.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,l)});return n.removeStoredMark(l),!0},MU=(t,e={})=>({tr:n,state:i,dispatch:r})=>{let s=null,o=null;const a=Uf(typeof t=="string"?t:t.name,i.schema);return a?(a==="node"&&(s=sn(t,i.schema)),a==="mark"&&(o=Fs(t,i.schema)),r&&n.selection.ranges.forEach(l=>{const u=l.$from.pos,d=l.$to.pos;let h,p,g,m;n.selection.empty?i.doc.nodesBetween(u,d,(b,y)=>{s&&s===b.type&&(g=Math.max(y,u),m=Math.min(y+b.nodeSize,d),h=y,p=b)}):i.doc.nodesBetween(u,d,(b,y)=>{y<u&&s&&s===b.type&&(g=Math.max(y,u),m=Math.min(y+b.nodeSize,d),h=y,p=b),y>=u&&y<=d&&(s&&s===b.type&&n.setNodeMarkup(y,void 0,{...b.attrs,...e}),o&&b.marks.length&&b.marks.forEach(S=>{if(o===S.type){const x=Math.max(y,u),E=Math.min(y+b.nodeSize,d);n.addMark(x,E,o.create({...S.attrs,...e}))}}))}),p&&(h!==void 0&&n.setNodeMarkup(h,void 0,{...p.attrs,...e}),o&&p.marks.length&&p.marks.forEach(b=>{o===b.type&&n.addMark(g,m,o.create({...b.attrs,...e}))}))}),!0):!1},_U=(t,e={})=>({state:n,dispatch:i})=>{const r=sn(t,n.schema);return Vj(r,e)(n,i)},AU=(t,e={})=>({state:n,dispatch:i})=>{const r=sn(t,n.schema);return jj(r,e)(n,i)};var kU=Object.freeze({__proto__:null,blur:h3,clearContent:p3,clearNodes:m3,command:g3,createParagraphNear:v3,cut:b3,deleteCurrentNode:y3,deleteNode:w3,deleteRange:S3,deleteSelection:x3,enter:E3,exitCode:C3,extendMarkRange:T3,first:M3,focus:A3,forEach:k3,insertContent:O3,insertContentAt:I3,joinBackward:N3,joinDown:D3,joinForward:z3,joinItemBackward:$3,joinItemForward:B3,joinTextblockBackward:F3,joinTextblockForward:H3,joinUp:L3,keyboardShortcut:V3,lift:j3,liftEmptyBlock:U3,liftListItem:Y3,newlineInCode:X3,resetAttributes:q3,scrollIntoView:G3,selectAll:K3,selectNodeBackward:J3,selectNodeForward:Z3,selectParentNode:Q3,selectTextblockEnd:eU,selectTextblockStart:tU,setContent:nU,setMark:dU,setMeta:fU,setNode:hU,setNodeSelection:pU,setTextSelection:mU,sinkListItem:gU,splitBlock:vU,splitListItem:bU,toggleList:yU,toggleMark:wU,toggleNode:SU,toggleWrap:xU,undoInputRule:EU,unsetAllMarks:CU,unsetMark:TU,updateAttributes:MU,wrapIn:_U,wrapInList:AU});const OU=bn.create({name:"commands",addCommands(){return{...kU}}}),RU=bn.create({name:"drop",addProseMirrorPlugins(){return[new Nn({key:new Xi("tiptapDrop"),props:{handleDrop:(t,e,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:i})}}})]}}),PU=bn.create({name:"editable",addProseMirrorPlugins(){return[new Nn({key:new Xi("editable"),props:{editable:()=>this.editor.options.editable}})]}}),IU=new Xi("focusEvents"),LU=bn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Nn({key:IU,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const i=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,n)=>{t.isFocused=!1;const i=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),DU=bn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:u}=a,{empty:d,$anchor:h}=l,{pos:p,parent:g}=h,m=h.parent.isTextblock&&p>0?a.doc.resolve(p-1):h,b=m.parent.type.spec.isolating,y=h.pos-h.parentOffset,S=b&&m.parent.childCount===1?y===h.pos:Xe.atStart(u).from===p;return!d||!g.type.isTextblock||g.textContent.length||!S||S&&h.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...i},s={...i,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Av()||XT()?s:r},addProseMirrorPlugins(){return[new Nn({key:new Xi("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(b=>b.getMeta("composition")))return;const i=t.some(b=>b.docChanged)&&!e.doc.eq(n.doc),r=t.some(b=>b.getMeta("preventClearDocument"));if(!i||r)return;const{empty:s,from:o,to:a}=e.selection,l=Xe.atStart(e.doc).from,u=Xe.atEnd(e.doc).to;if(s||!(o===l&&a===u)||!Yf(n.doc))return;const p=n.tr,g=Ff({state:n,transaction:p}),{commands:m}=new Hf({editor:this.editor,state:g});if(m.clearNodes(),!!p.steps.length)return p}})]}}),NU=bn.create({name:"paste",addProseMirrorPlugins(){return[new Nn({key:new Xi("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),zU=bn.create({name:"tabindex",addProseMirrorPlugins(){return[new Nn({key:new Xi("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class no{get name(){return this.node.type.name}constructor(e,n,i=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=e,this.editor=n,this.currentNode=r}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:n,to:i},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new no(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new no(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new no(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,i)=>{const r=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+i+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!r&&a.depth<=this.depth)return;const l=new no(a,this.editor,r,r?n:null);r&&(l.actualDepth=this.depth+1),e.push(new no(a,this.editor,r,r?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let i=null,r=this.parent;for(;r&&!i;){if(r.node.type.name===e)if(Object.keys(n).length>0){const s=r.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==n[l])break}}else i=r;r=r.parent}return i}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},i=!1){let r=[];if(!this.children||this.children.length===0)return r;const s=Object.keys(n);return this.children.forEach(o=>{i&&r.length>0||(o.node.type.name===e&&s.every(l=>n[l]===o.node.attrs[l])&&r.push(o),!(i&&r.length>0)&&(r=r.concat(o.querySelectorAll(e,n,i))))}),r}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const $U=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function BU(t,e,n){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}let FU=class extends Jj{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:i,moved:r})=>this.options.onDrop(n,i,r)),this.on("paste",({event:n,slice:i})=>this.options.onPaste(n,i)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=BU($U,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const i=FT(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:i});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let i=n;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;i=i.filter(a=>!a.key.startsWith(o))}),n.length===i.length)return;const r=this.state.reconfigure({plugins:i});return this.view.updateState(r),r}createExtensionManager(){var e,n;const r=[...this.options.enableCoreExtensions?[PU,f3.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),OU,LU,DU,zU,RU,NU].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new fa(r,this)}createCommandManager(){this.commandManager=new Hf({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=og(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),n=og(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const i=UT(n,this.options.autofocus);this.view=new TT(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:da.create({doc:n,selection:i||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const n=this.state.apply(e),i=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),s=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return aU(this.state,e)}isActive(e,n){const i=typeof e=="string"?e:null,r=typeof e=="string"?n:e;return lU(this.state,i,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Tv(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:i={}}=e||{};return sU(this.state.doc,{blockSeparator:n,textSerializers:{...WT(this.schema),...i}})}get isEmpty(){return Yf(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelector(e,n))||null}$nodes(e,n){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new no(n,this)}get $doc(){return this.$pos(0)}};function Ra(t){return new Vf({find:t.find,handler:({state:e,range:n,match:i})=>{const r=Qe(t.getAttributes,void 0,i);if(r===!1||r===null)return null;const{tr:s}=e,o=i[i.length-1],a=i[0];if(o){const l=a.search(/\S/),u=n.from+a.indexOf(o),d=u+o.length;if(GT(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(b=>b===t.type&&b!==g.mark.type)).filter(g=>g.to>u).length)return null;d<n.to&&s.delete(d,n.to),u>n.from&&s.delete(n.from+l,u);const p=n.from+l+o.length;s.addMark(n.from+l,p,t.type.create(r||{})),s.removeStoredMark(t.type)}}})}function HU(t){return new Vf({find:t.find,handler:({state:e,range:n,match:i})=>{const r=Qe(t.getAttributes,void 0,i)||{},{tr:s}=e,o=n.from;let a=n.to;const l=t.type.create(r);if(i[1]){const u=i[0].lastIndexOf(i[1]);let d=o+u;d>a?d=a:a=d+i[1].length;const h=i[0][i[0].length-1];s.insertText(h,o+i[0].length-1),s.replaceWith(d,a,l)}else if(i[0]){const u=t.type.isInline?o:o-1;s.insert(u,t.type.create(r)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function lg(t){return new Vf({find:t.find,handler:({state:e,range:n,match:i})=>{const r=e.doc.resolve(n.from),s=Qe(t.getAttributes,void 0,i)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function kc(t){return new Vf({find:t.find,handler:({state:e,range:n,match:i,chain:r})=>{const s=Qe(t.getAttributes,void 0,i)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),u=l&&cv(l,t.type,s);if(!u)return null;if(o.wrap(l,u),t.keepMarks&&t.editor){const{selection:h,storedMarks:p}=e,{splittableMarks:g}=t.editor.extensionManager,m=p||h.$to.parentOffset&&h.$from.marks();if(m){const b=m.filter(y=>g.includes(y.type.name));o.ensureMarks(b)}}if(t.keepAttributes){const h=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(h,s).run()}const d=o.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&$s(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(i,d))&&o.join(n.from-1)}})}let qi=class cg{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Qe(Me(this,"addOptions",{name:this.name}))),this.storage=Qe(Me(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new cg(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>jf(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new cg(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Qe(Me(n,"addOptions",{name:n.name})),n.storage=Qe(Me(n,"addStorage",{name:n.name,options:n.options})),n}};function Pa(t){return new o3({find:t.find,handler:({state:e,range:n,match:i,pasteEvent:r})=>{const s=Qe(t.getAttributes,void 0,i,r);if(s===!1||s===null)return null;const{tr:o}=e,a=i[i.length-1],l=i[0];let u=n.to;if(a){const d=l.search(/\S/),h=n.from+l.indexOf(a),p=h+a.length;if(GT(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(y=>y===t.type&&y!==m.mark.type)).filter(m=>m.to>h).length)return null;p<n.to&&o.delete(p,n.to),h>n.from&&o.delete(n.from+d,h),u=n.from+d+a.length,o.addMark(n.from+d,u,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}function WU(t,e){const{selection:n}=t,{$from:i}=n;if(n instanceof De){const s=i.index();return i.parent.canReplaceWith(s,s+1,e)}let r=i.depth;for(;r>=0;){const s=i.index(r);if(i.node(r).contentMatchAt(s).matchType(e))return!0;r-=1}return!1}const VU=t=>{if(!t.children.length)return;const e=t.querySelectorAll("span");e&&e.forEach(n=>{var i,r;const s=n.getAttribute("style"),o=(r=(i=n.parentElement)===null||i===void 0?void 0:i.closest("span"))===null||r===void 0?void 0:r.getAttribute("style");n.setAttribute("style",`${o};${s}`)})},jS=mr.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&VU(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",vn(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,i)=>{if(n.isTextblock)return!0;n.marks.filter(r=>r.type===this.type).some(r=>Object.values(r.attrs).some(s=>!!s))||t.removeMark(i,i+n.nodeSize,this.type)}),!0}}}}),jU=bn.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),ug=qi.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",vn(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),UU=mr.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",vn(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),YU=bn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Nn({key:new Xi("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=e,r=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((o,a)=>{const l=i>=a&&i<=a+o.nodeSize,u=!o.isLeaf&&Yf(o);if((l||!this.options.showOnlyCurrent)&&u){const d=[this.options.emptyNodeClass];s&&d.push(this.options.emptyEditorClass);const h=ci.node(a,a+o.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:l}):this.options.placeholder});r.push(h)}return this.options.includeChildren}),Wt.create(t,r)}}})]}}),XU=/^\s*>\s$/,qU=qi.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",vn(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[kc({find:XU,type:this.type})]}}),GU=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,KU=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,JU=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,ZU=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,QU=mr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",vn(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ra({find:GU,type:this.type}),Ra({find:JU,type:this.type})]},addPasteRules(){return[Pa({find:KU,type:this.type}),Pa({find:ZU,type:this.type})]}}),eY="listItem",US="textStyle",YS=/^\s*([-+*])\s$/,tY=qi.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",vn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(eY,this.editor.getAttributes(US)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=kc({find:YS,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=kc({find:YS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(US),editor:this.editor})),[t]}}),nY=/(^|[^`])`([^`]+)`(?!`)/,iY=/(^|[^`])`([^`]+)`(?!`)/g,rY=mr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",vn(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ra({find:nY,type:this.type})]},addPasteRules(){return[Pa({find:iY,type:this.type})]}}),sY=/^```([a-z]+)?[\s\n]$/,oY=/^~~~([a-z]+)?[\s\n]$/,aY=qi.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",vn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:i,empty:r}=n;if(!r||i.parent.type!==this.type)return!1;const s=i.parentOffset===i.parent.nodeSize-2,o=i.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:i}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const a=r.after();return a===void 0?!1:i.nodeAt(a)?t.commands.command(({tr:u})=>(u.setSelection(Xe.near(i.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[lg({find:sY,type:this.type,getAttributes:t=>({language:t[1]})}),lg({find:oY,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Nn({key:new Xi("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),r=i?JSON.parse(i):void 0,s=r==null?void 0:r.mode;if(!n||!s)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(Fe.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),lY=qi.create({name:"doc",topNode:!0,content:"block+"});function cY(t={}){return new Nn({view(e){return new uY(e,t)}})}class uY{constructor(e,n){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=n.width)!==null&&i!==void 0?i:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let s=o=>{this[r](o)};return e.dom.addEventListener(r,s),{name:r,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,i,r=this.editorView.dom,s=r.getBoundingClientRect(),o=s.width/r.offsetWidth,a=s.height/r.offsetHeight;if(n){let h=e.nodeBefore,p=e.nodeAfter;if(h||p){let g=this.editorView.nodeDOM(this.cursorPos-(h?h.nodeSize:0));if(g){let m=g.getBoundingClientRect(),b=h?m.bottom:m.top;h&&p&&(b=(b+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let y=this.width/2*a;i={left:m.left,right:m.right,top:b-y,bottom:b+y}}}}if(!i){let h=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*o;i={left:h.left-p,right:h.left+p,top:h.top,bottom:h.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,d;if(!l||l==document.body&&getComputedStyle(l).position=="static")u=-pageXOffset,d=-pageYOffset;else{let h=l.getBoundingClientRect(),p=h.width/l.offsetWidth,g=h.height/l.offsetHeight;u=h.left-l.scrollLeft*p,d=h.top-l.scrollTop*g}this.element.style.left=(i.left-u)/o+"px",this.element.style.top=(i.top-d)/a+"px",this.element.style.width=(i.right-i.left)/o+"px",this.element.style.height=(i.bottom-i.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=i&&i.type.spec.disableDropCursor,s=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=BC(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const dY=bn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[cY(this.options)]}});class Rt extends Xe{constructor(e){super(e,e)}map(e,n){let i=e.resolve(n.map(this.head));return Rt.valid(i)?new Rt(i):Xe.near(i)}content(){return Se.empty}eq(e){return e instanceof Rt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Rt(e.resolve(n.pos))}getBookmark(){return new Ov(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!fY(e)||!hY(e))return!1;let i=n.type.spec.allowGapCursor;if(i!=null)return i;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,i=!1){e:for(;;){if(!i&&Rt.valid(e))return e;let r=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;r+=n;let l=e.doc.resolve(r);if(Rt.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!De.isSelectable(s)){e=e.doc.resolve(r+s.nodeSize*n),i=!1;continue e}break}s=o,r+=n;let a=e.doc.resolve(r);if(Rt.valid(a))return a}return null}}}Rt.prototype.visible=!1;Rt.findFrom=Rt.findGapCursorFrom;Xe.jsonID("gapcursor",Rt);class Ov{constructor(e){this.pos=e}map(e){return new Ov(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Rt.valid(n)?new Rt(n):Xe.near(n)}}function fY(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),i=t.node(e);if(n==0){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function hY(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),i=t.node(e);if(n==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function pY(){return new Nn({props:{decorations:bY,createSelectionBetween(t,e,n){return e.pos==n.pos&&Rt.valid(n)?new Rt(n):null},handleClick:gY,handleKeyDown:mY,handleDOMEvents:{beforeinput:vY}}})}const mY=MT({ArrowLeft:dd("horiz",-1),ArrowRight:dd("horiz",1),ArrowUp:dd("vert",-1),ArrowDown:dd("vert",1)});function dd(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,r,s){let o=i.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof Fe){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=i.doc.resolve(e>0?a.after():a.before())}let u=Rt.findGapCursorFrom(a,e,l);return u?(r&&r(i.tr.setSelection(new Rt(u))),!0):!1}}function gY(t,e,n){if(!t||!t.editable)return!1;let i=t.state.doc.resolve(e);if(!Rt.valid(i))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&De.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Rt(i))),!0)}function vY(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Rt))return!1;let{$from:n}=t.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!i)return!1;let r=me.empty;for(let o=i.length-1;o>=0;o--)r=me.from(i[o].createAndFill(null,r));let s=t.state.tr.replace(n.pos,n.pos,new Se(r,0,0));return s.setSelection(Fe.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function bY(t){if(!(t.selection instanceof Rt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Wt.create(t.doc,[ci.widget(t.selection.head,e,{key:"gapcursor"})])}const yY=bn.create({name:"gapCursor",addProseMirrorPlugins(){return[pY()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Qe(Me(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),wY=qi.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",vn(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:i})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:r,storedMarks:s}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=i.extensionManager,l=s||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&l&&o){const h=l.filter(p=>a.includes(p.type.name));u.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),SY=qi.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,vn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>lg({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var nf=200,tn=function(){};tn.prototype.append=function(e){return e.length?(e=tn.from(e),!this.length&&e||e.length<nf&&this.leafAppend(e)||this.length<nf&&e.leafPrepend(this)||this.appendInner(e)):this};tn.prototype.prepend=function(e){return e.length?tn.from(e).append(this):this};tn.prototype.appendInner=function(e){return new xY(this,e)};tn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?tn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};tn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};tn.prototype.forEach=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length),n<=i?this.forEachInner(e,n,i,0):this.forEachInvertedInner(e,n,i,0)};tn.prototype.map=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length);var r=[];return this.forEach(function(s,o){return r.push(e(s,o))},n,i),r};tn.from=function(e){return e instanceof tn?e:e&&e.length?new KT(e):tn.empty};var KT=function(t){function e(i){t.call(this),this.values=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,s){return r==0&&s==this.length?this:new e(this.values.slice(r,s))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,s,o,a){for(var l=s;l<o;l++)if(r(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,o,a){for(var l=s-1;l>=o;l--)if(r(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=nf)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=nf)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(tn);tn.empty=new KT([]);var xY=function(t){function e(n,i){t.call(this),this.left=n,this.right=i,this.length=n.length+i.length,this.depth=Math.max(n.depth,i.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,r,s,o){var a=this.left.length;if(r<a&&this.left.forEachInner(i,r,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(i,Math.max(r-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,r,s,o){var a=this.left.length;if(r>a&&this.right.forEachInvertedInner(i,r-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(i,Math.min(r,a),s,o)===!1)return!1},e.prototype.sliceInner=function(i,r){if(i==0&&r==this.length)return this;var s=this.left.length;return r<=s?this.left.slice(i,r):i>=s?this.right.slice(i-s,r-s):this.left.slice(i,s).append(this.right.slice(0,r-s))},e.prototype.leafAppend=function(i){var r=this.right.leafAppend(i);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(i){var r=this.left.leafPrepend(i);if(r)return new e(r,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e}(tn);const EY=500;class $i{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let r,s;n&&(r=this.remapping(i,this.items.length),s=r.maps.length);let o=e.tr,a,l,u=[],d=[];return this.items.forEach((h,p)=>{if(!h.step){r||(r=this.remapping(i,p+1),s=r.maps.length),s--,d.push(h);return}if(r){d.push(new ir(h.map));let g=h.step.map(r.slice(s)),m;g&&o.maybeStep(g).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],u.push(new ir(m,void 0,void 0,u.length+d.length))),s--,m&&r.appendMap(m,s)}else o.maybeStep(h.step);if(h.selection)return a=r?h.selection.map(r.slice(s)):h.selection,l=new $i(this.items.slice(0,i).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,i,r){let s=[],o=this.eventCount,a=this.items,l=!r&&a.length?a.get(a.length-1):null;for(let d=0;d<e.steps.length;d++){let h=e.steps[d].invert(e.docs[d]),p=new ir(e.mapping.maps[d],h,n),g;(g=l&&l.merge(p))&&(p=g,d?s.pop():a=a.slice(0,a.length-1)),s.push(p),n&&(o++,n=void 0),r||(l=p)}let u=o-i.depth;return u>TY&&(a=CY(a,u),o-=u),new $i(a.append(s),o)}remapping(e,n){let i=new xc;return this.items.forEach((r,s)=>{let o=r.mirrorOffset!=null&&s-r.mirrorOffset>=e?i.maps.length-r.mirrorOffset:void 0;i.appendMap(r.map,o)},e,n),i}addMaps(e){return this.eventCount==0?this:new $i(this.items.append(e.map(n=>new ir(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let i=[],r=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(p=>{p.selection&&a--},r);let l=n;this.items.forEach(p=>{let g=s.getMirror(--l);if(g==null)return;o=Math.min(o,g);let m=s.maps[g];if(p.step){let b=e.steps[g].invert(e.docs[g]),y=p.selection&&p.selection.map(s.slice(l+1,g));y&&a++,i.push(new ir(m,b,y))}else i.push(new ir(m))},r);let u=[];for(let p=n;p<o;p++)u.push(new ir(s.maps[p]));let d=this.items.slice(0,r).append(u).append(i),h=new $i(d,a);return h.emptyItemCount()>EY&&(h=h.compress(this.items.length-i.length)),h}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),i=n.maps.length,r=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)r.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(i)),u=l&&l.getMap();if(i--,u&&n.appendMap(u,i),l){let d=o.selection&&o.selection.map(n.slice(i));d&&s++;let h=new ir(u.invert(),l,d),p,g=r.length-1;(p=r.length&&r[g].merge(h))?r[g]=p:r.push(h)}}else o.map&&i--},this.items.length,0),new $i(tn.from(r.reverse()),s)}}$i.empty=new $i(tn.empty,0);function CY(t,e){let n;return t.forEach((i,r)=>{if(i.selection&&e--==0)return n=r,!1}),t.slice(n)}class ir{constructor(e,n,i,r){this.map=e,this.step=n,this.selection=i,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ir(n.getMap().invert(),n,this.selection)}}}class bs{constructor(e,n,i,r,s){this.done=e,this.undone=n,this.prevRanges=i,this.prevTime=r,this.prevComposition=s}}const TY=20;function MY(t,e,n,i){let r=n.getMeta(po),s;if(r)return r.historyState;n.getMeta(kY)&&(t=new bs(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(po))return o.getMeta(po).redo?new bs(t.done.addTransform(n,void 0,i,Cd(e)),t.undone,XS(n.mapping.maps),t.prevTime,t.prevComposition):new bs(t.done,t.undone.addTransform(n,void 0,i,Cd(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-i.newGroupDelay||!_Y(n,t.prevRanges)),u=o?nm(t.prevRanges,n.mapping):XS(n.mapping.maps);return new bs(t.done.addTransform(n,l?e.selection.getBookmark():void 0,i,Cd(e)),$i.empty,u,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new bs(t.done.rebased(n,s),t.undone.rebased(n,s),nm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new bs(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),nm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function _Y(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((i,r)=>{for(let s=0;s<e.length;s+=2)i<=e[s+1]&&r>=e[s]&&(n=!0)}),n}function XS(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((i,r,s,o)=>e.push(s,o));return e}function nm(t,e){if(!t)return null;let n=[];for(let i=0;i<t.length;i+=2){let r=e.map(t[i],1),s=e.map(t[i+1],-1);r<=s&&n.push(r,s)}return n}function AY(t,e,n){let i=Cd(e),r=po.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,i);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),r,i),l=new bs(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(po,{redo:n,historyState:l})}let im=!1,qS=null;function Cd(t){let e=t.plugins;if(qS!=e){im=!1,qS=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){im=!0;break}}return im}const po=new Xi("history"),kY=new Xi("closeHistory");function OY(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Nn({key:po,state:{init(){return new bs($i.empty,$i.empty,null,0,-1)},apply(e,n,i){return MY(n,i,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let i=n.inputType,r=i=="historyUndo"?ZT:i=="historyRedo"?QT:null;return r?(n.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function JT(t,e){return(n,i)=>{let r=po.getState(n);if(!r||(t?r.undone:r.done).eventCount==0)return!1;if(i){let s=AY(r,n,t);s&&i(e?s.scrollIntoView():s)}return!0}}const ZT=JT(!1,!0),QT=JT(!0,!0),RY=bn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>ZT(t,e),redo:()=>({state:t,dispatch:e})=>QT(t,e)}},addProseMirrorPlugins(){return[OY(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),PY=qi.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",vn(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!WU(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$from:i,$to:r}=n,s=t();return i.parentOffset===0?s.insertContentAt({from:Math.max(i.pos-1,0),to:r.pos},{type:this.name}):cU(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:u}=o.selection,d=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?o.setSelection(Fe.create(o.doc,u.pos+1)):u.nodeAfter.isBlock?o.setSelection(De.create(o.doc,u.pos)):o.setSelection(Fe.create(o.doc,u.pos));else{const h=(l=u.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();h&&(o.insert(d,h),o.setSelection(Fe.create(o.doc,d+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[HU({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),IY=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,LY=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,DY=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,NY=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,zY=mr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",vn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ra({find:IY,type:this.type}),Ra({find:DY,type:this.type})]},addPasteRules(){return[Pa({find:LY,type:this.type}),Pa({find:NY,type:this.type})]}}),$Y="listItem",GS="textStyle",KS=/^(\d+)\.\s$/,BY=qi.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",vn(this.options.HTMLAttributes,n),0]:["ol",vn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes($Y,this.editor.getAttributes(GS)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=kc({find:KS,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=kc({find:KS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(GS)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),FY=qi.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",vn(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),HY=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,WY=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,VY=mr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",vn(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ra({find:HY,type:this.type})]},addPasteRules(){return[Pa({find:WY,type:this.type})]}}),jY=qi.create({name:"text",group:"inline"}),UY=bn.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(QU.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(qU.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(tY.configure(this.options.bulletList)),this.options.code!==!1&&t.push(rY.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(aY.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(lY.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(dY.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(yY.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(wY.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(SY.configure(this.options.heading)),this.options.history!==!1&&t.push(RY.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(PY.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(zY.configure(this.options.italic)),this.options.listItem!==!1&&t.push(ug.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(BY.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(FY.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(VY.configure(this.options.strike)),this.options.text!==!1&&t.push(jY.configure(this.options.text)),t}});function JS(t){return Kx((e,n)=>({get(){return e(),t},set(i){t=i,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class YY extends FU{constructor(e={}){return super(e),this.contentComponent=null,this.appContext=null,this.reactiveState=JS(this.view.state),this.reactiveExtensionStorage=JS(this.extensionStorage),this.on("beforeTransaction",({nextState:n})=>{this.reactiveState.value=n,this.reactiveExtensionStorage.value=this.extensionStorage}),pf(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,n){const i=super.registerPlugin(e,n);return this.reactiveState&&(this.reactiveState.value=i),i}unregisterPlugin(e){const n=super.unregisterPlugin(e);return this.reactiveState&&n&&(this.reactiveState.value=n),n}}const XY=gf({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=Oe(),n=Sf();return BD(()=>{const i=t.editor;i&&i.options.element&&e.value&&jr(()=>{if(!e.value||!i.options.element.firstChild)return;const r=et(e.value);e.value.append(...i.options.element.childNodes),i.contentComponent=n.ctx._,n&&(i.appContext={...n.appContext,provides:n.provides}),i.setOptions({element:r}),i.createNodeViews()})}),Lc(()=>{const i=t.editor;i&&(i.contentComponent=null,i.appContext=null)}),{rootEl:e}},render(){return $g("div",{ref:t=>{this.rootEl=t}})}});class qY extends YY{constructor(...e){super(...e)}apply(){return this.commands.insertContentAt(0,""),this}getContent(){return this.getHTML()}setContent(e){return this.commands.setContent(e),this}getExtension(e){const n=this.options.extensions.find(i=>i.name===e);if(!n)throw`Extension "${e}" is not found`;return n}setExtensionOptions(e,n){const i=this.getExtension(e);for(const[r,s]of Object.entries(n))i.options[r]=s;return this.apply()}}const GY=["disabled"],KY={__name:"Button",props:{icon:String,color:{type:String,default:null},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},setup(t){const e=t,n=be(()=>e.active?"active":null),i=be(()=>`fas fa-${e.icon}`),r=be(()=>({color:e.color}));return(s,o)=>(ee(),Ee("button",{class:mt(["ui-editor-button",n.value]),disabled:t.disabled},[he("span",{class:"ui-editor-button__icon icon is-medium",style:Ao(r.value)},[he("i",{class:mt(i.value)},null,2)],4)],10,GY))}},ii=gt(KY,[["__scopeId","data-v-0d4d99fb"]]),JY={class:"ui-editor-pamel"},ZY={class:"ui-editor-pamel__group"},QY={class:"ui-editor-pamel__group"},eX={class:"ui-editor-pamel__group"},tX={class:"ui-editor-pamel__group"},nX={class:"ui-editor-pamel__group"},iX={__name:"Panel",props:{editor:Object},setup(t){const e=t,n=be(()=>!e.editor.can().chain().focus().toggleBold().run()),i=be(()=>e.editor.isActive("bold")),r=()=>{e.editor.chain().focus().toggleBold().run()},s=be(()=>!e.editor.can().chain().focus().toggleItalic().run()),o=be(()=>e.editor.isActive("italic")),a=()=>{e.editor.chain().focus().toggleItalic().run()},l=be(()=>!e.editor.can().chain().focus().toggleUnderline().run()),u=be(()=>e.editor.isActive("underline")),d=()=>{e.editor.chain().focus().toggleUnderline().run()},h=be(()=>!e.editor.can().chain().focus().toggleStrike().run()),p=be(()=>e.editor.isActive("strike")),g=()=>{e.editor.chain().focus().toggleStrike().run()},m=be(()=>!e.editor.can().chain().focus().toggleBulletList().run()),b=be(()=>e.editor.isActive("bulletList")),y=()=>{e.editor.chain().focus().toggleBulletList().run()},S=be(()=>!e.editor.can().chain().focus().toggleOrderedList().run()),x=be(()=>e.editor.isActive("orderedList")),E=()=>{e.editor.chain().focus().toggleOrderedList().run()},M=be(()=>!e.editor.can().chain().focus().toggleHeading({level:1}).run()),A=be(()=>e.editor.isActive("heading",{level:1})),z=W=>{e.editor.chain().focus().toggleHeading({level:W}).run()},L=Oe({purple:"#5f00d7",pink:"#d1007c",green:"#d4ff38"}),R=be(()=>!e.editor.can().chain().focus().setColor(L.value.purple).run()),k=be(()=>e.editor.isActive("textStyle",{color:L.value.purple})),D=be(()=>!e.editor.can().chain().focus().setColor(L.value.pink).run()),X=be(()=>e.editor.isActive("textStyle",{color:L.value.pink}));be(()=>!e.editor.can().chain().focus().setColor(L.value.green).run()),be(()=>e.editor.isActive("textStyle",{color:L.value.green}));const F=(W,re)=>{re?e.editor.chain().focus().unsetColor().run():e.editor.chain().focus().setColor(W).run()};be(()=>!e.editor.can().chain().focus().toggleCodeBlock().run()),be(()=>e.editor.isActive("codeBlock")),be(()=>!e.editor.can().chain().focus().toggleBlockquote().run()),be(()=>e.editor.isActive("blockquote"));const U=()=>{e.editor.chain().focus().setHorizontalRule().run()},q=be(()=>!e.editor.can().chain().focus().undo().run()),oe=()=>{e.editor.chain().focus().undo().run()},Z=be(()=>!e.editor.can().chain().focus().redo().run()),$=()=>{e.editor.chain().focus().redo().run()};return(W,re)=>(ee(),Ee("div",JY,[he("section",ZY,[ge(ii,{onClick:r,icon:"bold",disabled:n.value,active:i.value},null,8,["disabled","active"]),ge(ii,{onClick:a,icon:"italic",disabled:s.value,active:o.value},null,8,["disabled","active"]),ge(ii,{onClick:d,icon:"underline",disabled:l.value,active:u.value},null,8,["disabled","active"]),ge(ii,{onClick:g,icon:"strikethrough",disabled:h.value,active:p.value},null,8,["disabled","active"]),ge(ii,{onClick:re[0]||(re[0]=Te=>z(1)),icon:"heading",disabled:M.value,active:A.value},null,8,["disabled","active"])]),re[4]||(re[4]=he("div",{class:"ui-editor-pamel__delimiter"},null,-1)),he("section",QY,[ge(ii,{onClick:y,icon:"list-ul",disabled:m.value,active:b.value},null,8,["disabled","active"]),ge(ii,{onClick:E,icon:"list-ol",disabled:S.value,active:x.value},null,8,["disabled","active"])]),re[5]||(re[5]=he("div",{class:"ui-editor-pamel__delimiter"},null,-1)),he("section",eX,[ge(ii,{onClick:U,icon:"window-minimize"})]),re[6]||(re[6]=he("div",{class:"ui-editor-pamel__delimiter"},null,-1)),he("section",tX,[ge(ii,{onClick:re[1]||(re[1]=Te=>F(null,!0)),icon:"circle"}),ge(ii,{onClick:re[2]||(re[2]=Te=>F(L.value.purple,k.value)),icon:"circle",color:L.value.purple,disabled:R.value,active:k.value},null,8,["color","disabled","active"]),ge(ii,{onClick:re[3]||(re[3]=Te=>F(L.value.pink,X.value)),icon:"circle",color:L.value.pink,disabled:D.value,active:X.value},null,8,["color","disabled","active"])]),re[7]||(re[7]=he("div",{class:"ui-editor-pamel__delimiter"},null,-1)),he("section",nX,[ge(ii,{onClick:oe,icon:"undo",disabled:q.value},null,8,["disabled"]),ge(ii,{onClick:$,icon:"redo",disabled:Z.value},null,8,["disabled"])])]))}},rX=gt(iX,[["__scopeId","data-v-537cf68f"]]),sX={__name:"Editor",props:rn({placeholder:{type:String,default:null}},{modelValue:{},modelModifiers:{}}),emits:rn(["update","save"],["update:modelValue"]),setup(t,{emit:e}){const n=t,i=Vi(t,"modelValue"),r=e,s=Oe(null),o=Oe(!1),a=Oe(!1),l=be(()=>o.value||a.value),u=be(()=>n.placeholder!==null?n.placeholder:l.value?" ...":"    ..."),d=()=>{a.value&&(o.value=!0)},h=()=>{a.value&&(o.value=!1)},p=Lt("createDeferredTimer")();return gr(()=>{s.value=new qY({extensions:[jU.configure({types:[jS.name,ug.name]}),jS.configure({types:[ug.name]}),YU.configure({placeholder:u.value}),UU,UY],editorProps:{attributes:{spellcheck:"false"}},content:i.value,onUpdate({editor:g}){i.value=g.getContent(),r("update",i.value),p.start(1e3,()=>r("save",i.value))},onFocus({editor:g,event:m}){a.value=!0,g.setExtensionOptions("placeholder",{placeholder:u.value})},onBlur({editor:g,event:m}){a.value=!1,g.setExtensionOptions("placeholder",{placeholder:u.value})}})}),Lc(()=>{s.value.destroy(),s.value=null}),(g,m)=>s.value?(ee(),Ee("div",{key:0,class:mt(["ui-editor",{focused:l.value}]),onMouseover:d,onMouseleave:h},[ge(rX,{class:mt(["ui-editor__panel",{hidden:!l.value}]),editor:s.value},null,8,["class","editor"]),ge(et(XY),{class:"ui-editor__content",editor:s.value},null,8,["editor"])],34)):It("",!0)}},oX={class:"topic-tags"},aX={__name:"TopicTags",props:rn({topics:{type:Array}},{modelValue:{},modelModifiers:{}}),emits:rn(["update","save"],["update:modelValue"]),setup(t,{emit:e}){const n=Vi(t,"modelValue"),i=t,r=e,s=Lt("createDeferredTimer")(),o=Oe(n.value.reduce((u,d)=>(u[d]=!0,u),{})),a=be(()=>{const u={};return i.topics.forEach(d=>{u[d.id]=o.value[d.id]||!1}),u}),l=()=>{r("update",a.value),s.start(500,()=>r("save",a.value))};return gn(o.value,l),(u,d)=>(ee(),Ee("div",oX,[(ee(!0),Ee(Pt,null,Is(i.topics,h=>(ee(),Pe(Vg,{class:"topics__item",icon:"tag",text:h.name,clickable:!0,modelValue:o.value[h.id],"onUpdate:modelValue":p=>o.value[h.id]=p},null,8,["text","modelValue","onUpdate:modelValue"]))),256))]))}},lX=gt(aX,[["__scopeId","data-v-8feab01b"]]),cX={class:"wooj"},uX={key:0,class:"wooj__board"},dX={class:"wooj__actions"},fX={class:"wooj__paper"},hX={class:"wooj__save-status tag is-medium"},pX={class:"wooj__title"},mX={class:"wooj__content"},gX={__name:"Wooj",props:rn({topics:{type:Array,default:[]},loaded:{type:Boolean,default:!0},saving:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:rn(["change-content","change-topics"],["update:modelValue"]),setup(t,{emit:e}){const n=Vi(t,"modelValue"),i=e,r=t,s=Oe(!1),o=Oe(!1),a=be(()=>!!r.topics.length),l=u=>i("change-topics",u);return(u,d)=>(ee(),Ee("div",cX,[r.loaded?(ee(),Ee("div",uX,[he("div",dX,[a.value?(ee(),Pe(Yr,{key:0,icon:"tags",onClick:d[0]||(d[0]=h=>s.value=!s.value)})):It("",!0)]),he("div",fX,[bo(he("span",hX,"",512),[[mc,r.saving]]),he("div",pX,[ge(kE,{modelValue:n.value.title,"onUpdate:modelValue":d[1]||(d[1]=h=>n.value.title=h),max:60,fieldClass:"wooj__title-field",placeholder:"    ",onSave:d[2]||(d[2]=h=>i("change-content",n.value))},null,8,["modelValue"])]),he("div",mX,[ge(sX,{modelValue:n.value.content,"onUpdate:modelValue":d[3]||(d[3]=h=>n.value.content=h),onSave:d[4]||(d[4]=h=>i("change-content",n.value))},null,8,["modelValue"])])])])):(ee(),Pe(Gg,{key:1,type:"block-list",itemsNum:1,class:"wooj__skeleton"})),ge(bc,{modelValue:s.value,"onUpdate:modelValue":d[6]||(d[6]=h=>s.value=h),title:""},{default:xt(()=>[ge(lX,{topics:t.topics,modelValue:n.value.topicIds,"onUpdate:modelValue":d[5]||(d[5]=h=>n.value.topicIds=h),onSave:l},null,8,["topics","modelValue"])]),_:1},8,["modelValue"]),ge(bc,{modelValue:o.value,"onUpdate:modelValue":d[7]||(d[7]=h=>o.value=h),title:" "},{default:xt(()=>d[8]||(d[8]=[wo(" !!! ")])),_:1,__:[8]},8,["modelValue"])]))}},vX={class:"view-wooj"},bX={__name:"Wooj",props:["woojId"],setup(t){const e=t,{woojStore:n,onLoaded:i,setRouteListeners:r}=zs(),s=Fc(),o=ar({id:null,title:"",content:"",topicIds:[]}),a=Oe(!1),l=()=>n.updateWooj(o.id,{title:o.title,content:o.content}),u=async p=>{const{topic_ids:g}=await n.setWoojTopics(o.id,p);o.topicIds=g},d=()=>{a.value=!0,s.setStatusBar({title:" ",icon:"magnifying-glass"})},h=()=>{n.activateWooj(e.woojId),n.hasActiveWooj&&(o.id=n.activeWooj.id,o.title=n.activeWooj.title,o.content=n.activeWooj.content,o.topicIds=n.activeWooj.topic_ids,s.setStatusBar({title:o.title||" ",icon:"file-pen"}))};return gn(()=>e.woojId,h),gn(()=>o.title,()=>{s.setStatusBar({title:o.title||" ",icon:"file-pen"})}),i(()=>{h(),n.hasActiveWooj||d()}),Ns(()=>{h(),r()}),za(()=>{n.deactivateWooj(),s.onDeactivateCreateWooj(),s.unsetStatusBar()}),(p,g)=>(ee(),Ee("div",vX,[a.value?(ee(),Pe(fC,{key:0,title:"  ",text:" "})):(ee(),Pe(gX,{key:1,modelValue:o,"onUpdate:modelValue":g[0]||(g[0]=m=>o=m),loaded:et(n).isLoaded,saving:et(n).isUpdatingWooj,topics:et(n).customTopics,onChangeContent:l,onChangeTopics:u},null,8,["modelValue","loaded","saving","topics"]))]))}},yX=gt(bX,[["__scopeId","data-v-6493e744"]]),wX=b$({history:qz("/"),routes:[{path:"/",name:"Index",component:uH},{path:"/all",name:"All",component:$H},{path:"/pinned",name:"Pinned",component:FH},{path:"/published",name:"Published",component:jH},{path:"/trash",name:"Trash",component:WH},{path:"/topic/:topicId(\\d+)",name:"Topic",component:YH,props:!0},{path:"/wooj/:woojId(\\d+)",name:"Wooj",component:yX,props:!0}]});function eM(t,e){return function(){return t.apply(e,arguments)}}const{toString:SX}=Object.prototype,{getPrototypeOf:Rv}=Object,{iterator:Xf,toStringTag:tM}=Symbol,qf=(t=>e=>{const n=SX.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Gi=t=>(t=t.toLowerCase(),e=>qf(e)===t),Gf=t=>e=>typeof e===t,{isArray:Wa}=Array,Oc=Gf("undefined");function xX(t){return t!==null&&!Oc(t)&&t.constructor!==null&&!Oc(t.constructor)&&qn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const nM=Gi("ArrayBuffer");function EX(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&nM(t.buffer),e}const CX=Gf("string"),qn=Gf("function"),iM=Gf("number"),Kf=t=>t!==null&&typeof t=="object",TX=t=>t===!0||t===!1,Td=t=>{if(qf(t)!=="object")return!1;const e=Rv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(tM in t)&&!(Xf in t)},MX=Gi("Date"),_X=Gi("File"),AX=Gi("Blob"),kX=Gi("FileList"),OX=t=>Kf(t)&&qn(t.pipe),RX=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||qn(t.append)&&((e=qf(t))==="formdata"||e==="object"&&qn(t.toString)&&t.toString()==="[object FormData]"))},PX=Gi("URLSearchParams"),[IX,LX,DX,NX]=["ReadableStream","Request","Response","Headers"].map(Gi),zX=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),Wa(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,t[a],a,t)}}function rM(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const oo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sM=t=>!Oc(t)&&t!==oo;function dg(){const{caseless:t}=sM(this)&&this||{},e={},n=(i,r)=>{const s=t&&rM(e,r)||r;Td(e[s])&&Td(i)?e[s]=dg(e[s],i):Td(i)?e[s]=dg({},i):Wa(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&qc(arguments[i],n);return e}const $X=(t,e,n,{allOwnKeys:i}={})=>(qc(e,(r,s)=>{n&&qn(r)?t[s]=eM(r,n):t[s]=r},{allOwnKeys:i}),t),BX=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),FX=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},HX=(t,e,n,i)=>{let r,s,o;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)o=r[s],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Rv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},WX=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},VX=t=>{if(!t)return null;if(Wa(t))return t;let e=t.length;if(!iM(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},jX=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Rv(Uint8Array)),UX=(t,e)=>{const i=(t&&t[Xf]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},YX=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},XX=Gi("HTMLFormElement"),qX=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),ZS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),GX=Gi("RegExp"),oM=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};qc(n,(r,s)=>{let o;(o=e(r,s,t))!==!1&&(i[s]=o||r)}),Object.defineProperties(t,i)},KX=t=>{oM(t,(e,n)=>{if(qn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(qn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},JX=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return Wa(t)?i(t):i(String(t).split(e)),n},ZX=()=>{},QX=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function eq(t){return!!(t&&qn(t.append)&&t[tM]==="FormData"&&t[Xf])}const tq=t=>{const e=new Array(10),n=(i,r)=>{if(Kf(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=Wa(i)?[]:{};return qc(i,(o,a)=>{const l=n(o,r+1);!Oc(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return n(t,0)},nq=Gi("AsyncFunction"),iq=t=>t&&(Kf(t)||qn(t))&&qn(t.then)&&qn(t.catch),aM=((t,e)=>t?setImmediate:e?((n,i)=>(oo.addEventListener("message",({source:r,data:s})=>{r===oo&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),oo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",qn(oo.postMessage)),rq=typeof queueMicrotask<"u"?queueMicrotask.bind(oo):typeof process<"u"&&process.nextTick||aM,sq=t=>t!=null&&qn(t[Xf]),K={isArray:Wa,isArrayBuffer:nM,isBuffer:xX,isFormData:RX,isArrayBufferView:EX,isString:CX,isNumber:iM,isBoolean:TX,isObject:Kf,isPlainObject:Td,isReadableStream:IX,isRequest:LX,isResponse:DX,isHeaders:NX,isUndefined:Oc,isDate:MX,isFile:_X,isBlob:AX,isRegExp:GX,isFunction:qn,isStream:OX,isURLSearchParams:PX,isTypedArray:jX,isFileList:kX,forEach:qc,merge:dg,extend:$X,trim:zX,stripBOM:BX,inherits:FX,toFlatObject:HX,kindOf:qf,kindOfTest:Gi,endsWith:WX,toArray:VX,forEachEntry:UX,matchAll:YX,isHTMLForm:XX,hasOwnProperty:ZS,hasOwnProp:ZS,reduceDescriptors:oM,freezeMethods:KX,toObjectSet:JX,toCamelCase:qX,noop:ZX,toFiniteNumber:QX,findKey:rM,global:oo,isContextDefined:sM,isSpecCompliantForm:eq,toJSONObject:tq,isAsyncFn:nq,isThenable:iq,setImmediate:aM,asap:rq,isIterable:sq};function Ue(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}K.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const lM=Ue.prototype,cM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{cM[t]={value:t}});Object.defineProperties(Ue,cM);Object.defineProperty(lM,"isAxiosError",{value:!0});Ue.from=(t,e,n,i,r,s)=>{const o=Object.create(lM);return K.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ue.call(o,t.message,e,n,i,r),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const oq=null;function fg(t){return K.isPlainObject(t)||K.isArray(t)}function uM(t){return K.endsWith(t,"[]")?t.slice(0,-2):t}function QS(t,e,n){return t?t.concat(e).map(function(r,s){return r=uM(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function aq(t){return K.isArray(t)&&!t.some(fg)}const lq=K.toFlatObject(K,{},null,function(e){return/^is[A-Z]/.test(e)});function Jf(t,e,n){if(!K.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=K.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,y){return!K.isUndefined(y[b])});const i=n.metaTokens,r=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(e);if(!K.isFunction(r))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(K.isDate(m))return m.toISOString();if(K.isBoolean(m))return m.toString();if(!l&&K.isBlob(m))throw new Ue("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(m)||K.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,b,y){let S=m;if(m&&!y&&typeof m=="object"){if(K.endsWith(b,"{}"))b=i?b:b.slice(0,-2),m=JSON.stringify(m);else if(K.isArray(m)&&aq(m)||(K.isFileList(m)||K.endsWith(b,"[]"))&&(S=K.toArray(m)))return b=uM(b),S.forEach(function(E,M){!(K.isUndefined(E)||E===null)&&e.append(o===!0?QS([b],M,s):o===null?b:b+"[]",u(E))}),!1}return fg(m)?!0:(e.append(QS(y,b,s),u(m)),!1)}const h=[],p=Object.assign(lq,{defaultVisitor:d,convertValue:u,isVisitable:fg});function g(m,b){if(!K.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(m),K.forEach(m,function(S,x){(!(K.isUndefined(S)||S===null)&&r.call(e,S,K.isString(x)?x.trim():x,b,p))===!0&&g(S,b?b.concat(x):[x])}),h.pop()}}if(!K.isObject(t))throw new TypeError("data must be an object");return g(t),e}function ex(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Pv(t,e){this._pairs=[],t&&Jf(t,this,e)}const dM=Pv.prototype;dM.append=function(e,n){this._pairs.push([e,n])};dM.toString=function(e){const n=e?function(i){return e.call(this,i,ex)}:ex;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function cq(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fM(t,e,n){if(!e)return t;const i=n&&n.encode||cq;K.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(r?s=r(e,n):s=K.isURLSearchParams(e)?e.toString():new Pv(e,n).toString(i),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class tx{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){K.forEach(this.handlers,function(i){i!==null&&e(i)})}}const hM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uq=typeof URLSearchParams<"u"?URLSearchParams:Pv,dq=typeof FormData<"u"?FormData:null,fq=typeof Blob<"u"?Blob:null,hq={isBrowser:!0,classes:{URLSearchParams:uq,FormData:dq,Blob:fq},protocols:["http","https","file","blob","url","data"]},Iv=typeof window<"u"&&typeof document<"u",hg=typeof navigator=="object"&&navigator||void 0,pq=Iv&&(!hg||["ReactNative","NativeScript","NS"].indexOf(hg.product)<0),mq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gq=Iv&&window.location.href||"http://localhost",vq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Iv,hasStandardBrowserEnv:pq,hasStandardBrowserWebWorkerEnv:mq,navigator:hg,origin:gq},Symbol.toStringTag,{value:"Module"})),Tn={...vq,...hq};function bq(t,e){return Jf(t,new Tn.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,s){return Tn.isNode&&K.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function yq(t){return K.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function wq(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function pM(t){function e(n,i,r,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&K.isArray(r)?r.length:o,l?(K.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!K.isObject(r[o]))&&(r[o]=[]),e(n,i,r[o],s)&&K.isArray(r[o])&&(r[o]=wq(r[o])),!a)}if(K.isFormData(t)&&K.isFunction(t.entries)){const n={};return K.forEachEntry(t,(i,r)=>{e(yq(i),r,n,0)}),n}return null}function Sq(t,e,n){if(K.isString(t))try{return(e||JSON.parse)(t),K.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Gc={transitional:hM,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=K.isObject(e);if(s&&K.isHTMLForm(e)&&(e=new FormData(e)),K.isFormData(e))return r?JSON.stringify(pM(e)):e;if(K.isArrayBuffer(e)||K.isBuffer(e)||K.isStream(e)||K.isFile(e)||K.isBlob(e)||K.isReadableStream(e))return e;if(K.isArrayBufferView(e))return e.buffer;if(K.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return bq(e,this.formSerializer).toString();if((a=K.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Jf(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),Sq(e)):e}],transformResponse:[function(e){const n=this.transitional||Gc.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(K.isResponse(e)||K.isReadableStream(e))return e;if(e&&K.isString(e)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ue.from(a,Ue.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tn.classes.FormData,Blob:Tn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],t=>{Gc.headers[t]={}});const xq=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Eq=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||e[n]&&xq[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},nx=Symbol("internals");function Bl(t){return t&&String(t).trim().toLowerCase()}function Md(t){return t===!1||t==null?t:K.isArray(t)?t.map(Md):String(t)}function Cq(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const Tq=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function rm(t,e,n,i,r){if(K.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!K.isString(e)){if(K.isString(i))return e.indexOf(i)!==-1;if(K.isRegExp(i))return i.test(e)}}function Mq(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function _q(t,e){const n=K.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}let Gn=class{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(a,l,u){const d=Bl(l);if(!d)throw new Error("header name must be a non-empty string");const h=K.findKey(r,d);(!h||r[h]===void 0||u===!0||u===void 0&&r[h]!==!1)&&(r[h||l]=Md(a))}const o=(a,l)=>K.forEach(a,(u,d)=>s(u,d,l));if(K.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(K.isString(e)&&(e=e.trim())&&!Tq(e))o(Eq(e),n);else if(K.isObject(e)&&K.isIterable(e)){let a={},l,u;for(const d of e){if(!K.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(l=a[u])?K.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,n)}else e!=null&&s(n,e,i);return this}get(e,n){if(e=Bl(e),e){const i=K.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return Cq(r);if(K.isFunction(n))return n.call(this,r,i);if(K.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Bl(e),e){const i=K.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||rm(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(o){if(o=Bl(o),o){const a=K.findKey(i,o);a&&(!n||rm(i,i[a],a,n))&&(delete i[a],r=!0)}}return K.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||rm(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return K.forEach(this,(r,s)=>{const o=K.findKey(i,s);if(o){n[o]=Md(r),delete n[s];return}const a=e?Mq(s):String(s).trim();a!==s&&delete n[s],n[a]=Md(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return K.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&K.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[nx]=this[nx]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=Bl(o);i[a]||(_q(r,o),i[a]=!0)}return K.isArray(e)?e.forEach(s):s(e),this}};Gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(Gn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});K.freezeMethods(Gn);function sm(t,e){const n=this||Gc,i=e||n,r=Gn.from(i.headers);let s=i.data;return K.forEach(t,function(a){s=a.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function mM(t){return!!(t&&t.__CANCEL__)}function Va(t,e,n){Ue.call(this,t??"canceled",Ue.ERR_CANCELED,e,n),this.name="CanceledError"}K.inherits(Va,Ue,{__CANCEL__:!0});function gM(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Ue("Request failed with status code "+n.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Aq(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function kq(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=i[s];o||(o=u),n[r]=l,i[r]=u;let h=s,p=0;for(;h!==r;)p+=n[h++],h=h%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),u-o<e)return;const g=d&&u-d;return g?Math.round(p*1e3/g):void 0}}function Oq(t,e){let n=0,i=1e3/e,r,s;const o=(u,d=Date.now())=>{n=d,r=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=i?o(u,d):(r=u,s||(s=setTimeout(()=>{s=null,o(r)},i-h)))},()=>r&&o(r)]}const rf=(t,e,n=3)=>{let i=0;const r=kq(50,250);return Oq(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,u=r(l),d=o<=a;i=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},ix=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},rx=t=>(...e)=>K.asap(()=>t(...e)),Rq=Tn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Tn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Tn.origin),Tn.navigator&&/(msie|trident)/i.test(Tn.navigator.userAgent)):()=>!0,Pq=Tn.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const o=[t+"="+encodeURIComponent(e)];K.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),K.isString(i)&&o.push("path="+i),K.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Iq(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Lq(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function vM(t,e,n){let i=!Iq(e);return t&&(i||n==!1)?Lq(t,e):e}const sx=t=>t instanceof Gn?{...t}:t;function Mo(t,e){e=e||{};const n={};function i(u,d,h,p){return K.isPlainObject(u)&&K.isPlainObject(d)?K.merge.call({caseless:p},u,d):K.isPlainObject(d)?K.merge({},d):K.isArray(d)?d.slice():d}function r(u,d,h,p){if(K.isUndefined(d)){if(!K.isUndefined(u))return i(void 0,u,h,p)}else return i(u,d,h,p)}function s(u,d){if(!K.isUndefined(d))return i(void 0,d)}function o(u,d){if(K.isUndefined(d)){if(!K.isUndefined(u))return i(void 0,u)}else return i(void 0,d)}function a(u,d,h){if(h in e)return i(u,d);if(h in t)return i(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,h)=>r(sx(u),sx(d),h,!0)};return K.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=l[d]||r,p=h(t[d],e[d],d);K.isUndefined(p)&&h!==a||(n[d]=p)}),n}const bM=t=>{const e=Mo({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Gn.from(o),e.url=fM(vM(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(K.isFormData(n)){if(Tn.hasStandardBrowserEnv||Tn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Tn.hasStandardBrowserEnv&&(i&&K.isFunction(i)&&(i=i(e)),i||i!==!1&&Rq(e.url))){const u=r&&s&&Pq.read(s);u&&o.set(r,u)}return e},Dq=typeof XMLHttpRequest<"u",Nq=Dq&&function(t){return new Promise(function(n,i){const r=bM(t);let s=r.data;const o=Gn.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=r,d,h,p,g,m;function b(){g&&g(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function S(){if(!y)return;const E=Gn.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),A={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:E,config:t,request:y};gM(function(L){n(L),b()},function(L){i(L),b()},A),y=null}"onloadend"in y?y.onloadend=S:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(S)},y.onabort=function(){y&&(i(new Ue("Request aborted",Ue.ECONNABORTED,t,y)),y=null)},y.onerror=function(){i(new Ue("Network Error",Ue.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let M=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const A=r.transitional||hM;r.timeoutErrorMessage&&(M=r.timeoutErrorMessage),i(new Ue(M,A.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,t,y)),y=null},s===void 0&&o.setContentType(null),"setRequestHeader"in y&&K.forEach(o.toJSON(),function(M,A){y.setRequestHeader(A,M)}),K.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),a&&a!=="json"&&(y.responseType=r.responseType),u&&([p,m]=rf(u,!0),y.addEventListener("progress",p)),l&&y.upload&&([h,g]=rf(l),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(d=E=>{y&&(i(!E||E.type?new Va(null,t,y):E),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const x=Aq(r.url);if(x&&Tn.protocols.indexOf(x)===-1){i(new Ue("Unsupported protocol "+x+":",Ue.ERR_BAD_REQUEST,t));return}y.send(s||null)})},zq=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const s=function(u){if(!r){r=!0,a();const d=u instanceof Error?u:this.reason;i.abort(d instanceof Ue?d:new Va(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new Ue(`timeout ${e} of ms exceeded`,Ue.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>K.asap(a),l}},$q=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},Bq=async function*(t,e){for await(const n of Fq(t))yield*$q(n,e)},Fq=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},ox=(t,e,n,i)=>{const r=Bq(t,e);let s=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await r.next();if(u){a(),l.close();return}let h=d.byteLength;if(n){let p=s+=h;n(p)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},Zf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",yM=Zf&&typeof ReadableStream=="function",Hq=Zf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),wM=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Wq=yM&&wM(()=>{let t=!1;const e=new Request(Tn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),ax=64*1024,pg=yM&&wM(()=>K.isReadableStream(new Response("").body)),sf={stream:pg&&(t=>t.body)};Zf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!sf[e]&&(sf[e]=K.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new Ue(`Response type '${e}' is not supported`,Ue.ERR_NOT_SUPPORT,i)})})})(new Response);const Vq=async t=>{if(t==null)return 0;if(K.isBlob(t))return t.size;if(K.isSpecCompliantForm(t))return(await new Request(Tn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(K.isArrayBufferView(t)||K.isArrayBuffer(t))return t.byteLength;if(K.isURLSearchParams(t)&&(t=t+""),K.isString(t))return(await Hq(t)).byteLength},jq=async(t,e)=>{const n=K.toFiniteNumber(t.getContentLength());return n??Vq(e)},Uq=Zf&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:p}=bM(t);u=u?(u+"").toLowerCase():"text";let g=zq([r,s&&s.toAbortSignal()],o),m;const b=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let y;try{if(l&&Wq&&n!=="get"&&n!=="head"&&(y=await jq(d,i))!==0){let A=new Request(e,{method:"POST",body:i,duplex:"half"}),z;if(K.isFormData(i)&&(z=A.headers.get("content-type"))&&d.setContentType(z),A.body){const[L,R]=ix(y,rf(rx(l)));i=ox(A.body,ax,L,R)}}K.isString(h)||(h=h?"include":"omit");const S="credentials"in Request.prototype;m=new Request(e,{...p,signal:g,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:S?h:void 0});let x=await fetch(m,p);const E=pg&&(u==="stream"||u==="response");if(pg&&(a||E&&b)){const A={};["status","statusText","headers"].forEach(k=>{A[k]=x[k]});const z=K.toFiniteNumber(x.headers.get("content-length")),[L,R]=a&&ix(z,rf(rx(a),!0))||[];x=new Response(ox(x.body,ax,L,()=>{R&&R(),b&&b()}),A)}u=u||"text";let M=await sf[K.findKey(sf,u)||"text"](x,t);return!E&&b&&b(),await new Promise((A,z)=>{gM(A,z,{data:M,headers:Gn.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:m})})}catch(S){throw b&&b(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new Ue("Network Error",Ue.ERR_NETWORK,t,m),{cause:S.cause||S}):Ue.from(S,S&&S.code,t,m)}}),mg={http:oq,xhr:Nq,fetch:Uq};K.forEach(mg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const lx=t=>`- ${t}`,Yq=t=>K.isFunction(t)||t===null||t===!1,SM={getAdapter:t=>{t=K.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let s=0;s<e;s++){n=t[s];let o;if(i=n,!Yq(n)&&(i=mg[(o=String(n)).toLowerCase()],i===void 0))throw new Ue(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(lx).join(`
`):" "+lx(s[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:mg};function om(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Va(null,t)}function cx(t){return om(t),t.headers=Gn.from(t.headers),t.data=sm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),SM.getAdapter(t.adapter||Gc.adapter)(t).then(function(i){return om(t),i.data=sm.call(t,t.transformResponse,i),i.headers=Gn.from(i.headers),i},function(i){return mM(i)||(om(t),i&&i.response&&(i.response.data=sm.call(t,t.transformResponse,i.response),i.response.headers=Gn.from(i.response.headers))),Promise.reject(i)})}const xM="1.10.0",Qf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Qf[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const ux={};Qf.transitional=function(e,n,i){function r(s,o){return"[Axios v"+xM+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new Ue(r(o," has been removed"+(n?" in "+n:"")),Ue.ERR_DEPRECATED);return n&&!ux[o]&&(ux[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};Qf.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function Xq(t,e,n){if(typeof t!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Ue("option "+s+" must be "+l,Ue.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ue("Unknown option "+s,Ue.ERR_BAD_OPTION)}}const _d={assertOptions:Xq,validators:Qf},er=_d.validators;let mo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new tx,response:new tx}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Mo(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&_d.assertOptions(i,{silentJSONParsing:er.transitional(er.boolean),forcedJSONParsing:er.transitional(er.boolean),clarifyTimeoutError:er.transitional(er.boolean)},!1),r!=null&&(K.isFunction(r)?n.paramsSerializer={serialize:r}:_d.assertOptions(r,{encode:er.function,serialize:er.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),_d.assertOptions(n,{baseUrl:er.spelling("baseURL"),withXsrfToken:er.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&K.merge(s.common,s[n.method]);s&&K.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=Gn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let d,h=0,p;if(!l){const m=[cx.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,u),p=m.length,d=Promise.resolve(n);h<p;)d=d.then(m[h++],m[h++]);return d}p=a.length;let g=n;for(h=0;h<p;){const m=a[h++],b=a[h++];try{g=m(g)}catch(y){b.call(this,y);break}}try{d=cx.call(this,g)}catch(m){return Promise.reject(m)}for(h=0,p=u.length;h<p;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=Mo(this.defaults,e);const n=vM(e.baseURL,e.url,e.allowAbsoluteUrls);return fM(n,e.params,e.paramsSerializer)}};K.forEach(["delete","get","head","options"],function(e){mo.prototype[e]=function(n,i){return this.request(Mo(i||{},{method:e,url:n,data:(i||{}).data}))}});K.forEach(["post","put","patch"],function(e){function n(i){return function(s,o,a){return this.request(Mo(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}mo.prototype[e]=n(),mo.prototype[e+"Form"]=n(!0)});let qq=class EM{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new Va(s,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new EM(function(r){e=r}),cancel:e}}};function Gq(t){return function(n){return t.apply(null,n)}}function Kq(t){return K.isObject(t)&&t.isAxiosError===!0}const gg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gg).forEach(([t,e])=>{gg[e]=t});function CM(t){const e=new mo(t),n=eM(mo.prototype.request,e);return K.extend(n,mo.prototype,e,{allOwnKeys:!0}),K.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return CM(Mo(t,r))},n}const Ft=CM(Gc);Ft.Axios=mo;Ft.CanceledError=Va;Ft.CancelToken=qq;Ft.isCancel=mM;Ft.VERSION=xM;Ft.toFormData=Jf;Ft.AxiosError=Ue;Ft.Cancel=Ft.CanceledError;Ft.all=function(e){return Promise.all(e)};Ft.spread=Gq;Ft.isAxiosError=Kq;Ft.mergeConfig=Mo;Ft.AxiosHeaders=Gn;Ft.formToJSON=t=>pM(K.isHTMLForm(t)?new FormData(t):t);Ft.getAdapter=SM.getAdapter;Ft.HttpStatusCode=gg;Ft.default=Ft;const{Axios:w6,AxiosError:S6,CanceledError:x6,isCancel:E6,CancelToken:C6,VERSION:T6,all:M6,Cancel:_6,isAxiosError:A6,spread:k6,toFormData:O6,AxiosHeaders:R6,HttpStatusCode:P6,formToJSON:I6,getAdapter:L6,mergeConfig:D6}=Ft;class Jq{constructor(e){this.options=e||{},this.token=e.token||null,this.init(),this.setToken(this.token)}init(){const e=this.options.headers||{};e["Content-Type"]=e["Content-Type"]||"application/json";const n={baseURL:this.options.baseUrl||null,timeout:this.options.timeout||1e3,withCredentials:this.options.credentials||!1,headers:e},i=Ft.create(n);i.interceptors.request.use(this.handleRequest,this.handleRequestError),i.interceptors.response.use(this.handleResponse,this.handleResponseError),this.instance=i}setToken(e){this.token=e||null,this.instance.defaults.headers.common.Authorization=this.token?`Bearer ${this.token}`:null}unsetToken(){this.setToken(null)}handleRequest(e){return e}handleResponse(e){return e.data}handleRequestError(e){return Promise.reject(e)}handleResponseError(e){return Promise.reject(e)}get(...e){return this.instance.get(...e)}post(...e){return this.instance.post(...e)}put(...e){return this.instance.put(...e)}delete(...e){return this.instance.delete(...e)}}class Zq{constructor(e){this.options=e||{}}set(e,n){return localStorage.setItem(e,JSON.stringify(n)),n}get(e,n){n=n||null;const i=JSON.parse(localStorage.getItem(e));return i!==null?i:n}remove(e){localStorage.removeItem(e)}clear(e){localStorage.clear(e)}}const Qq=t=>{t=t||{};const e=new Jq(t.httpClient||{}),n=new Zq(t.storage||{});return{httpClient:e,storage:n}};class e4{constructor(e){this.http=e}setToken(e){this.http.setToken(e)}unsetToken(){this.http.unsetToken()}async check(){try{const{user:e}=await this.http.get("check");return e}catch{throw"  "}}async register(e,n){try{const{user:i,token:r}=await this.http.post("register",{email:e,password:n});return this.setToken(r),{user:i,token:r}}catch({response:i}){throw{message:"  ",errors:i.data.errors||{}}}}async login(e,n){try{const{user:i,token:r}=await this.http.post("login",{email:e,password:n});return this.setToken(r),{user:i,token:r}}catch({response:i}){throw{message:"  ",errors:i.data.errors||{}}}}async logout(){try{await this.http.post("logout"),this.unsetToken()}catch{throw"  "}}async changeAvatar(e){try{const n=new FormData,i={"Content-Type":"multipart/form-data"};n.append("avatar",e);const{user:r}=await this.http.post("user/avatar",n,{headers:i});return r}catch{throw"   "}}async update(e){try{const{user:n}=await this.http.put("user",e);return n}catch{throw"   "}}async resend(){try{await this.http.post("resend")}catch{throw"   "}}}class t4{constructor(e){this.http=e}async getAll(){try{const{data:e}=await this.http.get("woojs");return e}catch{throw"   "}}async get(e){try{const{data:n}=await this.http.get(`woojs/${e}`);return n}catch{throw"   "}}async getTrash(){try{const{data:e}=await this.http.get("woojs/trash");return e}catch{throw"     "}}async getPinned(){try{const{data:e}=await this.http.get("woojs/pinned");return e}catch{throw"    "}}async getByTopic(e){try{const{data:n}=await this.http.get(`woojs/topic/${e}`);return n}catch{throw"     "}}async create({title:e,content:n}){e=e||"",n=n||"";try{const{data:i}=await this.http.post("woojs",{title:e,content:n});return i}catch{throw"   "}}async update(e,{title:n,content:i}){try{const{data:r}=await this.http.put(`woojs/${e}`,{title:n,content:i});return r}catch{throw"   "}}async delete(e){try{const{data:n}=await this.http.delete(`woojs/${e}`);return n}catch{throw"   "}}async restore(e){try{const{data:n}=await this.http.put(`woojs/${e}/restore`);return n}catch{throw"   "}}async clearTrash(){try{await this.http.delete("woojs/trash")}catch{throw"   "}}async pin(e){try{const{data:n}=await this.http.put(`woojs/${e}/pin`);return n}catch{throw"   "}}async unpin(e){try{const{data:n}=await this.http.put(`woojs/${e}/unpin`);return n}catch{throw"   "}}async setTopics(e,n){try{const{data:i}=await this.http.put(`woojs/${e}/set-topics`,{map:n});return i}catch{throw"     "}}}class n4{constructor(e){this.http=e}async getAll(){try{const{data:e}=await this.http.get("topics");return e}catch{throw"   "}}async get(e){try{const{data:n}=await this.http.get(`topics/${e}`);return n}catch{throw"   "}}async create({name:e}){try{const{data:n}=await this.http.post("topics",{name:e});return n}catch{throw"   "}}async update(e,{name:n}){try{const{data:i}=await this.http.put(`topics/${e}`,{name:n});return i}catch{throw"   "}}async delete(e){try{const{data:n}=await this.http.delete(`topics/${e}`);return n}catch{throw"   "}}async sort(e,n){try{const{data:i}=await this.http.put(`topics/${e}/sort`,{positions:n});return i}catch{throw"      "}}async sortAll(e){return this.sort("all",e)}async sortPinned(e){return this.sort("pinned",e)}}const i4=t=>{t=t||{};const e=new e4(t.httpClient),n=new t4(t.httpClient),i=new n4(t.httpClient);return{userService:e,woojService:n,topicService:i}},r4={install:(t,e)=>{e=e||{},t.provide("utils",e.utils||{}),t.provide("services",e.services||{})}};function dx(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Lv(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:dx(e[i])&&dx(t[i])&&Object.keys(e[i]).length>0&&Lv(t[i],e[i])})}const TM={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function nn(){const t=typeof document<"u"?document:{};return Lv(t,TM),t}const s4={document:TM,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Tt(){const t=typeof window<"u"?window:{};return Lv(t,s4),t}function hs(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function o4(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function _o(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Ti(){return Date.now()}function a4(t){const e=Tt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function vg(t,e){e===void 0&&(e="x");const n=Tt();let i,r,s;const o=a4(t);return n.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(r==="none"?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function Ul(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function l4(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function oi(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const i=n<0||arguments.length<=n?void 0:arguments[n];if(i!=null&&!l4(i)){const r=Object.keys(Object(i)).filter(s=>e.indexOf(s)<0);for(let s=0,o=r.length;s<o;s+=1){const a=r[s],l=Object.getOwnPropertyDescriptor(i,a);l!==void 0&&l.enumerable&&(Ul(t[a])&&Ul(i[a])?i[a].__swiper__?t[a]=i[a]:oi(t[a],i[a]):!Ul(t[a])&&Ul(i[a])?(t[a]={},i[a].__swiper__?t[a]=i[a]:oi(t[a],i[a])):t[a]=i[a])}}}return t}function Yl(t,e,n){t.style.setProperty(e,n)}function MM(t){let{swiper:e,targetPosition:n,side:i}=t;const r=Tt(),s=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const u=n>s?"next":"prev",d=(p,g)=>u==="next"&&p>=g||u==="prev"&&p<=g,h=()=>{a=new Date().getTime(),o===null&&(o=a);const p=Math.max(Math.min((a-o)/l,1),0),g=.5-Math.cos(p*Math.PI)/2;let m=s+g*(n-s);if(d(m,n)&&(m=n),e.wrapperEl.scrollTo({[i]:m}),d(m,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:m})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(h)};h()}function Oo(t){return t.querySelector(".swiper-slide-transform")||t.shadowRoot&&t.shadowRoot.querySelector(".swiper-slide-transform")||t}function mn(t,e){e===void 0&&(e="");const n=Tt(),i=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&i.push(...t.assignedElements()),e?i.filter(r=>r.matches(e)):i}function c4(t,e){const n=[e];for(;n.length>0;){const i=n.shift();if(t===i)return!0;n.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function u4(t,e){const n=Tt();let i=e.contains(t);return!i&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(t),i||(i=c4(t,e))),i}function of(t){try{console.warn(t);return}catch{}}function ui(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:hs(e)),n}function af(t){const e=Tt(),n=nn(),i=t.getBoundingClientRect(),r=n.body,s=t.clientTop||r.clientTop||0,o=t.clientLeft||r.clientLeft||0,a=t===e?e.scrollY:t.scrollTop,l=t===e?e.scrollX:t.scrollLeft;return{top:i.top+a-s,left:i.left+l-o}}function d4(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function f4(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function Ts(t,e){return Tt().getComputedStyle(t,null).getPropertyValue(e)}function Rc(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function go(t,e){const n=[];let i=t.parentElement;for(;i;)e?i.matches(e)&&n.push(i):n.push(i),i=i.parentElement;return n}function oc(t,e){function n(i){i.target===t&&(e.call(t,i),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function bg(t,e,n){const i=Tt();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function it(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function eh(t){return e=>Math.abs(e)>0&&t.browser&&t.browser.need3dFix&&Math.abs(e)%90===0?e+.001:e}function Pi(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let am;function h4(){const t=Tt(),e=nn();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function _M(){return am||(am=h4()),am}let lm;function p4(t){let{userAgent:e}=t===void 0?{}:t;const n=_M(),i=Tt(),r=i.navigator.platform,s=e||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/);let d=s.match(/(iPad).*OS\s([\d_]+)/);const h=s.match(/(iPod)(.*OS\s([\d_]+))?/),p=!d&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=r==="Win32";let m=r==="MacIntel";const b=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&m&&n.touch&&b.indexOf(`${a}x${l}`)>=0&&(d=s.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),m=!1),u&&!g&&(o.os="android",o.android=!0),(d||p||h)&&(o.os="ios",o.ios=!0),o}function AM(t){return t===void 0&&(t={}),lm||(lm=p4(t)),lm}let cm;function m4(){const t=Tt(),e=AM();let n=!1;function i(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,u]=a.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=l<16||l===16&&u<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=i(),o=s||r&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:r}}function kM(){return cm||(cm=m4()),cm}function g4(t){let{swiper:e,on:n,emit:i}=t;const r=Tt();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(h=>{o=r.requestAnimationFrame(()=>{const{width:p,height:g}=e;let m=p,b=g;h.forEach(y=>{let{contentBoxSize:S,contentRect:x,target:E}=y;E&&E!==e.el||(m=x?x.width:(S[0]||S).inlineSize,b=x?x.height:(S[0]||S).blockSize)}),(m!==p||b!==g)&&a()})}),s.observe(e.el))},u=()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},d=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",d)}),n("destroy",()=>{u(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",d)})}function v4(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s=[],o=Tt(),a=function(d,h){h===void 0&&(h={});const p=o.MutationObserver||o.WebkitMutationObserver,g=new p(m=>{if(e.__preventObserver__)return;if(m.length===1){r("observerUpdate",m[0]);return}const b=function(){r("observerUpdate",m[0])};o.requestAnimationFrame?o.requestAnimationFrame(b):o.setTimeout(b,0)});g.observe(d,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:e.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),s.push(g)},l=()=>{if(e.params.observer){if(e.params.observeParents){const d=go(e.hostEl);for(let h=0;h<d.length;h+=1)a(d[h])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},u=()=>{s.forEach(d=>{d.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",u)}var b4={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=n?"unshift":"push";return t.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(i,o)}return r.__emitterProxy=e,i.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[i].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,i;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),i=t):(e=s[0].events,n=s[0].data,i=s[0].context||t),n.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(i,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(u=>{u.apply(i,n)})}),t}};function y4(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Ts(i,"padding-left")||0,10)-parseInt(Ts(i,"padding-right")||0,10),n=n-parseInt(Ts(i,"padding-top")||0,10)-parseInt(Ts(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function w4(){const t=this;function e(D,X){return parseFloat(D.getPropertyValue(t.getDirectionLabel(X))||0)}const n=t.params,{wrapperEl:i,slidesEl:r,size:s,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,u=l?t.virtual.slides.length:t.slides.length,d=mn(r,`.${t.params.slideClass}, swiper-slide`),h=l?t.virtual.slides.length:d.length;let p=[];const g=[],m=[];let b=n.slidesOffsetBefore;typeof b=="function"&&(b=n.slidesOffsetBefore.call(t));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(t));const S=t.snapGrid.length,x=t.slidesGrid.length;let E=n.spaceBetween,M=-b,A=0,z=0;if(typeof s>"u")return;typeof E=="string"&&E.indexOf("%")>=0?E=parseFloat(E.replace("%",""))/100*s:typeof E=="string"&&(E=parseFloat(E)),t.virtualSize=-E,d.forEach(D=>{o?D.style.marginLeft="":D.style.marginRight="",D.style.marginBottom="",D.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Yl(i,"--swiper-centered-offset-before",""),Yl(i,"--swiper-centered-offset-after",""));const L=n.grid&&n.grid.rows>1&&t.grid;L?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let R;const k=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(D=>typeof n.breakpoints[D].slidesPerView<"u").length>0;for(let D=0;D<h;D+=1){R=0;let X;if(d[D]&&(X=d[D]),L&&t.grid.updateSlide(D,X,d),!(d[D]&&Ts(X,"display")==="none")){if(n.slidesPerView==="auto"){k&&(d[D].style[t.getDirectionLabel("width")]="");const F=getComputedStyle(X),U=X.style.transform,q=X.style.webkitTransform;if(U&&(X.style.transform="none"),q&&(X.style.webkitTransform="none"),n.roundLengths)R=t.isHorizontal()?bg(X,"width"):bg(X,"height");else{const oe=e(F,"width"),Z=e(F,"padding-left"),$=e(F,"padding-right"),W=e(F,"margin-left"),re=e(F,"margin-right"),Te=F.getPropertyValue("box-sizing");if(Te&&Te==="border-box")R=oe+W+re;else{const{clientWidth:Be,offsetWidth:tt}=X;R=oe+Z+$+W+re+(tt-Be)}}U&&(X.style.transform=U),q&&(X.style.webkitTransform=q),n.roundLengths&&(R=Math.floor(R))}else R=(s-(n.slidesPerView-1)*E)/n.slidesPerView,n.roundLengths&&(R=Math.floor(R)),d[D]&&(d[D].style[t.getDirectionLabel("width")]=`${R}px`);d[D]&&(d[D].swiperSlideSize=R),m.push(R),n.centeredSlides?(M=M+R/2+A/2+E,A===0&&D!==0&&(M=M-s/2-E),D===0&&(M=M-s/2-E),Math.abs(M)<1/1e3&&(M=0),n.roundLengths&&(M=Math.floor(M)),z%n.slidesPerGroup===0&&p.push(M),g.push(M)):(n.roundLengths&&(M=Math.floor(M)),(z-Math.min(t.params.slidesPerGroupSkip,z))%t.params.slidesPerGroup===0&&p.push(M),g.push(M),M=M+R+E),t.virtualSize+=R+E,A=R,z+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+y,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${t.virtualSize+E}px`),n.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+E}px`),L&&t.grid.updateWrapperSize(R,p),!n.centeredSlides){const D=[];for(let X=0;X<p.length;X+=1){let F=p[X];n.roundLengths&&(F=Math.floor(F)),p[X]<=t.virtualSize-s&&D.push(F)}p=D,Math.floor(t.virtualSize-s)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-s)}if(l&&n.loop){const D=m[0]+E;if(n.slidesPerGroup>1){const X=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),F=D*n.slidesPerGroup;for(let U=0;U<X;U+=1)p.push(p[p.length-1]+F)}for(let X=0;X<t.virtual.slidesBefore+t.virtual.slidesAfter;X+=1)n.slidesPerGroup===1&&p.push(p[p.length-1]+D),g.push(g[g.length-1]+D),t.virtualSize+=D}if(p.length===0&&(p=[0]),E!==0){const D=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");d.filter((X,F)=>!n.cssMode||n.loop?!0:F!==d.length-1).forEach(X=>{X.style[D]=`${E}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let D=0;m.forEach(F=>{D+=F+(E||0)}),D-=E;const X=D>s?D-s:0;p=p.map(F=>F<=0?-b:F>X?X+y:F)}if(n.centerInsufficientSlides){let D=0;m.forEach(F=>{D+=F+(E||0)}),D-=E;const X=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(D+X<s){const F=(s-D-X)/2;p.forEach((U,q)=>{p[q]=U-F}),g.forEach((U,q)=>{g[q]=U+F})}}if(Object.assign(t,{slides:d,snapGrid:p,slidesGrid:g,slidesSizesGrid:m}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Yl(i,"--swiper-centered-offset-before",`${-p[0]}px`),Yl(i,"--swiper-centered-offset-after",`${t.size/2-m[m.length-1]/2}px`);const D=-t.snapGrid[0],X=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(F=>F+D),t.slidesGrid=t.slidesGrid.map(F=>F+X)}if(h!==u&&t.emit("slidesLengthChange"),p.length!==S&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),g.length!==x&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const D=`${n.containerModifierClass}backface-hidden`,X=t.el.classList.contains(D);h<=n.maxBackfaceHiddenSlides?X||t.el.classList.add(D):X&&t.el.classList.remove(D)}}function S4(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let r=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>i?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!i)break;n.push(o(a))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;r=a>r?a:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function x4(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}const fx=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function E4(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;r&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const u=i[l];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=i[0].swiperSlideOffset);const h=(o+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+a),p=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+a),g=-(o-d),m=g+e.slidesSizesGrid[l],b=g>=0&&g<=e.size-e.slidesSizesGrid[l],y=g>=0&&g<e.size-1||m>1&&m<=e.size||g<=0&&m>=e.size;y&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(l)),fx(u,y,n.slideVisibleClass),fx(u,b,n.slideFullyVisibleClass),u.progress=r?-h:h,u.originalProgress=r?-p:p}}function C4(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,u=o;if(i===0)r=0,s=!0,o=!0;else{r=(t-e.minTranslate())/i;const d=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;s=d||r<=0,o=h||r>=1,d&&(r=0),h&&(r=1)}if(n.loop){const d=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),p=e.slidesGrid[d],g=e.slidesGrid[h],m=e.slidesGrid[e.slidesGrid.length-1],b=Math.abs(t);b>=p?a=(b-p)/m:a=(b+m-g)/m,a>1&&(a-=1)}Object.assign(e,{progress:r,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),o&&!u&&e.emit("reachEnd toEdge"),(l&&!s||u&&!o)&&e.emit("fromEdge"),e.emit("progress",r)}const um=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function T4(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:r}=t,s=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=h=>mn(i,`.${n.slideClass}${h}, swiper-slide${h}`)[0];let l,u,d;if(s)if(n.loop){let h=r-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${h}"]`)}else l=a(`[data-swiper-slide-index="${r}"]`);else o?(l=e.find(h=>h.column===r),d=e.find(h=>h.column===r+1),u=e.find(h=>h.column===r-1)):l=e[r];l&&(o||(d=f4(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),u=d4(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(h=>{um(h,h===l,n.slideActiveClass),um(h,h===d,n.slideNextClass),um(h,h===u,n.slidePrevClass)}),t.emitSlidesClasses()}const Ad=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){let r=i.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},dm=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},yg=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=r,a=[o-e];a.push(...Array.from({length:e}).map((l,u)=>o+i+u)),t.slides.forEach((l,u)=>{a.includes(l.column)&&dm(t,u)});return}const s=r+i-1;if(t.params.rewind||t.params.loop)for(let o=r-e;o<=s+e;o+=1){const a=(o%n+n)%n;(a<r||a>s)&&dm(t,a)}else for(let o=Math.max(r-e,0);o<=Math.min(s+e,n-1);o+=1)o!==r&&(o>s||o<r)&&dm(t,o)};function M4(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function _4(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:o,snapIndex:a}=e;let l=t,u;const d=g=>{let m=g-e.virtual.slidesBefore;return m<0&&(m=e.virtual.slides.length+m),m>=e.virtual.slides.length&&(m-=e.virtual.slides.length),m};if(typeof l>"u"&&(l=M4(e)),i.indexOf(n)>=0)u=i.indexOf(n);else{const g=Math.min(r.slidesPerGroupSkip,l);u=g+Math.floor((l-g)/r.slidesPerGroup)}if(u>=i.length&&(u=i.length-1),l===s&&!e.params.loop){u!==a&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(l);return}const h=e.grid&&r.grid&&r.grid.rows>1;let p;if(e.virtual&&r.virtual.enabled&&r.loop)p=d(l);else if(h){const g=e.slides.find(b=>b.column===l);let m=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(m)&&(m=Math.max(e.slides.indexOf(g),0)),p=Math.floor(m/r.grid.rows)}else if(e.slides[l]){const g=e.slides[l].getAttribute("data-swiper-slide-index");g?p=parseInt(g,10):p=l}else p=l;Object.assign(e,{previousSnapIndex:a,snapIndex:u,previousRealIndex:o,realIndex:p,previousIndex:s,activeIndex:l}),e.initialized&&yg(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function A4(t,e){const n=this,i=n.params;let r=t.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!r&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(r=a)});let s=!1,o;if(r){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===r){s=!0,o=a;break}}if(r&&s)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var k4={updateSize:y4,updateSlides:w4,updateAutoHeight:S4,updateSlidesOffset:x4,updateSlidesProgress:E4,updateProgress:C4,updateSlidesClasses:T4,updateActiveIndex:_4,updateClickedSlide:A4};function O4(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:s}=e;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let o=vg(s,t);return o+=e.cssOverflowAdjustment(),i&&(o=-o),o||0}function R4(t,e){const n=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:o}=n;let a=0,l=0;const u=0;n.isHorizontal()?a=i?-t:t:l=t,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,r.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:r.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${u}px)`);let d;const h=n.maxTranslate()-n.minTranslate();h===0?d=0:d=(t-n.minTranslate())/h,d!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function P4(){return-this.snapGrid[0]}function I4(){return-this.snapGrid[this.snapGrid.length-1]}function L4(t,e,n,i,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),i===void 0&&(i=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),u=s.maxTranslate();let d;if(i&&t>l?d=l:i&&t<u?d=u:d=t,s.updateProgress(d),o.cssMode){const h=s.isHorizontal();if(e===0)a[h?"scrollLeft":"scrollTop"]=-d;else{if(!s.support.smoothScroll)return MM({swiper:s,targetPosition:-d,side:h?"left":"top"}),!0;a.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(p){!s||s.destroyed||p.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var D4={getTranslate:O4,setTranslate:R4,minTranslate:P4,maxTranslate:I4,translateTo:L4};function N4(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function OM(t){let{swiper:e,runCallbacks:n,direction:i,step:r}=t;const{activeIndex:s,previousIndex:o}=e;let a=i;a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${r}`),n&&a==="reset"?e.emit(`slideResetTransition${r}`):n&&s!==o&&(e.emit(`slideChangeTransition${r}`),a==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`))}function z4(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),OM({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function $4(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),OM({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var B4={setTransition:N4,transitionStart:z4,transitionEnd:$4};function F4(t,e,n,i,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:u,previousIndex:d,activeIndex:h,rtlTranslate:p,wrapperEl:g,enabled:m}=s;if(!m&&!i&&!r||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const b=Math.min(s.params.slidesPerGroupSkip,o);let y=b+Math.floor((o-b)/s.params.slidesPerGroup);y>=l.length&&(y=l.length-1);const S=-l[y];if(a.normalizeSlideIndex)for(let L=0;L<u.length;L+=1){const R=-Math.floor(S*100),k=Math.floor(u[L]*100),D=Math.floor(u[L+1]*100);typeof u[L+1]<"u"?R>=k&&R<D-(D-k)/2?o=L:R>=k&&R<D&&(o=L+1):R>=k&&(o=L)}if(s.initialized&&o!==h&&(!s.allowSlideNext&&(p?S>s.translate&&S>s.minTranslate():S<s.translate&&S<s.minTranslate())||!s.allowSlidePrev&&S>s.translate&&S>s.maxTranslate()&&(h||0)!==o))return!1;o!==(d||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(S);let x;o>h?x="next":o<h?x="prev":x="reset";const E=s.virtual&&s.params.virtual.enabled;if(!(E&&r)&&(p&&-S===s.translate||!p&&S===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(S),x!=="reset"&&(s.transitionStart(n,x),s.transitionEnd(n,x)),!1;if(a.cssMode){const L=s.isHorizontal(),R=p?S:-S;if(e===0)E&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),E&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[L?"scrollLeft":"scrollTop"]=R})):g[L?"scrollLeft":"scrollTop"]=R,E&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return MM({swiper:s,targetPosition:R,side:L?"left":"top"}),!0;g.scrollTo({[L?"left":"top"]:R,behavior:"smooth"})}return!0}const z=kM().isSafari;return E&&!r&&z&&s.isElement&&s.virtual.update(!1,!1,o),s.setTransition(e),s.setTranslate(S),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(n,x),e===0?s.transitionEnd(n,x):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(R){!s||s.destroyed||R.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,x))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function H4(t,e,n,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const s=r.grid&&r.params.grid&&r.params.grid.rows>1;let o=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)o=o+r.virtual.slidesBefore;else{let a;if(s){const p=o*r.params.grid.rows;a=r.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===p).column}else a=r.getSlideIndexByData(o);const l=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:u}=r.params;let d=r.params.slidesPerView;d==="auto"?d=r.slidesPerViewDynamic():(d=Math.ceil(parseFloat(r.params.slidesPerView,10)),u&&d%2===0&&(d=d+1));let h=l-a<d;if(u&&(h=h||a<Math.ceil(d/2)),i&&u&&r.params.slidesPerView!=="auto"&&!s&&(h=!1),h){const p=u?a<r.activeIndex?"prev":"next":a-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?a+1:a-l+1,slideRealIndex:p==="next"?r.realIndex:void 0})}if(s){const p=o*r.params.grid.rows;o=r.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===p).column}else o=r.getSlideIndexByData(o)}return requestAnimationFrame(()=>{r.slideTo(o,e,n,i)}),r}function W4(t,e,n){e===void 0&&(e=!0);const i=this,{enabled:r,params:s,animating:o}=i;if(!r||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<s.slidesPerGroupSkip?1:a,u=i.virtual&&s.virtual.enabled;if(s.loop){if(o&&!u&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,t,e,n)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+l,t,e,n)}function V4(t,e,n){e===void 0&&(e=!0);const i=this,{params:r,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:u}=i;if(!l||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);const d=i.virtual&&r.virtual.enabled;if(r.loop){if(u&&!d&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const h=a?i.translate:-i.translate;function p(x){return x<0?-Math.floor(Math.abs(x)):Math.floor(x)}const g=p(h),m=s.map(x=>p(x)),b=r.freeMode&&r.freeMode.enabled;let y=s[m.indexOf(g)-1];if(typeof y>"u"&&(r.cssMode||b)){let x;s.forEach((E,M)=>{g>=E&&(x=M)}),typeof x<"u"&&(y=b?s[x]:s[x>0?x-1:x])}let S=0;if(typeof y<"u"&&(S=o.indexOf(y),S<0&&(S=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(S=S-i.slidesPerViewDynamic("previous",!0)+1,S=Math.max(S,0))),r.rewind&&i.isBeginning){const x=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(x,t,e,n)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(S,t,e,n)}),!0;return i.slideTo(S,t,e,n)}function j4(t,e,n){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,n)}function U4(t,e,n,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let s=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){const u=r.snapGrid[a],d=r.snapGrid[a+1];l-u>(d-u)*i&&(s+=r.params.slidesPerGroup)}else{const u=r.snapGrid[a-1],d=r.snapGrid[a];l-u<=(d-u)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,t,e,n)}function Y4(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.clickedIndex,s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-i/2||r>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),r=t.getSlideIndex(mn(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),_o(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-i?(t.loopFix(),r=t.getSlideIndex(mn(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),_o(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var X4={slideTo:F4,slideToLoop:H4,slideNext:W4,slidePrev:V4,slideReset:j4,slideToClosest:U4,slideToClickedSlide:Y4};function q4(t,e){const n=this,{params:i,slidesEl:r}=n;if(!i.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{mn(r,`.${i.slideClass}, swiper-slide`).forEach((p,g)=>{p.setAttribute("data-swiper-slide-index",g)})},o=n.grid&&i.grid&&i.grid.rows>1,a=i.slidesPerGroup*(o?i.grid.rows:1),l=n.slides.length%a!==0,u=o&&n.slides.length%i.grid.rows!==0,d=h=>{for(let p=0;p<h;p+=1){const g=n.isElement?ui("swiper-slide",[i.slideBlankClass]):ui("div",[i.slideClass,i.slideBlankClass]);n.slidesEl.append(g)}};if(l){if(i.loopAddBlankSlides){const h=a-n.slides.length%a;d(h),n.recalcSlides(),n.updateSlides()}else of("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(u){if(i.loopAddBlankSlides){const h=i.grid.rows-n.slides.length%i.grid.rows;d(h),n.recalcSlides(),n.updateSlides()}else of("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();n.loopFix({slideRealIndex:t,direction:i.centeredSlides?void 0:"next",initial:e})}function G4(t){let{slideRealIndex:e,slideTo:n=!0,direction:i,setTranslate:r,activeSlideIndex:s,initial:o,byController:a,byMousewheel:l}=t===void 0?{}:t;const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:d,allowSlidePrev:h,allowSlideNext:p,slidesEl:g,params:m}=u,{centeredSlides:b,initialSlide:y}=m;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&m.virtual.enabled){n&&(!m.centeredSlides&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):m.centeredSlides&&u.snapIndex<m.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=h,u.allowSlideNext=p,u.emit("loopFix");return}let S=m.slidesPerView;S==="auto"?S=u.slidesPerViewDynamic():(S=Math.ceil(parseFloat(m.slidesPerView,10)),b&&S%2===0&&(S=S+1));const x=m.slidesPerGroupAuto?S:m.slidesPerGroup;let E=x;E%x!==0&&(E+=x-E%x),E+=m.loopAdditionalSlides,u.loopedSlides=E;const M=u.grid&&m.grid&&m.grid.rows>1;d.length<S+E||u.params.effect==="cards"&&d.length<S+E*2?of("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):M&&m.grid.fill==="row"&&of("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const A=[],z=[],L=M?Math.ceil(d.length/m.grid.rows):d.length,R=o&&L-y<S&&!b;let k=R?y:u.activeIndex;typeof s>"u"?s=u.getSlideIndex(d.find(Z=>Z.classList.contains(m.slideActiveClass))):k=s;const D=i==="next"||!i,X=i==="prev"||!i;let F=0,U=0;const oe=(M?d[s].column:s)+(b&&typeof r>"u"?-S/2+.5:0);if(oe<E){F=Math.max(E-oe,x);for(let Z=0;Z<E-oe;Z+=1){const $=Z-Math.floor(Z/L)*L;if(M){const W=L-$-1;for(let re=d.length-1;re>=0;re-=1)d[re].column===W&&A.push(re)}else A.push(L-$-1)}}else if(oe+S>L-E){U=Math.max(oe-(L-E*2),x),R&&(U=Math.max(U,S-L+y+1));for(let Z=0;Z<U;Z+=1){const $=Z-Math.floor(Z/L)*L;M?d.forEach((W,re)=>{W.column===$&&z.push(re)}):z.push($)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),u.params.effect==="cards"&&d.length<S+E*2&&(z.includes(s)&&z.splice(z.indexOf(s),1),A.includes(s)&&A.splice(A.indexOf(s),1)),X&&A.forEach(Z=>{d[Z].swiperLoopMoveDOM=!0,g.prepend(d[Z]),d[Z].swiperLoopMoveDOM=!1}),D&&z.forEach(Z=>{d[Z].swiperLoopMoveDOM=!0,g.append(d[Z]),d[Z].swiperLoopMoveDOM=!1}),u.recalcSlides(),m.slidesPerView==="auto"?u.updateSlides():M&&(A.length>0&&X||z.length>0&&D)&&u.slides.forEach((Z,$)=>{u.grid.updateSlide($,Z,u.slides)}),m.watchSlidesProgress&&u.updateSlidesOffset(),n){if(A.length>0&&X){if(typeof e>"u"){const Z=u.slidesGrid[k],W=u.slidesGrid[k+F]-Z;l?u.setTranslate(u.translate-W):(u.slideTo(k+Math.ceil(F),0,!1,!0),r&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-W,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-W))}else if(r){const Z=M?A.length/m.grid.rows:A.length;u.slideTo(u.activeIndex+Z,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(z.length>0&&D)if(typeof e>"u"){const Z=u.slidesGrid[k],W=u.slidesGrid[k-U]-Z;l?u.setTranslate(u.translate-W):(u.slideTo(k-U,0,!1,!0),r&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-W,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-W))}else{const Z=M?z.length/m.grid.rows:z.length;u.slideTo(u.activeIndex-Z,0,!1,!0)}}if(u.allowSlidePrev=h,u.allowSlideNext=p,u.controller&&u.controller.control&&!a){const Z={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach($=>{!$.destroyed&&$.params.loop&&$.loopFix({...Z,slideTo:$.params.slidesPerView===m.slidesPerView?n:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...Z,slideTo:u.controller.control.params.slidesPerView===m.slidesPerView?n:!1})}u.emit("loopFix")}function K4(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var J4={loopCreate:q4,loopFix:G4,loopDestroy:K4};function Z4(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Q4(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var e8={setGrabCursor:Z4,unsetGrabCursor:Q4};function t8(t,e){e===void 0&&(e=this);function n(i){if(!i||i===nn()||i===Tt())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(t);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(e)}function hx(t,e,n){const i=Tt(),{params:r}=t,s=r.edgeSwipeDetection,o=r.edgeSwipeThreshold;return s&&(n<=o||n>=i.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function n8(t){const e=this,n=nn();let i=t;i.originalEvent&&(i=i.originalEvent);const r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){hx(e,i,i.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&i.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=i.target;if(s.touchEventsTarget==="wrapper"&&!u4(l,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const u=!!s.noSwipingClass&&s.noSwipingClass!=="",d=i.composedPath?i.composedPath():i.path;u&&i.target&&i.target.shadowRoot&&d&&(l=d[0]);const h=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,p=!!(i.target&&i.target.shadowRoot);if(s.noSwiping&&(p?t8(h,l):l.closest(h))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;const g=o.currentX,m=o.currentY;if(!hx(e,i,g))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=g,o.startY=m,r.touchStartTime=Ti(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let b=!0;l.matches(r.focusableElements)&&(b=!1,l.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==l&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!l.matches(r.focusableElements))&&n.activeElement.blur();const y=b&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||y)&&!l.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function i8(t){const e=nn(),n=this,i=n.touchEventsData,{params:r,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!r.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(i.touchId!==null||l.pointerId!==i.pointerId))return;let u;if(l.type==="touchmove"){if(u=[...l.changedTouches].find(A=>A.identifier===i.touchId),!u||u.identifier!==i.touchId)return}else u=l;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",l);return}const d=u.pageX,h=u.pageY;if(l.preventedByNestedSwiper){s.startX=d,s.startY=h;return}if(!n.allowTouchMove){l.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:d,startY:h,currentX:d,currentY:h}),i.touchStartTime=Ti());return}if(r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(h<s.startY&&n.translate<=n.maxTranslate()||h>s.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(o&&(d>s.startX&&-n.translate<=n.maxTranslate()||d<s.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(d<s.startX&&n.translate<=n.maxTranslate()||d>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=d,s.currentY=h;const p=s.currentX-s.startX,g=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(p**2+g**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let A;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:p*p+g*g>=25&&(A=Math.atan2(Math.abs(g),Math.abs(p))*180/Math.PI,i.isScrolling=n.isHorizontal()?A>r.touchAngle:90-A>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||l.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let m=n.isHorizontal()?p:g,b=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(m=Math.abs(m)*(o?1:-1),b=Math.abs(b)*(o?1:-1)),s.diff=m,m*=r.touchRatio,o&&(m=-m,b=-b);const y=n.touchesDirection;n.swipeDirection=m>0?"prev":"next",n.touchesDirection=b>0?"prev":"next";const S=n.params.loop&&!r.cssMode,x=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(S&&x&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const A=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(A)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),r._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&y!==n.touchesDirection&&S&&x&&Math.abs(m)>=1){Object.assign(s,{startX:d,startY:h,currentX:d,currentY:h,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=m+i.startTranslate;let E=!0,M=r.resistanceRatio;if(r.touchReleaseOnEdges&&(M=0),m>0?(S&&x&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(E=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+m)**M))):m<0&&(S&&x&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(E=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-m)**M))),E&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(m)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function r8(t){const e=this,n=e.touchEventsData;let i=t;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].find(A=>A.identifier===n.touchId),!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:u,enabled:d}=e;if(!d||!o.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=Ti(),p=h-n.touchStartTime;if(e.allowClick){const A=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(A&&A[0]||i.target,A),e.emit("tap click",i),p<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=Ti(),_o(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let g;if(o.followFinger?g=l?e.translate:-e.translate:g=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:g});return}const m=g>=-e.maxTranslate()&&!e.params.loop;let b=0,y=e.slidesSizesGrid[0];for(let A=0;A<u.length;A+=A<o.slidesPerGroupSkip?1:o.slidesPerGroup){const z=A<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof u[A+z]<"u"?(m||g>=u[A]&&g<u[A+z])&&(b=A,y=u[A+z]-u[A]):(m||g>=u[A])&&(b=A,y=u[u.length-1]-u[u.length-2])}let S=null,x=null;o.rewind&&(e.isBeginning?x=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(S=0));const E=(g-u[b])/y,M=b<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(E>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?S:b+M):e.slideTo(b)),e.swipeDirection==="prev"&&(E>1-o.longSwipesRatio?e.slideTo(b+M):x!==null&&E<0&&Math.abs(E)>o.longSwipesRatio?e.slideTo(x):e.slideTo(b))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(b+M):e.slideTo(b):(e.swipeDirection==="next"&&e.slideTo(S!==null?S:b+M),e.swipeDirection==="prev"&&e.slideTo(x!==null?x:b))}}function px(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function s8(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function o8(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const s=t.maxTranslate()-t.minTranslate();s===0?r=0:r=(t.translate-t.minTranslate())/s,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function a8(t){const e=this;Ad(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function l8(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const RM=(t,e)=>{const n=nn(),{params:i,el:r,wrapperEl:s,device:o}=t,a=!!i.nested,l=e==="on"?"addEventListener":"removeEventListener",u=e;!r||typeof r=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),r[l]("touchstart",t.onTouchStart,{passive:!1}),r[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",t.onClick,!0),i.cssMode&&s[l]("scroll",t.onScroll),i.updateOnWindowResize?t[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",px,!0):t[u]("observerUpdate",px,!0),r[l]("load",t.onLoad,{capture:!0}))};function c8(){const t=this,{params:e}=t;t.onTouchStart=n8.bind(t),t.onTouchMove=i8.bind(t),t.onTouchEnd=r8.bind(t),t.onDocumentTouchStart=l8.bind(t),e.cssMode&&(t.onScroll=o8.bind(t)),t.onClick=s8.bind(t),t.onLoad=a8.bind(t),RM(t,"on")}function u8(){RM(this,"off")}var d8={attachEvents:c8,detachEvents:u8};const mx=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function f8(){const t=this,{realIndex:e,initialized:n,params:i,el:r}=t,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=nn(),a=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",l=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?t.el:o.querySelector(i.breakpointsBase),u=t.getBreakpoint(s,a,l);if(!u||t.currentBreakpoint===u)return;const h=(u in s?s[u]:void 0)||t.originalParams,p=mx(t,i),g=mx(t,h),m=t.params.grabCursor,b=h.grabCursor,y=i.enabled;p&&!g?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!p&&g&&(r.classList.add(`${i.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),m&&!b?t.unsetGrabCursor():!m&&b&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(z=>{if(typeof h[z]>"u")return;const L=i[z]&&i[z].enabled,R=h[z]&&h[z].enabled;L&&!R&&t[z].disable(),!L&&R&&t[z].enable()});const S=h.direction&&h.direction!==i.direction,x=i.loop&&(h.slidesPerView!==i.slidesPerView||S),E=i.loop;S&&n&&t.changeDirection(),oi(t.params,h);const M=t.params.enabled,A=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),y&&!M?t.disable():!y&&M&&t.enable(),t.currentBreakpoint=u,t.emit("_beforeBreakpoint",h),n&&(x?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!E&&A?(t.loopCreate(e),t.updateSlides()):E&&!A&&t.loopDestroy()),t.emit("breakpoint",h)}function h8(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let i=!1;const r=Tt(),s=e==="window"?r.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:u}=o[a];e==="window"?r.matchMedia(`(min-width: ${u}px)`).matches&&(i=l):u<=n.clientWidth&&(i=l)}return i||"max"}var p8={setBreakpoint:f8,getBreakpoint:h8};function m8(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(e+r)}):typeof i=="string"&&n.push(e+i)}),n}function g8(){const t=this,{classNames:e,params:n,rtl:i,el:r,device:s}=t,o=m8(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),r.classList.add(...e),t.emitContainerClasses()}function v8(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var b8={addClasses:g8,removeClasses:v8};function y8(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const r=t.slides.length-1,s=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var w8={checkOverflow:y8},wg={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function S8(t,e){return function(i){i===void 0&&(i={});const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){oi(e,i);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in s)){oi(e,i);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),oi(e,i)}}const fm={eventsEmitter:b4,update:k4,translate:D4,transition:B4,slide:X4,loop:J4,grabCursor:e8,events:d8,breakpoints:p8,checkOverflow:w8,classes:b8},hm={};class si{constructor(){let e,n;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[e,n]=r,n||(n={}),n=oi({},n),e&&!n.el&&(n.el=e);const o=nn();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const d=[];return o.querySelectorAll(n.el).forEach(h=>{const p=oi({},n,{el:h});d.push(new si(p))}),d}const a=this;a.__swiper__=!0,a.support=_M(),a.device=AM({userAgent:n.userAgent}),a.browser=kM(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(d=>{d({params:n,swiper:a,extendParams:S8(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const u=oi({},wg,l);return a.params=oi({},u,hm,n),a.originalParams=oi({},a.params),a.passedParams=oi({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:i}=this,r=mn(n,`.${i.slideClass}, swiper-slide`),s=Rc(r[0]);return Rc(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=mn(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),o=(i.maxTranslate()-r)*e+r;i.translateTo(o,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);n.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const i=this,{params:r,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:u}=i;let d=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let h=s[u]?Math.ceil(s[u].swiperSlideSize):0,p;for(let g=u+1;g<s.length;g+=1)s[g]&&!p&&(h+=Math.ceil(s[g].swiperSlideSize),d+=1,h>l&&(p=!0));for(let g=u-1;g>=0;g-=1)s[g]&&!p&&(h+=s[g].swiperSlideSize,d+=1,h>l&&(p=!0))}else if(e==="current")for(let h=u+1;h<s.length;h+=1)(n?o[h]+a[h]-o[u]<l:o[h]-o[u]<l)&&(d+=1);else for(let h=u-1;h>=0;h-=1)o[u]-o[h]<l&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Ad(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const o=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):mn(i,r())[0];return!o&&n.params.createElements&&(o=ui("div",n.params.wrapperClass),i.append(o),mn(i,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:i,wrapperEl:o,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Ts(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Ts(i,"direction")==="rtl"),wrongRTL:Ts(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?Ad(n,s):s.addEventListener("load",o=>{Ad(n,o.target)})}),yg(n),n.initialized=!0,yg(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const i=this,{params:r,el:s,wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),o4(i)),i.destroyed=!0),null}static extendDefaults(e){oi(hm,e)}static get extendedDefaults(){return hm}static get defaults(){return wg}static installModule(e){si.prototype.__modules__||(si.prototype.__modules__=[]);const n=si.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>si.installModule(n)),si):(si.installModule(e),si)}}Object.keys(fm).forEach(t=>{Object.keys(fm[t]).forEach(e=>{si.prototype[e]=fm[t][e]})});si.use([g4,v4]);function x8(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;n({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let s;const o=nn();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const a=o.createElement("div");function l(m,b){const y=e.params.virtual;if(y.cache&&e.virtual.cache[b])return e.virtual.cache[b];let S;return y.renderSlide?(S=y.renderSlide.call(e,m,b),typeof S=="string"&&(Pi(a,S),S=a.children[0])):e.isElement?S=ui("swiper-slide"):S=ui("div",e.params.slideClass),S.setAttribute("data-swiper-slide-index",b),y.renderSlide||Pi(S,m),y.cache&&(e.virtual.cache[b]=S),S}function u(m,b,y){const{slidesPerView:S,slidesPerGroup:x,centeredSlides:E,loop:M,initialSlide:A}=e.params;if(b&&!M&&A>0)return;const{addSlidesBefore:z,addSlidesAfter:L}=e.params.virtual,{from:R,to:k,slides:D,slidesGrid:X,offset:F}=e.virtual;e.params.cssMode||e.updateActiveIndex();const U=typeof y>"u"?e.activeIndex||0:y;let q;e.rtlTranslate?q="right":q=e.isHorizontal()?"left":"top";let oe,Z;E?(oe=Math.floor(S/2)+x+L,Z=Math.floor(S/2)+x+z):(oe=S+(x-1)+L,Z=(M?S:x)+z);let $=U-Z,W=U+oe;M||($=Math.max($,0),W=Math.min(W,D.length-1));let re=(e.slidesGrid[$]||0)-(e.slidesGrid[0]||0);M&&U>=Z?($-=Z,E||(re+=e.slidesGrid[0])):M&&U<Z&&($=-Z,E&&(re+=e.slidesGrid[0])),Object.assign(e.virtual,{from:$,to:W,offset:re,slidesGrid:e.slidesGrid,slidesBefore:Z,slidesAfter:oe});function Te(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),r("virtualUpdate")}if(R===$&&k===W&&!m){e.slidesGrid!==X&&re!==F&&e.slides.forEach(ie=>{ie.style[q]=`${re-Math.abs(e.cssOverflowAdjustment())}px`}),e.updateProgress(),r("virtualUpdate");return}if(e.params.virtual.renderExternal){e.params.virtual.renderExternal.call(e,{offset:re,from:$,to:W,slides:function(){const B=[];for(let de=$;de<=W;de+=1)B.push(D[de]);return B}()}),e.params.virtual.renderExternalUpdate?Te():r("virtualUpdate");return}const Be=[],tt=[],Nt=ie=>{let B=ie;return ie<0?B=D.length+ie:B>=D.length&&(B=B-D.length),B};if(m)e.slides.filter(ie=>ie.matches(`.${e.params.slideClass}, swiper-slide`)).forEach(ie=>{ie.remove()});else for(let ie=R;ie<=k;ie+=1)if(ie<$||ie>W){const B=Nt(ie);e.slides.filter(de=>de.matches(`.${e.params.slideClass}[data-swiper-slide-index="${B}"], swiper-slide[data-swiper-slide-index="${B}"]`)).forEach(de=>{de.remove()})}const yn=M?-D.length:0,fe=M?D.length*2:D.length;for(let ie=yn;ie<fe;ie+=1)if(ie>=$&&ie<=W){const B=Nt(ie);typeof k>"u"||m?tt.push(B):(ie>k&&tt.push(B),ie<R&&Be.push(B))}if(tt.forEach(ie=>{e.slidesEl.append(l(D[ie],ie))}),M)for(let ie=Be.length-1;ie>=0;ie-=1){const B=Be[ie];e.slidesEl.prepend(l(D[B],B))}else Be.sort((ie,B)=>B-ie),Be.forEach(ie=>{e.slidesEl.prepend(l(D[ie],ie))});mn(e.slidesEl,".swiper-slide, swiper-slide").forEach(ie=>{ie.style[q]=`${re-Math.abs(e.cssOverflowAdjustment())}px`}),Te()}function d(m){if(typeof m=="object"&&"length"in m)for(let b=0;b<m.length;b+=1)m[b]&&e.virtual.slides.push(m[b]);else e.virtual.slides.push(m);u(!0)}function h(m){const b=e.activeIndex;let y=b+1,S=1;if(Array.isArray(m)){for(let x=0;x<m.length;x+=1)m[x]&&e.virtual.slides.unshift(m[x]);y=b+m.length,S=m.length}else e.virtual.slides.unshift(m);if(e.params.virtual.cache){const x=e.virtual.cache,E={};Object.keys(x).forEach(M=>{const A=x[M],z=A.getAttribute("data-swiper-slide-index");z&&A.setAttribute("data-swiper-slide-index",parseInt(z,10)+S),E[parseInt(M,10)+S]=A}),e.virtual.cache=E}u(!0),e.slideTo(y,0)}function p(m){if(typeof m>"u"||m===null)return;let b=e.activeIndex;if(Array.isArray(m))for(let y=m.length-1;y>=0;y-=1)e.params.virtual.cache&&(delete e.virtual.cache[m[y]],Object.keys(e.virtual.cache).forEach(S=>{S>m&&(e.virtual.cache[S-1]=e.virtual.cache[S],e.virtual.cache[S-1].setAttribute("data-swiper-slide-index",S-1),delete e.virtual.cache[S])})),e.virtual.slides.splice(m[y],1),m[y]<b&&(b-=1),b=Math.max(b,0);else e.params.virtual.cache&&(delete e.virtual.cache[m],Object.keys(e.virtual.cache).forEach(y=>{y>m&&(e.virtual.cache[y-1]=e.virtual.cache[y],e.virtual.cache[y-1].setAttribute("data-swiper-slide-index",y-1),delete e.virtual.cache[y])})),e.virtual.slides.splice(m,1),m<b&&(b-=1),b=Math.max(b,0);u(!0),e.slideTo(b,0)}function g(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),u(!0),e.slideTo(0,0)}i("beforeInit",()=>{if(!e.params.virtual.enabled)return;let m;if(typeof e.passedParams.virtual.slides>"u"){const b=[...e.slidesEl.children].filter(y=>y.matches(`.${e.params.slideClass}, swiper-slide`));b&&b.length&&(e.virtual.slides=[...b],m=!0,b.forEach((y,S)=>{y.setAttribute("data-swiper-slide-index",S),e.virtual.cache[S]=y,y.remove()}))}m||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,u(!1,!0)}),i("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(s),s=setTimeout(()=>{u()},100)):u())}),i("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&Yl(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:d,prependSlide:h,removeSlide:p,removeAllSlides:g,update:u})}function E8(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s=nn(),o=Tt();e.keyboard={enabled:!1},n({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function a(d){if(!e.enabled)return;const{rtlTranslate:h}=e;let p=d;p.originalEvent&&(p=p.originalEvent);const g=p.keyCode||p.charCode,m=e.params.keyboard.pageUpDown,b=m&&g===33,y=m&&g===34,S=g===37,x=g===39,E=g===38,M=g===40;if(!e.allowSlideNext&&(e.isHorizontal()&&x||e.isVertical()&&M||y)||!e.allowSlidePrev&&(e.isHorizontal()&&S||e.isVertical()&&E||b))return!1;if(!(p.shiftKey||p.altKey||p.ctrlKey||p.metaKey)&&!(s.activeElement&&s.activeElement.nodeName&&(s.activeElement.nodeName.toLowerCase()==="input"||s.activeElement.nodeName.toLowerCase()==="textarea"))){if(e.params.keyboard.onlyInViewport&&(b||y||S||x||E||M)){let A=!1;if(go(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&go(e.el,`.${e.params.slideActiveClass}`).length===0)return;const z=e.el,L=z.clientWidth,R=z.clientHeight,k=o.innerWidth,D=o.innerHeight,X=af(z);h&&(X.left-=z.scrollLeft);const F=[[X.left,X.top],[X.left+L,X.top],[X.left,X.top+R],[X.left+L,X.top+R]];for(let U=0;U<F.length;U+=1){const q=F[U];if(q[0]>=0&&q[0]<=k&&q[1]>=0&&q[1]<=D){if(q[0]===0&&q[1]===0)continue;A=!0}}if(!A)return}e.isHorizontal()?((b||y||S||x)&&(p.preventDefault?p.preventDefault():p.returnValue=!1),((y||x)&&!h||(b||S)&&h)&&e.slideNext(),((b||S)&&!h||(y||x)&&h)&&e.slidePrev()):((b||y||E||M)&&(p.preventDefault?p.preventDefault():p.returnValue=!1),(y||M)&&e.slideNext(),(b||E)&&e.slidePrev()),r("keyPress",g)}}function l(){e.keyboard.enabled||(s.addEventListener("keydown",a),e.keyboard.enabled=!0)}function u(){e.keyboard.enabled&&(s.removeEventListener("keydown",a),e.keyboard.enabled=!1)}i("init",()=>{e.params.keyboard.enabled&&l()}),i("destroy",()=>{e.keyboard.enabled&&u()}),Object.assign(e.keyboard,{enable:l,disable:u})}function C8(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s=Tt();n({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let o,a=Ti(),l;const u=[];function d(E){let L=0,R=0,k=0,D=0;return"detail"in E&&(R=E.detail),"wheelDelta"in E&&(R=-E.wheelDelta/120),"wheelDeltaY"in E&&(R=-E.wheelDeltaY/120),"wheelDeltaX"in E&&(L=-E.wheelDeltaX/120),"axis"in E&&E.axis===E.HORIZONTAL_AXIS&&(L=R,R=0),k=L*10,D=R*10,"deltaY"in E&&(D=E.deltaY),"deltaX"in E&&(k=E.deltaX),E.shiftKey&&!k&&(k=D,D=0),(k||D)&&E.deltaMode&&(E.deltaMode===1?(k*=40,D*=40):(k*=800,D*=800)),k&&!L&&(L=k<1?-1:1),D&&!R&&(R=D<1?-1:1),{spinX:L,spinY:R,pixelX:k,pixelY:D}}function h(){e.enabled&&(e.mouseEntered=!0)}function p(){e.enabled&&(e.mouseEntered=!1)}function g(E){return e.params.mousewheel.thresholdDelta&&E.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&Ti()-a<e.params.mousewheel.thresholdTime?!1:E.delta>=6&&Ti()-a<60?!0:(E.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),r("scroll",E.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),r("scroll",E.raw)),a=new s.Date().getTime(),!1)}function m(E){const M=e.params.mousewheel;if(E.direction<0){if(e.isEnd&&!e.params.loop&&M.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&M.releaseOnEdges)return!0;return!1}function b(E){let M=E,A=!0;if(!e.enabled||E.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const z=e.params.mousewheel;e.params.cssMode&&M.preventDefault();let L=e.el;e.params.mousewheel.eventsTarget!=="container"&&(L=document.querySelector(e.params.mousewheel.eventsTarget));const R=L&&L.contains(M.target);if(!e.mouseEntered&&!R&&!z.releaseOnEdges)return!0;M.originalEvent&&(M=M.originalEvent);let k=0;const D=e.rtlTranslate?-1:1,X=d(M);if(z.forceToAxis)if(e.isHorizontal())if(Math.abs(X.pixelX)>Math.abs(X.pixelY))k=-X.pixelX*D;else return!0;else if(Math.abs(X.pixelY)>Math.abs(X.pixelX))k=-X.pixelY;else return!0;else k=Math.abs(X.pixelX)>Math.abs(X.pixelY)?-X.pixelX*D:-X.pixelY;if(k===0)return!0;z.invert&&(k=-k);let F=e.getTranslate()+k*z.sensitivity;if(F>=e.minTranslate()&&(F=e.minTranslate()),F<=e.maxTranslate()&&(F=e.maxTranslate()),A=e.params.loop?!0:!(F===e.minTranslate()||F===e.maxTranslate()),A&&e.params.nested&&M.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const U={time:Ti(),delta:Math.abs(k),direction:Math.sign(k),raw:E};u.length>=2&&u.shift();const q=u.length?u[u.length-1]:void 0;if(u.push(U),q?(U.direction!==q.direction||U.delta>q.delta||U.time>q.time+150)&&g(U):g(U),m(U))return!0}else{const U={time:Ti(),delta:Math.abs(k),direction:Math.sign(k)},q=l&&U.time<l.time+500&&U.delta<=l.delta&&U.direction===l.direction;if(!q){l=void 0;let oe=e.getTranslate()+k*z.sensitivity;const Z=e.isBeginning,$=e.isEnd;if(oe>=e.minTranslate()&&(oe=e.minTranslate()),oe<=e.maxTranslate()&&(oe=e.maxTranslate()),e.setTransition(0),e.setTranslate(oe),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!Z&&e.isBeginning||!$&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:U.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(o),o=void 0,u.length>=15&&u.shift();const W=u.length?u[u.length-1]:void 0,re=u[0];if(u.push(U),W&&(U.delta>W.delta||U.direction!==W.direction))u.splice(0);else if(u.length>=15&&U.time-re.time<500&&re.delta-U.delta>=1&&U.delta<=6){const Te=k>0?.8:.2;l=U,u.splice(0),o=_o(()=>{e.destroyed||!e.params||e.slideToClosest(e.params.speed,!0,void 0,Te)},0)}o||(o=_o(()=>{if(e.destroyed||!e.params)return;const Te=.5;l=U,u.splice(0),e.slideToClosest(e.params.speed,!0,void 0,Te)},500))}if(q||r("scroll",M),e.params.autoplay&&e.params.autoplay.disableOnInteraction&&e.autoplay.stop(),z.releaseOnEdges&&(oe===e.minTranslate()||oe===e.maxTranslate()))return!0}}return M.preventDefault?M.preventDefault():M.returnValue=!1,!1}function y(E){let M=e.el;e.params.mousewheel.eventsTarget!=="container"&&(M=document.querySelector(e.params.mousewheel.eventsTarget)),M[E]("mouseenter",h),M[E]("mouseleave",p),M[E]("wheel",b)}function S(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",b),!0):e.mousewheel.enabled?!1:(y("addEventListener"),e.mousewheel.enabled=!0,!0)}function x(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,b),!0):e.mousewheel.enabled?(y("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}i("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&x(),e.params.mousewheel.enabled&&S()}),i("destroy",()=>{e.params.cssMode&&S(),e.mousewheel.enabled&&x()}),Object.assign(e.mousewheel,{enable:S,disable:x})}function Dv(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&n.auto===!0){let s=mn(t.el,`.${i[r]}`)[0];s||(s=ui("div",i[r]),s.className=i[r],t.el.append(s)),n[r]=s,e[r]=s}}),n}function T8(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(m){let b;return m&&typeof m=="string"&&e.isElement&&(b=e.el.querySelector(m)||e.hostEl.querySelector(m),b)?b:(m&&(typeof m=="string"&&(b=[...document.querySelectorAll(m)]),e.params.uniqueNavElements&&typeof m=="string"&&b&&b.length>1&&e.el.querySelectorAll(m).length===1?b=e.el.querySelector(m):b&&b.length===1&&(b=b[0])),m&&!b?m:b)}function o(m,b){const y=e.params.navigation;m=it(m),m.forEach(S=>{S&&(S.classList[b?"add":"remove"](...y.disabledClass.split(" ")),S.tagName==="BUTTON"&&(S.disabled=b),e.params.watchOverflow&&e.enabled&&S.classList[e.isLocked?"add":"remove"](y.lockClass))})}function a(){const{nextEl:m,prevEl:b}=e.navigation;if(e.params.loop){o(b,!1),o(m,!1);return}o(b,e.isBeginning&&!e.params.rewind),o(m,e.isEnd&&!e.params.rewind)}function l(m){m.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function u(m){m.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function d(){const m=e.params.navigation;if(e.params.navigation=Dv(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(m.nextEl||m.prevEl))return;let b=s(m.nextEl),y=s(m.prevEl);Object.assign(e.navigation,{nextEl:b,prevEl:y}),b=it(b),y=it(y);const S=(x,E)=>{x&&x.addEventListener("click",E==="next"?u:l),!e.enabled&&x&&x.classList.add(...m.lockClass.split(" "))};b.forEach(x=>S(x,"next")),y.forEach(x=>S(x,"prev"))}function h(){let{nextEl:m,prevEl:b}=e.navigation;m=it(m),b=it(b);const y=(S,x)=>{S.removeEventListener("click",x==="next"?u:l),S.classList.remove(...e.params.navigation.disabledClass.split(" "))};m.forEach(S=>y(S,"next")),b.forEach(S=>y(S,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?g():(d(),a())}),i("toEdge fromEdge lock unlock",()=>{a()}),i("destroy",()=>{h()}),i("enable disable",()=>{let{nextEl:m,prevEl:b}=e.navigation;if(m=it(m),b=it(b),e.enabled){a();return}[...m,...b].filter(y=>!!y).forEach(y=>y.classList.add(e.params.navigation.lockClass))}),i("click",(m,b)=>{let{nextEl:y,prevEl:S}=e.navigation;y=it(y),S=it(S);const x=b.target;let E=S.includes(x)||y.includes(x);if(e.isElement&&!E){const M=b.path||b.composedPath&&b.composedPath();M&&(E=M.find(A=>y.includes(A)||S.includes(A)))}if(e.params.navigation.hideOnClick&&!E){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===x||e.pagination.el.contains(x)))return;let M;y.length?M=y[0].classList.contains(e.params.navigation.hiddenClass):S.length&&(M=S[0].classList.contains(e.params.navigation.hiddenClass)),r(M===!0?"navigationShow":"navigationHide"),[...y,...S].filter(A=>!!A).forEach(A=>A.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),a()},g=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:p,disable:g,update:a,init:d,destroy:h})}function zr(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function M8(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:x=>x,formatFractionTotal:x=>x,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(x,E){const{bulletActiveClass:M}=e.params.pagination;x&&(x=x[`${E==="prev"?"previous":"next"}ElementSibling`],x&&(x.classList.add(`${M}-${E}`),x=x[`${E==="prev"?"previous":"next"}ElementSibling`],x&&x.classList.add(`${M}-${E}-${E}`)))}function d(x,E,M){if(x=x%M,E=E%M,E===x+1)return"next";if(E===x-1)return"previous"}function h(x){const E=x.target.closest(zr(e.params.pagination.bulletClass));if(!E)return;x.preventDefault();const M=Rc(E)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===M)return;const A=d(e.realIndex,M,e.slides.length);A==="next"?e.slideNext():A==="previous"?e.slidePrev():e.slideToLoop(M)}else e.slideTo(M)}function p(){const x=e.rtl,E=e.params.pagination;if(l())return;let M=e.pagination.el;M=it(M);let A,z;const L=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,R=e.params.loop?Math.ceil(L/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(z=e.previousRealIndex||0,A=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(A=e.snapIndex,z=e.previousSnapIndex):(z=e.previousIndex||0,A=e.activeIndex||0),E.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const k=e.pagination.bullets;let D,X,F;if(E.dynamicBullets&&(o=bg(k[0],e.isHorizontal()?"width":"height"),M.forEach(U=>{U.style[e.isHorizontal()?"width":"height"]=`${o*(E.dynamicMainBullets+4)}px`}),E.dynamicMainBullets>1&&z!==void 0&&(a+=A-(z||0),a>E.dynamicMainBullets-1?a=E.dynamicMainBullets-1:a<0&&(a=0)),D=Math.max(A-a,0),X=D+(Math.min(k.length,E.dynamicMainBullets)-1),F=(X+D)/2),k.forEach(U=>{const q=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(oe=>`${E.bulletActiveClass}${oe}`)].map(oe=>typeof oe=="string"&&oe.includes(" ")?oe.split(" "):oe).flat();U.classList.remove(...q)}),M.length>1)k.forEach(U=>{const q=Rc(U);q===A?U.classList.add(...E.bulletActiveClass.split(" ")):e.isElement&&U.setAttribute("part","bullet"),E.dynamicBullets&&(q>=D&&q<=X&&U.classList.add(...`${E.bulletActiveClass}-main`.split(" ")),q===D&&u(U,"prev"),q===X&&u(U,"next"))});else{const U=k[A];if(U&&U.classList.add(...E.bulletActiveClass.split(" ")),e.isElement&&k.forEach((q,oe)=>{q.setAttribute("part",oe===A?"bullet-active":"bullet")}),E.dynamicBullets){const q=k[D],oe=k[X];for(let Z=D;Z<=X;Z+=1)k[Z]&&k[Z].classList.add(...`${E.bulletActiveClass}-main`.split(" "));u(q,"prev"),u(oe,"next")}}if(E.dynamicBullets){const U=Math.min(k.length,E.dynamicMainBullets+4),q=(o*U-o)/2-F*o,oe=x?"right":"left";k.forEach(Z=>{Z.style[e.isHorizontal()?oe:"top"]=`${q}px`})}}M.forEach((k,D)=>{if(E.type==="fraction"&&(k.querySelectorAll(zr(E.currentClass)).forEach(X=>{X.textContent=E.formatFractionCurrent(A+1)}),k.querySelectorAll(zr(E.totalClass)).forEach(X=>{X.textContent=E.formatFractionTotal(R)})),E.type==="progressbar"){let X;E.progressbarOpposite?X=e.isHorizontal()?"vertical":"horizontal":X=e.isHorizontal()?"horizontal":"vertical";const F=(A+1)/R;let U=1,q=1;X==="horizontal"?U=F:q=F,k.querySelectorAll(zr(E.progressbarFillClass)).forEach(oe=>{oe.style.transform=`translate3d(0,0,0) scaleX(${U}) scaleY(${q})`,oe.style.transitionDuration=`${e.params.speed}ms`})}E.type==="custom"&&E.renderCustom?(Pi(k,E.renderCustom(e,A+1,R)),D===0&&r("paginationRender",k)):(D===0&&r("paginationRender",k),r("paginationUpdate",k)),e.params.watchOverflow&&e.enabled&&k.classList[e.isLocked?"add":"remove"](E.lockClass)})}function g(){const x=e.params.pagination;if(l())return;const E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let M=e.pagination.el;M=it(M);let A="";if(x.type==="bullets"){let z=e.params.loop?Math.ceil(E/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&z>E&&(z=E);for(let L=0;L<z;L+=1)x.renderBullet?A+=x.renderBullet.call(e,L,x.bulletClass):A+=`<${x.bulletElement} ${e.isElement?'part="bullet"':""} class="${x.bulletClass}"></${x.bulletElement}>`}x.type==="fraction"&&(x.renderFraction?A=x.renderFraction.call(e,x.currentClass,x.totalClass):A=`<span class="${x.currentClass}"></span> / <span class="${x.totalClass}"></span>`),x.type==="progressbar"&&(x.renderProgressbar?A=x.renderProgressbar.call(e,x.progressbarFillClass):A=`<span class="${x.progressbarFillClass}"></span>`),e.pagination.bullets=[],M.forEach(z=>{x.type!=="custom"&&Pi(z,A||""),x.type==="bullets"&&e.pagination.bullets.push(...z.querySelectorAll(zr(x.bulletClass)))}),x.type!=="custom"&&r("paginationRender",M[0])}function m(){e.params.pagination=Dv(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const x=e.params.pagination;if(!x.el)return;let E;typeof x.el=="string"&&e.isElement&&(E=e.el.querySelector(x.el)),!E&&typeof x.el=="string"&&(E=[...document.querySelectorAll(x.el)]),E||(E=x.el),!(!E||E.length===0)&&(e.params.uniqueNavElements&&typeof x.el=="string"&&Array.isArray(E)&&E.length>1&&(E=[...e.el.querySelectorAll(x.el)],E.length>1&&(E=E.find(M=>go(M,".swiper")[0]===e.el))),Array.isArray(E)&&E.length===1&&(E=E[0]),Object.assign(e.pagination,{el:E}),E=it(E),E.forEach(M=>{x.type==="bullets"&&x.clickable&&M.classList.add(...(x.clickableClass||"").split(" ")),M.classList.add(x.modifierClass+x.type),M.classList.add(e.isHorizontal()?x.horizontalClass:x.verticalClass),x.type==="bullets"&&x.dynamicBullets&&(M.classList.add(`${x.modifierClass}${x.type}-dynamic`),a=0,x.dynamicMainBullets<1&&(x.dynamicMainBullets=1)),x.type==="progressbar"&&x.progressbarOpposite&&M.classList.add(x.progressbarOppositeClass),x.clickable&&M.addEventListener("click",h),e.enabled||M.classList.add(x.lockClass)}))}function b(){const x=e.params.pagination;if(l())return;let E=e.pagination.el;E&&(E=it(E),E.forEach(M=>{M.classList.remove(x.hiddenClass),M.classList.remove(x.modifierClass+x.type),M.classList.remove(e.isHorizontal()?x.horizontalClass:x.verticalClass),x.clickable&&(M.classList.remove(...(x.clickableClass||"").split(" ")),M.removeEventListener("click",h))})),e.pagination.bullets&&e.pagination.bullets.forEach(M=>M.classList.remove(...x.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const x=e.params.pagination;let{el:E}=e.pagination;E=it(E),E.forEach(M=>{M.classList.remove(x.horizontalClass,x.verticalClass),M.classList.add(e.isHorizontal()?x.horizontalClass:x.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?S():(m(),g(),p())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&p()}),i("snapIndexChange",()=>{p()}),i("snapGridLengthChange",()=>{g(),p()}),i("destroy",()=>{b()}),i("enable disable",()=>{let{el:x}=e.pagination;x&&(x=it(x),x.forEach(E=>E.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{p()}),i("click",(x,E)=>{const M=E.target,A=it(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&A&&A.length>0&&!M.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&M===e.navigation.nextEl||e.navigation.prevEl&&M===e.navigation.prevEl))return;const z=A[0].classList.contains(e.params.pagination.hiddenClass);r(z===!0?"paginationShow":"paginationHide"),A.forEach(L=>L.classList.toggle(e.params.pagination.hiddenClass))}});const y=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:x}=e.pagination;x&&(x=it(x),x.forEach(E=>E.classList.remove(e.params.pagination.paginationDisabledClass))),m(),g(),p()},S=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:x}=e.pagination;x&&(x=it(x),x.forEach(E=>E.classList.add(e.params.pagination.paginationDisabledClass))),b()};Object.assign(e.pagination,{enable:y,disable:S,render:g,update:p,init:m,destroy:b})}function _8(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s=nn();let o=!1,a=null,l=null,u,d,h,p;n({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function g(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:F,rtlTranslate:U}=e,{dragEl:q,el:oe}=F,Z=e.params.scrollbar,$=e.params.loop?e.progressLoop:e.progress;let W=d,re=(h-d)*$;U?(re=-re,re>0?(W=d-re,re=0):-re+d>h&&(W=h+re)):re<0?(W=d+re,re=0):re+d>h&&(W=h-re),e.isHorizontal()?(q.style.transform=`translate3d(${re}px, 0, 0)`,q.style.width=`${W}px`):(q.style.transform=`translate3d(0px, ${re}px, 0)`,q.style.height=`${W}px`),Z.hide&&(clearTimeout(a),oe.style.opacity=1,a=setTimeout(()=>{oe.style.opacity=0,oe.style.transitionDuration="400ms"},1e3))}function m(F){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${F}ms`)}function b(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:F}=e,{dragEl:U,el:q}=F;U.style.width="",U.style.height="",h=e.isHorizontal()?q.offsetWidth:q.offsetHeight,p=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?d=h*p:d=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?U.style.width=`${d}px`:U.style.height=`${d}px`,p>=1?q.style.display="none":q.style.display="",e.params.scrollbar.hide&&(q.style.opacity=0),e.params.watchOverflow&&e.enabled&&F.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function y(F){return e.isHorizontal()?F.clientX:F.clientY}function S(F){const{scrollbar:U,rtlTranslate:q}=e,{el:oe}=U;let Z;Z=(y(F)-af(oe)[e.isHorizontal()?"left":"top"]-(u!==null?u:d/2))/(h-d),Z=Math.max(Math.min(Z,1),0),q&&(Z=1-Z);const $=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*Z;e.updateProgress($),e.setTranslate($),e.updateActiveIndex(),e.updateSlidesClasses()}function x(F){const U=e.params.scrollbar,{scrollbar:q,wrapperEl:oe}=e,{el:Z,dragEl:$}=q;o=!0,u=F.target===$?y(F)-F.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,F.preventDefault(),F.stopPropagation(),oe.style.transitionDuration="100ms",$.style.transitionDuration="100ms",S(F),clearTimeout(l),Z.style.transitionDuration="0ms",U.hide&&(Z.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),r("scrollbarDragStart",F)}function E(F){const{scrollbar:U,wrapperEl:q}=e,{el:oe,dragEl:Z}=U;o&&(F.preventDefault&&F.cancelable?F.preventDefault():F.returnValue=!1,S(F),q.style.transitionDuration="0ms",oe.style.transitionDuration="0ms",Z.style.transitionDuration="0ms",r("scrollbarDragMove",F))}function M(F){const U=e.params.scrollbar,{scrollbar:q,wrapperEl:oe}=e,{el:Z}=q;o&&(o=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",oe.style.transitionDuration=""),U.hide&&(clearTimeout(l),l=_o(()=>{Z.style.opacity=0,Z.style.transitionDuration="400ms"},1e3)),r("scrollbarDragEnd",F),U.snapOnRelease&&e.slideToClosest())}function A(F){const{scrollbar:U,params:q}=e,oe=U.el;if(!oe)return;const Z=oe,$=q.passiveListeners?{passive:!1,capture:!1}:!1,W=q.passiveListeners?{passive:!0,capture:!1}:!1;if(!Z)return;const re=F==="on"?"addEventListener":"removeEventListener";Z[re]("pointerdown",x,$),s[re]("pointermove",E,$),s[re]("pointerup",M,W)}function z(){!e.params.scrollbar.el||!e.scrollbar.el||A("on")}function L(){!e.params.scrollbar.el||!e.scrollbar.el||A("off")}function R(){const{scrollbar:F,el:U}=e;e.params.scrollbar=Dv(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const q=e.params.scrollbar;if(!q.el)return;let oe;if(typeof q.el=="string"&&e.isElement&&(oe=e.el.querySelector(q.el)),!oe&&typeof q.el=="string"){if(oe=s.querySelectorAll(q.el),!oe.length)return}else oe||(oe=q.el);e.params.uniqueNavElements&&typeof q.el=="string"&&oe.length>1&&U.querySelectorAll(q.el).length===1&&(oe=U.querySelector(q.el)),oe.length>0&&(oe=oe[0]),oe.classList.add(e.isHorizontal()?q.horizontalClass:q.verticalClass);let Z;oe&&(Z=oe.querySelector(zr(e.params.scrollbar.dragClass)),Z||(Z=ui("div",e.params.scrollbar.dragClass),oe.append(Z))),Object.assign(F,{el:oe,dragEl:Z}),q.draggable&&z(),oe&&oe.classList[e.enabled?"remove":"add"](...hs(e.params.scrollbar.lockClass))}function k(){const F=e.params.scrollbar,U=e.scrollbar.el;U&&U.classList.remove(...hs(e.isHorizontal()?F.horizontalClass:F.verticalClass)),L()}i("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const F=e.params.scrollbar;let{el:U}=e.scrollbar;U=it(U),U.forEach(q=>{q.classList.remove(F.horizontalClass,F.verticalClass),q.classList.add(e.isHorizontal()?F.horizontalClass:F.verticalClass)})}),i("init",()=>{e.params.scrollbar.enabled===!1?X():(R(),b(),g())}),i("update resize observerUpdate lock unlock changeDirection",()=>{b()}),i("setTranslate",()=>{g()}),i("setTransition",(F,U)=>{m(U)}),i("enable disable",()=>{const{el:F}=e.scrollbar;F&&F.classList[e.enabled?"remove":"add"](...hs(e.params.scrollbar.lockClass))}),i("destroy",()=>{k()});const D=()=>{e.el.classList.remove(...hs(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...hs(e.params.scrollbar.scrollbarDisabledClass)),R(),b(),g()},X=()=>{e.el.classList.add(...hs(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...hs(e.params.scrollbar.scrollbarDisabledClass)),k()};Object.assign(e.scrollbar,{enable:D,disable:X,updateSize:b,setTranslate:g,init:R,destroy:k})}function A8(t){let{swiper:e,extendParams:n,on:i}=t;n({parallax:{enabled:!1}});const r="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",s=(l,u)=>{const{rtl:d}=e,h=d?-1:1,p=l.getAttribute("data-swiper-parallax")||"0";let g=l.getAttribute("data-swiper-parallax-x"),m=l.getAttribute("data-swiper-parallax-y");const b=l.getAttribute("data-swiper-parallax-scale"),y=l.getAttribute("data-swiper-parallax-opacity"),S=l.getAttribute("data-swiper-parallax-rotate");if(g||m?(g=g||"0",m=m||"0"):e.isHorizontal()?(g=p,m="0"):(m=p,g="0"),g.indexOf("%")>=0?g=`${parseInt(g,10)*u*h}%`:g=`${g*u*h}px`,m.indexOf("%")>=0?m=`${parseInt(m,10)*u}%`:m=`${m*u}px`,typeof y<"u"&&y!==null){const E=y-(y-1)*(1-Math.abs(u));l.style.opacity=E}let x=`translate3d(${g}, ${m}, 0px)`;if(typeof b<"u"&&b!==null){const E=b-(b-1)*(1-Math.abs(u));x+=` scale(${E})`}if(S&&typeof S<"u"&&S!==null){const E=S*u*-1;x+=` rotate(${E}deg)`}l.style.transform=x},o=()=>{const{el:l,slides:u,progress:d,snapGrid:h,isElement:p}=e,g=mn(l,r);e.isElement&&g.push(...mn(e.hostEl,r)),g.forEach(m=>{s(m,d)}),u.forEach((m,b)=>{let y=m.progress;e.params.slidesPerGroup>1&&e.params.slidesPerView!=="auto"&&(y+=Math.ceil(b/2)-d*(h.length-1)),y=Math.min(Math.max(y,-1),1),m.querySelectorAll(`${r}, [data-swiper-parallax-rotate]`).forEach(S=>{s(S,y)})})},a=function(l){l===void 0&&(l=e.params.speed);const{el:u,hostEl:d}=e,h=[...u.querySelectorAll(r)];e.isElement&&h.push(...d.querySelectorAll(r)),h.forEach(p=>{let g=parseInt(p.getAttribute("data-swiper-parallax-duration"),10)||l;l===0&&(g=0),p.style.transitionDuration=`${g}ms`})};i("beforeInit",()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),i("init",()=>{e.params.parallax.enabled&&o()}),i("setTranslate",()=>{e.params.parallax.enabled&&o()}),i("setTransition",(l,u)=>{e.params.parallax.enabled&&a(u)})}function k8(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s=Tt();n({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,panOnMouseMove:!1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let o=1,a=!1,l=!1,u={x:0,y:0};const d=-3;let h,p;const g=[],m={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},b={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},y={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let S=1;Object.defineProperty(e.zoom,"scale",{get(){return S},set(fe){if(S!==fe){const ie=m.imageEl,B=m.slideEl;r("zoomChange",fe,ie,B)}S=fe}});function x(){if(g.length<2)return 1;const fe=g[0].pageX,ie=g[0].pageY,B=g[1].pageX,de=g[1].pageY;return Math.sqrt((B-fe)**2+(de-ie)**2)}function E(){const fe=e.params.zoom,ie=m.imageWrapEl.getAttribute("data-swiper-zoom")||fe.maxRatio;if(fe.limitToOriginalSize&&m.imageEl&&m.imageEl.naturalWidth){const B=m.imageEl.naturalWidth/m.imageEl.offsetWidth;return Math.min(B,ie)}return ie}function M(){if(g.length<2)return{x:null,y:null};const fe=m.imageEl.getBoundingClientRect();return[(g[0].pageX+(g[1].pageX-g[0].pageX)/2-fe.x-s.scrollX)/o,(g[0].pageY+(g[1].pageY-g[0].pageY)/2-fe.y-s.scrollY)/o]}function A(){return e.isElement?"swiper-slide":`.${e.params.slideClass}`}function z(fe){const ie=A();return!!(fe.target.matches(ie)||e.slides.filter(B=>B.contains(fe.target)).length>0)}function L(fe){const ie=`.${e.params.zoom.containerClass}`;return!!(fe.target.matches(ie)||[...e.hostEl.querySelectorAll(ie)].filter(B=>B.contains(fe.target)).length>0)}function R(fe){if(fe.pointerType==="mouse"&&g.splice(0,g.length),!z(fe))return;const ie=e.params.zoom;if(h=!1,p=!1,g.push(fe),!(g.length<2)){if(h=!0,m.scaleStart=x(),!m.slideEl){m.slideEl=fe.target.closest(`.${e.params.slideClass}, swiper-slide`),m.slideEl||(m.slideEl=e.slides[e.activeIndex]);let B=m.slideEl.querySelector(`.${ie.containerClass}`);if(B&&(B=B.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),m.imageEl=B,B?m.imageWrapEl=go(m.imageEl,`.${ie.containerClass}`)[0]:m.imageWrapEl=void 0,!m.imageWrapEl){m.imageEl=void 0;return}m.maxRatio=E()}if(m.imageEl){const[B,de]=M();m.originX=B,m.originY=de,m.imageEl.style.transitionDuration="0ms"}a=!0}}function k(fe){if(!z(fe))return;const ie=e.params.zoom,B=e.zoom,de=g.findIndex(ve=>ve.pointerId===fe.pointerId);de>=0&&(g[de]=fe),!(g.length<2)&&(p=!0,m.scaleMove=x(),m.imageEl&&(B.scale=m.scaleMove/m.scaleStart*o,B.scale>m.maxRatio&&(B.scale=m.maxRatio-1+(B.scale-m.maxRatio+1)**.5),B.scale<ie.minRatio&&(B.scale=ie.minRatio+1-(ie.minRatio-B.scale+1)**.5),m.imageEl.style.transform=`translate3d(0,0,0) scale(${B.scale})`))}function D(fe){if(!z(fe)||fe.pointerType==="mouse"&&fe.type==="pointerout")return;const ie=e.params.zoom,B=e.zoom,de=g.findIndex(ve=>ve.pointerId===fe.pointerId);de>=0&&g.splice(de,1),!(!h||!p)&&(h=!1,p=!1,m.imageEl&&(B.scale=Math.max(Math.min(B.scale,m.maxRatio),ie.minRatio),m.imageEl.style.transitionDuration=`${e.params.speed}ms`,m.imageEl.style.transform=`translate3d(0,0,0) scale(${B.scale})`,o=B.scale,a=!1,B.scale>1&&m.slideEl?m.slideEl.classList.add(`${ie.zoomedSlideClass}`):B.scale<=1&&m.slideEl&&m.slideEl.classList.remove(`${ie.zoomedSlideClass}`),B.scale===1&&(m.originX=0,m.originY=0,m.slideEl=void 0)))}let X;function F(){e.touchEventsData.preventTouchMoveFromPointerMove=!1}function U(){clearTimeout(X),e.touchEventsData.preventTouchMoveFromPointerMove=!0,X=setTimeout(()=>{e.destroyed||F()})}function q(fe){const ie=e.device;if(!m.imageEl||b.isTouched)return;ie.android&&fe.cancelable&&fe.preventDefault(),b.isTouched=!0;const B=g.length>0?g[0]:fe;b.touchesStart.x=B.pageX,b.touchesStart.y=B.pageY}function oe(fe){const B=fe.pointerType==="mouse"&&e.params.zoom.panOnMouseMove;if(!z(fe)||!L(fe))return;const de=e.zoom;if(!m.imageEl)return;if(!b.isTouched||!m.slideEl){B&&W(fe);return}if(B){W(fe);return}b.isMoved||(b.width=m.imageEl.offsetWidth||m.imageEl.clientWidth,b.height=m.imageEl.offsetHeight||m.imageEl.clientHeight,b.startX=vg(m.imageWrapEl,"x")||0,b.startY=vg(m.imageWrapEl,"y")||0,m.slideWidth=m.slideEl.offsetWidth,m.slideHeight=m.slideEl.offsetHeight,m.imageWrapEl.style.transitionDuration="0ms");const ve=b.width*de.scale,xe=b.height*de.scale;if(b.minX=Math.min(m.slideWidth/2-ve/2,0),b.maxX=-b.minX,b.minY=Math.min(m.slideHeight/2-xe/2,0),b.maxY=-b.minY,b.touchesCurrent.x=g.length>0?g[0].pageX:fe.pageX,b.touchesCurrent.y=g.length>0?g[0].pageY:fe.pageY,Math.max(Math.abs(b.touchesCurrent.x-b.touchesStart.x),Math.abs(b.touchesCurrent.y-b.touchesStart.y))>5&&(e.allowClick=!1),!b.isMoved&&!a){if(e.isHorizontal()&&(Math.floor(b.minX)===Math.floor(b.startX)&&b.touchesCurrent.x<b.touchesStart.x||Math.floor(b.maxX)===Math.floor(b.startX)&&b.touchesCurrent.x>b.touchesStart.x)){b.isTouched=!1,F();return}if(!e.isHorizontal()&&(Math.floor(b.minY)===Math.floor(b.startY)&&b.touchesCurrent.y<b.touchesStart.y||Math.floor(b.maxY)===Math.floor(b.startY)&&b.touchesCurrent.y>b.touchesStart.y)){b.isTouched=!1,F();return}}fe.cancelable&&fe.preventDefault(),fe.stopPropagation(),U(),b.isMoved=!0;const O=(de.scale-o)/(m.maxRatio-e.params.zoom.minRatio),{originX:I,originY:H}=m;b.currentX=b.touchesCurrent.x-b.touchesStart.x+b.startX+O*(b.width-I*2),b.currentY=b.touchesCurrent.y-b.touchesStart.y+b.startY+O*(b.height-H*2),b.currentX<b.minX&&(b.currentX=b.minX+1-(b.minX-b.currentX+1)**.8),b.currentX>b.maxX&&(b.currentX=b.maxX-1+(b.currentX-b.maxX+1)**.8),b.currentY<b.minY&&(b.currentY=b.minY+1-(b.minY-b.currentY+1)**.8),b.currentY>b.maxY&&(b.currentY=b.maxY-1+(b.currentY-b.maxY+1)**.8),y.prevPositionX||(y.prevPositionX=b.touchesCurrent.x),y.prevPositionY||(y.prevPositionY=b.touchesCurrent.y),y.prevTime||(y.prevTime=Date.now()),y.x=(b.touchesCurrent.x-y.prevPositionX)/(Date.now()-y.prevTime)/2,y.y=(b.touchesCurrent.y-y.prevPositionY)/(Date.now()-y.prevTime)/2,Math.abs(b.touchesCurrent.x-y.prevPositionX)<2&&(y.x=0),Math.abs(b.touchesCurrent.y-y.prevPositionY)<2&&(y.y=0),y.prevPositionX=b.touchesCurrent.x,y.prevPositionY=b.touchesCurrent.y,y.prevTime=Date.now(),m.imageWrapEl.style.transform=`translate3d(${b.currentX}px, ${b.currentY}px,0)`}function Z(){const fe=e.zoom;if(g.length=0,!m.imageEl)return;if(!b.isTouched||!b.isMoved){b.isTouched=!1,b.isMoved=!1;return}b.isTouched=!1,b.isMoved=!1;let ie=300,B=300;const de=y.x*ie,ve=b.currentX+de,xe=y.y*B,He=b.currentY+xe;y.x!==0&&(ie=Math.abs((ve-b.currentX)/y.x)),y.y!==0&&(B=Math.abs((He-b.currentY)/y.y));const O=Math.max(ie,B);b.currentX=ve,b.currentY=He;const I=b.width*fe.scale,H=b.height*fe.scale;b.minX=Math.min(m.slideWidth/2-I/2,0),b.maxX=-b.minX,b.minY=Math.min(m.slideHeight/2-H/2,0),b.maxY=-b.minY,b.currentX=Math.max(Math.min(b.currentX,b.maxX),b.minX),b.currentY=Math.max(Math.min(b.currentY,b.maxY),b.minY),m.imageWrapEl.style.transitionDuration=`${O}ms`,m.imageWrapEl.style.transform=`translate3d(${b.currentX}px, ${b.currentY}px,0)`}function $(){const fe=e.zoom;m.slideEl&&e.activeIndex!==e.slides.indexOf(m.slideEl)&&(m.imageEl&&(m.imageEl.style.transform="translate3d(0,0,0) scale(1)"),m.imageWrapEl&&(m.imageWrapEl.style.transform="translate3d(0,0,0)"),m.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),fe.scale=1,o=1,m.slideEl=void 0,m.imageEl=void 0,m.imageWrapEl=void 0,m.originX=0,m.originY=0)}function W(fe){if(o<=1||!m.imageWrapEl||!z(fe)||!L(fe))return;const ie=s.getComputedStyle(m.imageWrapEl).transform,B=new s.DOMMatrix(ie);if(!l){l=!0,u.x=fe.clientX,u.y=fe.clientY,b.startX=B.e,b.startY=B.f,b.width=m.imageEl.offsetWidth||m.imageEl.clientWidth,b.height=m.imageEl.offsetHeight||m.imageEl.clientHeight,m.slideWidth=m.slideEl.offsetWidth,m.slideHeight=m.slideEl.offsetHeight;return}const de=(fe.clientX-u.x)*d,ve=(fe.clientY-u.y)*d,xe=b.width*o,He=b.height*o,O=m.slideWidth,I=m.slideHeight,H=Math.min(O/2-xe/2,0),J=-H,ce=Math.min(I/2-He/2,0),Q=-ce,Y=Math.max(Math.min(b.startX+de,J),H),se=Math.max(Math.min(b.startY+ve,Q),ce);m.imageWrapEl.style.transitionDuration="0ms",m.imageWrapEl.style.transform=`translate3d(${Y}px, ${se}px, 0)`,u.x=fe.clientX,u.y=fe.clientY,b.startX=Y,b.startY=se,b.currentX=Y,b.currentY=se}function re(fe){const ie=e.zoom,B=e.params.zoom;if(!m.slideEl){fe&&fe.target&&(m.slideEl=fe.target.closest(`.${e.params.slideClass}, swiper-slide`)),m.slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?m.slideEl=mn(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:m.slideEl=e.slides[e.activeIndex]);let Mt=m.slideEl.querySelector(`.${B.containerClass}`);Mt&&(Mt=Mt.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),m.imageEl=Mt,Mt?m.imageWrapEl=go(m.imageEl,`.${B.containerClass}`)[0]:m.imageWrapEl=void 0}if(!m.imageEl||!m.imageWrapEl)return;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),m.slideEl.classList.add(`${B.zoomedSlideClass}`);let de,ve,xe,He,O,I,H,J,ce,Q,Y,se,te,ae,_e,ye,Ae,Ie;typeof b.touchesStart.x>"u"&&fe?(de=fe.pageX,ve=fe.pageY):(de=b.touchesStart.x,ve=b.touchesStart.y);const qe=o,Ke=typeof fe=="number"?fe:null;o===1&&Ke&&(de=void 0,ve=void 0,b.touchesStart.x=void 0,b.touchesStart.y=void 0);const Je=E();ie.scale=Ke||Je,o=Ke||Je,fe&&!(o===1&&Ke)?(Ae=m.slideEl.offsetWidth,Ie=m.slideEl.offsetHeight,xe=af(m.slideEl).left+s.scrollX,He=af(m.slideEl).top+s.scrollY,O=xe+Ae/2-de,I=He+Ie/2-ve,ce=m.imageEl.offsetWidth||m.imageEl.clientWidth,Q=m.imageEl.offsetHeight||m.imageEl.clientHeight,Y=ce*ie.scale,se=Q*ie.scale,te=Math.min(Ae/2-Y/2,0),ae=Math.min(Ie/2-se/2,0),_e=-te,ye=-ae,qe>0&&Ke&&typeof b.currentX=="number"&&typeof b.currentY=="number"?(H=b.currentX*ie.scale/qe,J=b.currentY*ie.scale/qe):(H=O*ie.scale,J=I*ie.scale),H<te&&(H=te),H>_e&&(H=_e),J<ae&&(J=ae),J>ye&&(J=ye)):(H=0,J=0),Ke&&ie.scale===1&&(m.originX=0,m.originY=0),b.currentX=H,b.currentY=J,m.imageWrapEl.style.transitionDuration="300ms",m.imageWrapEl.style.transform=`translate3d(${H}px, ${J}px,0)`,m.imageEl.style.transitionDuration="300ms",m.imageEl.style.transform=`translate3d(0,0,0) scale(${ie.scale})`}function Te(){const fe=e.zoom,ie=e.params.zoom;if(!m.slideEl){e.params.virtual&&e.params.virtual.enabled&&e.virtual?m.slideEl=mn(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:m.slideEl=e.slides[e.activeIndex];let B=m.slideEl.querySelector(`.${ie.containerClass}`);B&&(B=B.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),m.imageEl=B,B?m.imageWrapEl=go(m.imageEl,`.${ie.containerClass}`)[0]:m.imageWrapEl=void 0}!m.imageEl||!m.imageWrapEl||(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),fe.scale=1,o=1,b.currentX=void 0,b.currentY=void 0,b.touchesStart.x=void 0,b.touchesStart.y=void 0,m.imageWrapEl.style.transitionDuration="300ms",m.imageWrapEl.style.transform="translate3d(0,0,0)",m.imageEl.style.transitionDuration="300ms",m.imageEl.style.transform="translate3d(0,0,0) scale(1)",m.slideEl.classList.remove(`${ie.zoomedSlideClass}`),m.slideEl=void 0,m.originX=0,m.originY=0,e.params.zoom.panOnMouseMove&&(u={x:0,y:0},l&&(l=!1,b.startX=0,b.startY=0)))}function Be(fe){const ie=e.zoom;ie.scale&&ie.scale!==1?Te():re(fe)}function tt(){const fe=e.params.passiveListeners?{passive:!0,capture:!1}:!1,ie=e.params.passiveListeners?{passive:!1,capture:!0}:!0;return{passiveListener:fe,activeListenerWithCapture:ie}}function Nt(){const fe=e.zoom;if(fe.enabled)return;fe.enabled=!0;const{passiveListener:ie,activeListenerWithCapture:B}=tt();e.wrapperEl.addEventListener("pointerdown",R,ie),e.wrapperEl.addEventListener("pointermove",k,B),["pointerup","pointercancel","pointerout"].forEach(de=>{e.wrapperEl.addEventListener(de,D,ie)}),e.wrapperEl.addEventListener("pointermove",oe,B)}function yn(){const fe=e.zoom;if(!fe.enabled)return;fe.enabled=!1;const{passiveListener:ie,activeListenerWithCapture:B}=tt();e.wrapperEl.removeEventListener("pointerdown",R,ie),e.wrapperEl.removeEventListener("pointermove",k,B),["pointerup","pointercancel","pointerout"].forEach(de=>{e.wrapperEl.removeEventListener(de,D,ie)}),e.wrapperEl.removeEventListener("pointermove",oe,B)}i("init",()=>{e.params.zoom.enabled&&Nt()}),i("destroy",()=>{yn()}),i("touchStart",(fe,ie)=>{e.zoom.enabled&&q(ie)}),i("touchEnd",(fe,ie)=>{e.zoom.enabled&&Z()}),i("doubleTap",(fe,ie)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&Be(ie)}),i("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&$()}),i("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&$()}),Object.assign(e.zoom,{enable:Nt,disable:yn,in:re,out:Te,toggle:Be})}function O8(t){let{swiper:e,extendParams:n,on:i}=t;n({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0};function r(u,d){const h=function(){let b,y,S;return(x,E)=>{for(y=-1,b=x.length;b-y>1;)S=b+y>>1,x[S]<=E?y=S:b=S;return b}}();this.x=u,this.y=d,this.lastIndex=u.length-1;let p,g;return this.interpolate=function(b){return b?(g=h(this.x,b),p=g-1,(b-this.x[p])*(this.y[g]-this.y[p])/(this.x[g]-this.x[p])+this.y[p]):0},this}function s(u){e.controller.spline=e.params.loop?new r(e.slidesGrid,u.slidesGrid):new r(e.snapGrid,u.snapGrid)}function o(u,d){const h=e.controller.control;let p,g;const m=e.constructor;function b(y){if(y.destroyed)return;const S=e.rtlTranslate?-e.translate:e.translate;e.params.controller.by==="slide"&&(s(y),g=-e.controller.spline.interpolate(-S)),(!g||e.params.controller.by==="container")&&(p=(y.maxTranslate()-y.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(p)||!Number.isFinite(p))&&(p=1),g=(S-e.minTranslate())*p+y.minTranslate()),e.params.controller.inverse&&(g=y.maxTranslate()-g),y.updateProgress(g),y.setTranslate(g,e),y.updateActiveIndex(),y.updateSlidesClasses()}if(Array.isArray(h))for(let y=0;y<h.length;y+=1)h[y]!==d&&h[y]instanceof m&&b(h[y]);else h instanceof m&&d!==h&&b(h)}function a(u,d){const h=e.constructor,p=e.controller.control;let g;function m(b){b.destroyed||(b.setTransition(u,e),u!==0&&(b.transitionStart(),b.params.autoHeight&&_o(()=>{b.updateAutoHeight()}),oc(b.wrapperEl,()=>{p&&b.transitionEnd()})))}if(Array.isArray(p))for(g=0;g<p.length;g+=1)p[g]!==d&&p[g]instanceof h&&m(p[g]);else p instanceof h&&d!==p&&m(p)}function l(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}i("beforeInit",()=>{if(typeof window<"u"&&(typeof e.params.controller.control=="string"||e.params.controller.control instanceof HTMLElement)){(typeof e.params.controller.control=="string"?[...document.querySelectorAll(e.params.controller.control)]:[e.params.controller.control]).forEach(d=>{if(e.controller.control||(e.controller.control=[]),d&&d.swiper)e.controller.control.push(d.swiper);else if(d){const h=`${e.params.eventsPrefix}init`,p=g=>{e.controller.control.push(g.detail[0]),e.update(),d.removeEventListener(h,p)};d.addEventListener(h,p)}});return}e.controller.control=e.params.controller.control}),i("update",()=>{l()}),i("resize",()=>{l()}),i("observerUpdate",()=>{l()}),i("setTranslate",(u,d,h)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(d,h)}),i("setTransition",(u,d,h)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(d,h)}),Object.assign(e.controller,{setTranslate:o,setTransition:a})}function R8(t){let{swiper:e,extendParams:n,on:i}=t;n({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),e.a11y={clicked:!1};let r=null,s,o,a=new Date().getTime();function l($){const W=r;W.length!==0&&Pi(W,$)}function u($){const W=()=>Math.round(16*Math.random()).toString(16);return"x".repeat($).replace(/x/g,W)}function d($){$=it($),$.forEach(W=>{W.setAttribute("tabIndex","0")})}function h($){$=it($),$.forEach(W=>{W.setAttribute("tabIndex","-1")})}function p($,W){$=it($),$.forEach(re=>{re.setAttribute("role",W)})}function g($,W){$=it($),$.forEach(re=>{re.setAttribute("aria-roledescription",W)})}function m($,W){$=it($),$.forEach(re=>{re.setAttribute("aria-controls",W)})}function b($,W){$=it($),$.forEach(re=>{re.setAttribute("aria-label",W)})}function y($,W){$=it($),$.forEach(re=>{re.setAttribute("id",W)})}function S($,W){$=it($),$.forEach(re=>{re.setAttribute("aria-live",W)})}function x($){$=it($),$.forEach(W=>{W.setAttribute("aria-disabled",!0)})}function E($){$=it($),$.forEach(W=>{W.setAttribute("aria-disabled",!1)})}function M($){if($.keyCode!==13&&$.keyCode!==32)return;const W=e.params.a11y,re=$.target;if(!(e.pagination&&e.pagination.el&&(re===e.pagination.el||e.pagination.el.contains($.target))&&!$.target.matches(zr(e.params.pagination.bulletClass)))){if(e.navigation&&e.navigation.prevEl&&e.navigation.nextEl){const Te=it(e.navigation.prevEl);it(e.navigation.nextEl).includes(re)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?l(W.lastSlideMessage):l(W.nextSlideMessage)),Te.includes(re)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?l(W.firstSlideMessage):l(W.prevSlideMessage))}e.pagination&&re.matches(zr(e.params.pagination.bulletClass))&&re.click()}}function A(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:$,prevEl:W}=e.navigation;W&&(e.isBeginning?(x(W),h(W)):(E(W),d(W))),$&&(e.isEnd?(x($),h($)):(E($),d($)))}function z(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function L(){return z()&&e.params.pagination.clickable}function R(){const $=e.params.a11y;z()&&e.pagination.bullets.forEach(W=>{e.params.pagination.clickable&&(d(W),e.params.pagination.renderBullet||(p(W,"button"),b(W,$.paginationBulletMessage.replace(/\{\{index\}\}/,Rc(W)+1)))),W.matches(zr(e.params.pagination.bulletActiveClass))?W.setAttribute("aria-current","true"):W.removeAttribute("aria-current")})}const k=($,W,re)=>{d($),$.tagName!=="BUTTON"&&(p($,"button"),$.addEventListener("keydown",M)),b($,re),m($,W)},D=$=>{o&&o!==$.target&&!o.contains($.target)&&(s=!0),e.a11y.clicked=!0},X=()=>{s=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},F=$=>{a=new Date().getTime()},U=$=>{if(e.a11y.clicked||!e.params.a11y.scrollOnFocus||new Date().getTime()-a<100)return;const W=$.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!W||!e.slides.includes(W))return;o=W;const re=e.slides.indexOf(W)===e.activeIndex,Te=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(W);re||Te||$.sourceCapabilities&&$.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,requestAnimationFrame(()=>{s||(e.params.loop?e.slideToLoop(parseInt(W.getAttribute("data-swiper-slide-index")),0):e.slideTo(e.slides.indexOf(W),0),s=!1)}))},q=()=>{const $=e.params.a11y;$.itemRoleDescriptionMessage&&g(e.slides,$.itemRoleDescriptionMessage),$.slideRole&&p(e.slides,$.slideRole);const W=e.slides.length;$.slideLabelMessage&&e.slides.forEach((re,Te)=>{const Be=e.params.loop?parseInt(re.getAttribute("data-swiper-slide-index"),10):Te,tt=$.slideLabelMessage.replace(/\{\{index\}\}/,Be+1).replace(/\{\{slidesLength\}\}/,W);b(re,tt)})},oe=()=>{const $=e.params.a11y;e.el.append(r);const W=e.el;$.containerRoleDescriptionMessage&&g(W,$.containerRoleDescriptionMessage),$.containerMessage&&b(W,$.containerMessage),$.containerRole&&p(W,$.containerRole);const re=e.wrapperEl,Te=$.id||re.getAttribute("id")||`swiper-wrapper-${u(16)}`,Be=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";y(re,Te),S(re,Be),q();let{nextEl:tt,prevEl:Nt}=e.navigation?e.navigation:{};tt=it(tt),Nt=it(Nt),tt&&tt.forEach(fe=>k(fe,Te,$.nextSlideMessage)),Nt&&Nt.forEach(fe=>k(fe,Te,$.prevSlideMessage)),L()&&it(e.pagination.el).forEach(ie=>{ie.addEventListener("keydown",M)}),nn().addEventListener("visibilitychange",F),e.el.addEventListener("focus",U,!0),e.el.addEventListener("focus",U,!0),e.el.addEventListener("pointerdown",D,!0),e.el.addEventListener("pointerup",X,!0)};function Z(){r&&r.remove();let{nextEl:$,prevEl:W}=e.navigation?e.navigation:{};$=it($),W=it(W),$&&$.forEach(Te=>Te.removeEventListener("keydown",M)),W&&W.forEach(Te=>Te.removeEventListener("keydown",M)),L()&&it(e.pagination.el).forEach(Be=>{Be.removeEventListener("keydown",M)}),nn().removeEventListener("visibilitychange",F),e.el&&typeof e.el!="string"&&(e.el.removeEventListener("focus",U,!0),e.el.removeEventListener("pointerdown",D,!0),e.el.removeEventListener("pointerup",X,!0))}i("beforeInit",()=>{r=ui("span",e.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),i("afterInit",()=>{e.params.a11y.enabled&&oe()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&q()}),i("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&A()}),i("paginationUpdate",()=>{e.params.a11y.enabled&&R()}),i("destroy",()=>{e.params.a11y.enabled&&Z()})}function P8(t){let{swiper:e,extendParams:n,on:i}=t;n({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let r=!1,s={};const o=g=>g.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),a=g=>{const m=Tt();let b;g?b=new URL(g):b=m.location;const y=b.pathname.slice(1).split("/").filter(M=>M!==""),S=y.length,x=y[S-2],E=y[S-1];return{key:x,value:E}},l=(g,m)=>{const b=Tt();if(!r||!e.params.history.enabled)return;let y;e.params.url?y=new URL(e.params.url):y=b.location;const S=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${m}"]`):e.slides[m];let x=o(S.getAttribute("data-history"));if(e.params.history.root.length>0){let M=e.params.history.root;M[M.length-1]==="/"&&(M=M.slice(0,M.length-1)),x=`${M}/${g?`${g}/`:""}${x}`}else y.pathname.includes(g)||(x=`${g?`${g}/`:""}${x}`);e.params.history.keepQuery&&(x+=y.search);const E=b.history.state;E&&E.value===x||(e.params.history.replaceState?b.history.replaceState({value:x},null,x):b.history.pushState({value:x},null,x))},u=(g,m,b)=>{if(m)for(let y=0,S=e.slides.length;y<S;y+=1){const x=e.slides[y];if(o(x.getAttribute("data-history"))===m){const M=e.getSlideIndex(x);e.slideTo(M,g,b)}}else e.slideTo(0,g,b)},d=()=>{s=a(e.params.url),u(e.params.speed,s.value,!1)},h=()=>{const g=Tt();if(e.params.history){if(!g.history||!g.history.pushState){e.params.history.enabled=!1,e.params.hashNavigation.enabled=!0;return}if(r=!0,s=a(e.params.url),!s.key&&!s.value){e.params.history.replaceState||g.addEventListener("popstate",d);return}u(0,s.value,e.params.runCallbacksOnInit),e.params.history.replaceState||g.addEventListener("popstate",d)}},p=()=>{const g=Tt();e.params.history.replaceState||g.removeEventListener("popstate",d)};i("init",()=>{e.params.history.enabled&&h()}),i("destroy",()=>{e.params.history.enabled&&p()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{r&&l(e.params.history.key,e.activeIndex)}),i("slideChange",()=>{r&&e.params.cssMode&&l(e.params.history.key,e.activeIndex)})}function I8(t){let{swiper:e,extendParams:n,emit:i,on:r}=t,s=!1;const o=nn(),a=Tt();n({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(p,g){if(e.virtual&&e.params.virtual.enabled){const m=e.slides.find(y=>y.getAttribute("data-hash")===g);return m?parseInt(m.getAttribute("data-swiper-slide-index"),10):0}return e.getSlideIndex(mn(e.slidesEl,`.${e.params.slideClass}[data-hash="${g}"], swiper-slide[data-hash="${g}"]`)[0])}}});const l=()=>{i("hashChange");const p=o.location.hash.replace("#",""),g=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],m=g?g.getAttribute("data-hash"):"";if(p!==m){const b=e.params.hashNavigation.getSlideIndex(e,p);if(typeof b>"u"||Number.isNaN(b))return;e.slideTo(b)}},u=()=>{if(!s||!e.params.hashNavigation.enabled)return;const p=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],g=p?p.getAttribute("data-hash")||p.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&a.history&&a.history.replaceState?(a.history.replaceState(null,null,`#${g}`||""),i("hashSet")):(o.location.hash=g||"",i("hashSet"))},d=()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;s=!0;const p=o.location.hash.replace("#","");if(p){const m=e.params.hashNavigation.getSlideIndex(e,p);e.slideTo(m||0,0,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&a.addEventListener("hashchange",l)},h=()=>{e.params.hashNavigation.watchState&&a.removeEventListener("hashchange",l)};r("init",()=>{e.params.hashNavigation.enabled&&d()}),r("destroy",()=>{e.params.hashNavigation.enabled&&h()}),r("transitionEnd _freeModeNoMomentumRelease",()=>{s&&u()}),r("slideChange",()=>{s&&e.params.cssMode&&u()})}function L8(t){let{swiper:e,extendParams:n,on:i,emit:r,params:s}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,l=s&&s.autoplay?s.autoplay.delay:3e3,u=s&&s.autoplay?s.autoplay.delay:3e3,d,h=new Date().getTime(),p,g,m,b,y,S,x;function E(W){!e||e.destroyed||!e.wrapperEl||W.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",E),!(x||W.detail&&W.detail.bySwiperTouchMove)&&D())}const M=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?p=!0:p&&(u=d,p=!1);const W=e.autoplay.paused?d:h+u-new Date().getTime();e.autoplay.timeLeft=W,r("autoplayTimeLeft",W,W/l),a=requestAnimationFrame(()=>{M()})},A=()=>{let W;return e.virtual&&e.params.virtual.enabled?W=e.slides.find(Te=>Te.classList.contains("swiper-slide-active")):W=e.slides[e.activeIndex],W?parseInt(W.getAttribute("data-swiper-autoplay"),10):void 0},z=W=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),M();let re=typeof W>"u"?e.params.autoplay.delay:W;l=e.params.autoplay.delay,u=e.params.autoplay.delay;const Te=A();!Number.isNaN(Te)&&Te>0&&typeof W>"u"&&(re=Te,l=Te,u=Te),d=re;const Be=e.params.speed,tt=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(Be,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,Be,!0,!0),r("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(Be,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,Be,!0,!0),r("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{z()})))};return re>0?(clearTimeout(o),o=setTimeout(()=>{tt()},re)):requestAnimationFrame(()=>{tt()}),re},L=()=>{h=new Date().getTime(),e.autoplay.running=!0,z(),r("autoplayStart")},R=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),r("autoplayStop")},k=(W,re)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),W||(S=!0);const Te=()=>{r("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",E):D()};if(e.autoplay.paused=!0,re){y&&(d=e.params.autoplay.delay),y=!1,Te();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),Te())},D=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),S?(S=!1,z(d)):z(),e.autoplay.paused=!1,r("autoplayResume"))},X=()=>{if(e.destroyed||!e.autoplay.running)return;const W=nn();W.visibilityState==="hidden"&&(S=!0,k(!0)),W.visibilityState==="visible"&&D()},F=W=>{W.pointerType==="mouse"&&(S=!0,x=!0,!(e.animating||e.autoplay.paused)&&k(!0))},U=W=>{W.pointerType==="mouse"&&(x=!1,e.autoplay.paused&&D())},q=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",F),e.el.addEventListener("pointerleave",U))},oe=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",F),e.el.removeEventListener("pointerleave",U))},Z=()=>{nn().addEventListener("visibilitychange",X)},$=()=>{nn().removeEventListener("visibilitychange",X)};i("init",()=>{e.params.autoplay.enabled&&(q(),Z(),L())}),i("destroy",()=>{oe(),$(),e.autoplay.running&&R()}),i("_freeModeStaticRelease",()=>{(m||S)&&D()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?R():k(!0,!0)}),i("beforeTransitionStart",(W,re,Te)=>{e.destroyed||!e.autoplay.running||(Te||!e.params.autoplay.disableOnInteraction?k(!0,!0):R())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){R();return}g=!0,m=!1,S=!1,b=setTimeout(()=>{S=!0,m=!0,k(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!g)){if(clearTimeout(b),clearTimeout(o),e.params.autoplay.disableOnInteraction){m=!1,g=!1;return}m&&e.params.cssMode&&D(),m=!1,g=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(y=!0)}),Object.assign(e.autoplay,{start:L,stop:R,pause:k,resume:D})}function D8(t){let{swiper:e,extendParams:n,on:i}=t;n({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,s=!1;e.thumbs={swiper:null};function o(){const u=e.thumbs.swiper;if(!u||u.destroyed)return;const d=u.clickedIndex,h=u.clickedSlide;if(h&&h.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof d>"u"||d===null)return;let p;u.params.loop?p=parseInt(u.clickedSlide.getAttribute("data-swiper-slide-index"),10):p=d,e.params.loop?e.slideToLoop(p):e.slideTo(p)}function a(){const{thumbs:u}=e.params;if(r)return!1;r=!0;const d=e.constructor;if(u.swiper instanceof d){if(u.swiper.destroyed)return r=!1,!1;e.thumbs.swiper=u.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(Ul(u.swiper)){const h=Object.assign({},u.swiper);Object.assign(h,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new d(h),s=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",o),!0}function l(u){const d=e.thumbs.swiper;if(!d||d.destroyed)return;const h=d.params.slidesPerView==="auto"?d.slidesPerViewDynamic():d.params.slidesPerView;let p=1;const g=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(p=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(p=1),p=Math.floor(p),d.slides.forEach(y=>y.classList.remove(g)),d.params.loop||d.params.virtual&&d.params.virtual.enabled)for(let y=0;y<p;y+=1)mn(d.slidesEl,`[data-swiper-slide-index="${e.realIndex+y}"]`).forEach(S=>{S.classList.add(g)});else for(let y=0;y<p;y+=1)d.slides[e.realIndex+y]&&d.slides[e.realIndex+y].classList.add(g);const m=e.params.thumbs.autoScrollOffset,b=m&&!d.params.loop;if(e.realIndex!==d.realIndex||b){const y=d.activeIndex;let S,x;if(d.params.loop){const E=d.slides.find(M=>M.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);S=d.slides.indexOf(E),x=e.activeIndex>e.previousIndex?"next":"prev"}else S=e.realIndex,x=S>e.previousIndex?"next":"prev";b&&(S+=x==="next"?m:-1*m),d.visibleSlidesIndexes&&d.visibleSlidesIndexes.indexOf(S)<0&&(d.params.centeredSlides?S>y?S=S-Math.floor(h/2)+1:S=S+Math.floor(h/2)-1:S>y&&d.params.slidesPerGroup,d.slideTo(S,u?0:void 0))}}i("beforeInit",()=>{const{thumbs:u}=e.params;if(!(!u||!u.swiper))if(typeof u.swiper=="string"||u.swiper instanceof HTMLElement){const d=nn(),h=()=>{const g=typeof u.swiper=="string"?d.querySelector(u.swiper):u.swiper;if(g&&g.swiper)u.swiper=g.swiper,a(),l(!0);else if(g){const m=`${e.params.eventsPrefix}init`,b=y=>{u.swiper=y.detail[0],g.removeEventListener(m,b),a(),l(!0),u.swiper.update(),e.update()};g.addEventListener(m,b)}return g},p=()=>{if(e.destroyed)return;h()||requestAnimationFrame(p)};requestAnimationFrame(p)}else a(),l(!0)}),i("slideChange update resize observerUpdate",()=>{l()}),i("setTransition",(u,d)=>{const h=e.thumbs.swiper;!h||h.destroyed||h.setTransition(d)}),i("beforeDestroy",()=>{const u=e.thumbs.swiper;!u||u.destroyed||s&&u.destroy()}),Object.assign(e.thumbs,{init:a,update:l})}function N8(t){let{swiper:e,extendParams:n,emit:i,once:r}=t;n({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function s(){if(e.params.cssMode)return;const l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function o(){if(e.params.cssMode)return;const{touchEventsData:l,touches:u}=e;l.velocities.length===0&&l.velocities.push({position:u[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:u[e.isHorizontal()?"currentX":"currentY"],time:Ti()})}function a(l){let{currentPos:u}=l;if(e.params.cssMode)return;const{params:d,wrapperEl:h,rtlTranslate:p,snapGrid:g,touchEventsData:m}=e,y=Ti()-m.touchStartTime;if(u<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(u>-e.maxTranslate()){e.slides.length<g.length?e.slideTo(g.length-1):e.slideTo(e.slides.length-1);return}if(d.freeMode.momentum){if(m.velocities.length>1){const R=m.velocities.pop(),k=m.velocities.pop(),D=R.position-k.position,X=R.time-k.time;e.velocity=D/X,e.velocity/=2,Math.abs(e.velocity)<d.freeMode.minimumVelocity&&(e.velocity=0),(X>150||Ti()-R.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=d.freeMode.momentumVelocityRatio,m.velocities.length=0;let S=1e3*d.freeMode.momentumRatio;const x=e.velocity*S;let E=e.translate+x;p&&(E=-E);let M=!1,A;const z=Math.abs(e.velocity)*20*d.freeMode.momentumBounceRatio;let L;if(E<e.maxTranslate())d.freeMode.momentumBounce?(E+e.maxTranslate()<-z&&(E=e.maxTranslate()-z),A=e.maxTranslate(),M=!0,m.allowMomentumBounce=!0):E=e.maxTranslate(),d.loop&&d.centeredSlides&&(L=!0);else if(E>e.minTranslate())d.freeMode.momentumBounce?(E-e.minTranslate()>z&&(E=e.minTranslate()+z),A=e.minTranslate(),M=!0,m.allowMomentumBounce=!0):E=e.minTranslate(),d.loop&&d.centeredSlides&&(L=!0);else if(d.freeMode.sticky){let R;for(let k=0;k<g.length;k+=1)if(g[k]>-E){R=k;break}Math.abs(g[R]-E)<Math.abs(g[R-1]-E)||e.swipeDirection==="next"?E=g[R]:E=g[R-1],E=-E}if(L&&r("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(p?S=Math.abs((-E-e.translate)/e.velocity):S=Math.abs((E-e.translate)/e.velocity),d.freeMode.sticky){const R=Math.abs((p?-E:E)-e.translate),k=e.slidesSizesGrid[e.activeIndex];R<k?S=d.speed:R<2*k?S=d.speed*1.5:S=d.speed*2.5}}else if(d.freeMode.sticky){e.slideToClosest();return}d.freeMode.momentumBounce&&M?(e.updateProgress(A),e.setTransition(S),e.setTranslate(E),e.transitionStart(!0,e.swipeDirection),e.animating=!0,oc(h,()=>{!e||e.destroyed||!m.allowMomentumBounce||(i("momentumBounce"),e.setTransition(d.speed),setTimeout(()=>{e.setTranslate(A),oc(h,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(i("_freeModeNoMomentumRelease"),e.updateProgress(E),e.setTransition(S),e.setTranslate(E),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,oc(h,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(E),e.updateActiveIndex(),e.updateSlidesClasses()}else if(d.freeMode.sticky){e.slideToClosest();return}else d.freeMode&&i("_freeModeNoMomentumRelease");(!d.freeMode.momentum||y>=d.longSwipesMs)&&(i("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:s,onTouchMove:o,onTouchEnd:a}})}function z8(t){let{swiper:e,extendParams:n,on:i}=t;n({grid:{rows:1,fill:"column"}});let r,s,o,a;const l=()=>{let b=e.params.spaceBetween;return typeof b=="string"&&b.indexOf("%")>=0?b=parseFloat(b.replace("%",""))/100*e.size:typeof b=="string"&&(b=parseFloat(b)),b},u=b=>{const{slidesPerView:y}=e.params,{rows:S,fill:x}=e.params.grid,E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:b.length;o=Math.floor(E/S),Math.floor(E/S)===E/S?r=E:r=Math.ceil(E/S)*S,y!=="auto"&&x==="row"&&(r=Math.max(r,y*S)),s=r/S},d=()=>{e.slides&&e.slides.forEach(b=>{b.swiperSlideGridSet&&(b.style.height="",b.style[e.getDirectionLabel("margin-top")]="")})},h=(b,y,S)=>{const{slidesPerGroup:x}=e.params,E=l(),{rows:M,fill:A}=e.params.grid,z=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:S.length;let L,R,k;if(A==="row"&&x>1){const D=Math.floor(b/(x*M)),X=b-M*x*D,F=D===0?x:Math.min(Math.ceil((z-D*M*x)/M),x);k=Math.floor(X/F),R=X-k*F+D*x,L=R+k*r/M,y.style.order=L}else A==="column"?(R=Math.floor(b/M),k=b-R*M,(R>o||R===o&&k===M-1)&&(k+=1,k>=M&&(k=0,R+=1))):(k=Math.floor(b/s),R=b-k*s);y.row=k,y.column=R,y.style.height=`calc((100% - ${(M-1)*E}px) / ${M})`,y.style[e.getDirectionLabel("margin-top")]=k!==0?E&&`${E}px`:"",y.swiperSlideGridSet=!0},p=(b,y)=>{const{centeredSlides:S,roundLengths:x}=e.params,E=l(),{rows:M}=e.params.grid;if(e.virtualSize=(b+E)*r,e.virtualSize=Math.ceil(e.virtualSize/M)-E,e.params.cssMode||(e.wrapperEl.style[e.getDirectionLabel("width")]=`${e.virtualSize+E}px`),S){const A=[];for(let z=0;z<y.length;z+=1){let L=y[z];x&&(L=Math.floor(L)),y[z]<e.virtualSize+y[0]&&A.push(L)}y.splice(0,y.length),y.push(...A)}},g=()=>{a=e.params.grid&&e.params.grid.rows>1},m=()=>{const{params:b,el:y}=e,S=b.grid&&b.grid.rows>1;a&&!S?(y.classList.remove(`${b.containerModifierClass}grid`,`${b.containerModifierClass}grid-column`),o=1,e.emitContainerClasses()):!a&&S&&(y.classList.add(`${b.containerModifierClass}grid`),b.grid.fill==="column"&&y.classList.add(`${b.containerModifierClass}grid-column`),e.emitContainerClasses()),a=S};i("init",g),i("update",m),e.grid={initSlides:u,unsetSlides:d,updateSlide:h,updateWrapperSize:p}}function $8(t){const e=this,{params:n,slidesEl:i}=e;n.loop&&e.loopDestroy();const r=s=>{if(typeof s=="string"){const o=document.createElement("div");Pi(o,s),i.append(o.children[0]),Pi(o,"")}else i.append(s)};if(typeof t=="object"&&"length"in t)for(let s=0;s<t.length;s+=1)t[s]&&r(t[s]);else r(t);e.recalcSlides(),n.loop&&e.loopCreate(),(!n.observer||e.isElement)&&e.update()}function B8(t){const e=this,{params:n,activeIndex:i,slidesEl:r}=e;n.loop&&e.loopDestroy();let s=i+1;const o=a=>{if(typeof a=="string"){const l=document.createElement("div");Pi(l,a),r.prepend(l.children[0]),Pi(l,"")}else r.prepend(a)};if(typeof t=="object"&&"length"in t){for(let a=0;a<t.length;a+=1)t[a]&&o(t[a]);s=i+t.length}else o(t);e.recalcSlides(),n.loop&&e.loopCreate(),(!n.observer||e.isElement)&&e.update(),e.slideTo(s,0,!1)}function F8(t,e){const n=this,{params:i,activeIndex:r,slidesEl:s}=n;let o=r;i.loop&&(o-=n.loopedSlides,n.loopDestroy(),n.recalcSlides());const a=n.slides.length;if(t<=0){n.prependSlide(e);return}if(t>=a){n.appendSlide(e);return}let l=o>t?o+1:o;const u=[];for(let d=a-1;d>=t;d-=1){const h=n.slides[d];h.remove(),u.unshift(h)}if(typeof e=="object"&&"length"in e){for(let d=0;d<e.length;d+=1)e[d]&&s.append(e[d]);l=o>t?o+e.length:o}else s.append(e);for(let d=0;d<u.length;d+=1)s.append(u[d]);n.recalcSlides(),i.loop&&n.loopCreate(),(!i.observer||n.isElement)&&n.update(),i.loop?n.slideTo(l+n.loopedSlides,0,!1):n.slideTo(l,0,!1)}function H8(t){const e=this,{params:n,activeIndex:i}=e;let r=i;n.loop&&(r-=e.loopedSlides,e.loopDestroy());let s=r,o;if(typeof t=="object"&&"length"in t){for(let a=0;a<t.length;a+=1)o=t[a],e.slides[o]&&e.slides[o].remove(),o<s&&(s-=1);s=Math.max(s,0)}else o=t,e.slides[o]&&e.slides[o].remove(),o<s&&(s-=1),s=Math.max(s,0);e.recalcSlides(),n.loop&&e.loopCreate(),(!n.observer||e.isElement)&&e.update(),n.loop?e.slideTo(s+e.loopedSlides,0,!1):e.slideTo(s,0,!1)}function W8(){const t=this,e=[];for(let n=0;n<t.slides.length;n+=1)e.push(n);t.removeSlide(e)}function V8(t){let{swiper:e}=t;Object.assign(e,{appendSlide:$8.bind(e),prependSlide:B8.bind(e),addSlide:F8.bind(e),removeSlide:H8.bind(e),removeAllSlides:W8.bind(e)})}function ja(t){const{effect:e,swiper:n,on:i,setTranslate:r,setTransition:s,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:u}=t;i("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),a&&a()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const h=o?o():{};Object.assign(n.params,h),Object.assign(n.originalParams,h)}),i("setTranslate _virtualUpdated",()=>{n.params.effect===e&&r()}),i("setTransition",(h,p)=>{n.params.effect===e&&s(p)}),i("transitionEnd",()=>{if(n.params.effect===e&&l){if(!u||!u().slideShadows)return;n.slides.forEach(h=>{h.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(p=>p.remove())}),l()}});let d;i("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(d=!0),requestAnimationFrame(()=>{d&&n.slides&&n.slides.length&&(r(),d=!1)}))})}function Kc(t,e){const n=Oo(e);return n!==e&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function th(t){let{swiper:e,duration:n,transformElements:i,allSlides:r}=t;const{activeIndex:s}=e,o=a=>a.parentElement?a.parentElement:e.slides.find(u=>u.shadowRoot&&u.shadowRoot===a.parentNode);if(e.params.virtualTranslate&&n!==0){let a=!1,l;r?l=i:l=i.filter(u=>{const d=u.classList.contains("swiper-slide-transform")?o(u):u;return e.getSlideIndex(d)===s}),l.forEach(u=>{oc(u,()=>{if(a||!e||e.destroyed)return;a=!0,e.animating=!1;const d=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(d)})})}}function j8(t){let{swiper:e,extendParams:n,on:i}=t;n({fadeEffect:{crossFade:!1}}),ja({effect:"fade",swiper:e,on:i,setTranslate:()=>{const{slides:o}=e,a=e.params.fadeEffect;for(let l=0;l<o.length;l+=1){const u=e.slides[l];let h=-u.swiperSlideOffset;e.params.virtualTranslate||(h-=e.translate);let p=0;e.isHorizontal()||(p=h,h=0);const g=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(u.progress),0):1+Math.min(Math.max(u.progress,-1),0),m=Kc(a,u);m.style.opacity=g,m.style.transform=`translate3d(${h}px, ${p}px, 0px)`}},setTransition:o=>{const a=e.slides.map(l=>Oo(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`}),th({swiper:e,duration:o,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function U8(t){let{swiper:e,extendParams:n,on:i}=t;n({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const r=(l,u,d)=>{let h=d?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),p=d?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");h||(h=ui("div",`swiper-slide-shadow-cube swiper-slide-shadow-${d?"left":"top"}`.split(" ")),l.append(h)),p||(p=ui("div",`swiper-slide-shadow-cube swiper-slide-shadow-${d?"right":"bottom"}`.split(" ")),l.append(p)),h&&(h.style.opacity=Math.max(-u,0)),p&&(p.style.opacity=Math.max(u,0))};ja({effect:"cube",swiper:e,on:i,setTranslate:()=>{const{el:l,wrapperEl:u,slides:d,width:h,height:p,rtlTranslate:g,size:m,browser:b}=e,y=eh(e),S=e.params.cubeEffect,x=e.isHorizontal(),E=e.virtual&&e.params.virtual.enabled;let M=0,A;S.shadow&&(x?(A=e.wrapperEl.querySelector(".swiper-cube-shadow"),A||(A=ui("div","swiper-cube-shadow"),e.wrapperEl.append(A)),A.style.height=`${h}px`):(A=l.querySelector(".swiper-cube-shadow"),A||(A=ui("div","swiper-cube-shadow"),l.append(A))));for(let L=0;L<d.length;L+=1){const R=d[L];let k=L;E&&(k=parseInt(R.getAttribute("data-swiper-slide-index"),10));let D=k*90,X=Math.floor(D/360);g&&(D=-D,X=Math.floor(-D/360));const F=Math.max(Math.min(R.progress,1),-1);let U=0,q=0,oe=0;k%4===0?(U=-X*4*m,oe=0):(k-1)%4===0?(U=0,oe=-X*4*m):(k-2)%4===0?(U=m+X*4*m,oe=m):(k-3)%4===0&&(U=-m,oe=3*m+m*4*X),g&&(U=-U),x||(q=U,U=0);const Z=`rotateX(${y(x?0:-D)}deg) rotateY(${y(x?D:0)}deg) translate3d(${U}px, ${q}px, ${oe}px)`;F<=1&&F>-1&&(M=k*90+F*90,g&&(M=-k*90-F*90)),R.style.transform=Z,S.slideShadows&&r(R,F,x)}if(u.style.transformOrigin=`50% 50% -${m/2}px`,u.style["-webkit-transform-origin"]=`50% 50% -${m/2}px`,S.shadow)if(x)A.style.transform=`translate3d(0px, ${h/2+S.shadowOffset}px, ${-h/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${S.shadowScale})`;else{const L=Math.abs(M)-Math.floor(Math.abs(M)/90)*90,R=1.5-(Math.sin(L*2*Math.PI/360)/2+Math.cos(L*2*Math.PI/360)/2),k=S.shadowScale,D=S.shadowScale/R,X=S.shadowOffset;A.style.transform=`scale3d(${k}, 1, ${D}) translate3d(0px, ${p/2+X}px, ${-p/2/D}px) rotateX(-89.99deg)`}const z=(b.isSafari||b.isWebView)&&b.needPerspectiveFix?-m/2:0;u.style.transform=`translate3d(0px,0,${z}px) rotateX(${y(e.isHorizontal()?0:M)}deg) rotateY(${y(e.isHorizontal()?-M:0)}deg)`,u.style.setProperty("--swiper-cube-translate-z",`${z}px`)},setTransition:l=>{const{el:u,slides:d}=e;if(d.forEach(h=>{h.style.transitionDuration=`${l}ms`,h.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(p=>{p.style.transitionDuration=`${l}ms`})}),e.params.cubeEffect.shadow&&!e.isHorizontal()){const h=u.querySelector(".swiper-cube-shadow");h&&(h.style.transitionDuration=`${l}ms`)}},recreateShadows:()=>{const l=e.isHorizontal();e.slides.forEach(u=>{const d=Math.max(Math.min(u.progress,1),-1);r(u,d,l)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function Ia(t,e,n){const i=`swiper-slide-shadow${n?`-${n}`:""}${t?` swiper-slide-shadow-${t}`:""}`,r=Oo(e);let s=r.querySelector(`.${i.split(" ").join(".")}`);return s||(s=ui("div",i.split(" ")),r.append(s)),s}function Y8(t){let{swiper:e,extendParams:n,on:i}=t;n({flipEffect:{slideShadows:!0,limitRotation:!0}});const r=(l,u)=>{let d=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),h=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");d||(d=Ia("flip",l,e.isHorizontal()?"left":"top")),h||(h=Ia("flip",l,e.isHorizontal()?"right":"bottom")),d&&(d.style.opacity=Math.max(-u,0)),h&&(h.style.opacity=Math.max(u,0))};ja({effect:"flip",swiper:e,on:i,setTranslate:()=>{const{slides:l,rtlTranslate:u}=e,d=e.params.flipEffect,h=eh(e);for(let p=0;p<l.length;p+=1){const g=l[p];let m=g.progress;e.params.flipEffect.limitRotation&&(m=Math.max(Math.min(g.progress,1),-1));const b=g.swiperSlideOffset;let S=-180*m,x=0,E=e.params.cssMode?-b-e.translate:-b,M=0;e.isHorizontal()?u&&(S=-S):(M=E,E=0,x=-S,S=0),g.style.zIndex=-Math.abs(Math.round(m))+l.length,d.slideShadows&&r(g,m);const A=`translate3d(${E}px, ${M}px, 0px) rotateX(${h(x)}deg) rotateY(${h(S)}deg)`,z=Kc(d,g);z.style.transform=A}},setTransition:l=>{const u=e.slides.map(d=>Oo(d));u.forEach(d=>{d.style.transitionDuration=`${l}ms`,d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(h=>{h.style.transitionDuration=`${l}ms`})}),th({swiper:e,duration:l,transformElements:u})},recreateShadows:()=>{e.params.flipEffect,e.slides.forEach(l=>{let u=l.progress;e.params.flipEffect.limitRotation&&(u=Math.max(Math.min(l.progress,1),-1)),r(l,u)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function X8(t){let{swiper:e,extendParams:n,on:i}=t;n({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),ja({effect:"coverflow",swiper:e,on:i,setTranslate:()=>{const{width:o,height:a,slides:l,slidesSizesGrid:u}=e,d=e.params.coverflowEffect,h=e.isHorizontal(),p=e.translate,g=h?-p+o/2:-p+a/2,m=h?d.rotate:-d.rotate,b=d.depth,y=eh(e);for(let S=0,x=l.length;S<x;S+=1){const E=l[S],M=u[S],A=E.swiperSlideOffset,z=(g-A-M/2)/M,L=typeof d.modifier=="function"?d.modifier(z):z*d.modifier;let R=h?m*L:0,k=h?0:m*L,D=-b*Math.abs(L),X=d.stretch;typeof X=="string"&&X.indexOf("%")!==-1&&(X=parseFloat(d.stretch)/100*M);let F=h?0:X*L,U=h?X*L:0,q=1-(1-d.scale)*Math.abs(L);Math.abs(U)<.001&&(U=0),Math.abs(F)<.001&&(F=0),Math.abs(D)<.001&&(D=0),Math.abs(R)<.001&&(R=0),Math.abs(k)<.001&&(k=0),Math.abs(q)<.001&&(q=0);const oe=`translate3d(${U}px,${F}px,${D}px)  rotateX(${y(k)}deg) rotateY(${y(R)}deg) scale(${q})`,Z=Kc(d,E);if(Z.style.transform=oe,E.style.zIndex=-Math.abs(Math.round(L))+1,d.slideShadows){let $=h?E.querySelector(".swiper-slide-shadow-left"):E.querySelector(".swiper-slide-shadow-top"),W=h?E.querySelector(".swiper-slide-shadow-right"):E.querySelector(".swiper-slide-shadow-bottom");$||($=Ia("coverflow",E,h?"left":"top")),W||(W=Ia("coverflow",E,h?"right":"bottom")),$&&($.style.opacity=L>0?L:0),W&&(W.style.opacity=-L>0?-L:0)}}},setTransition:o=>{e.slides.map(l=>Oo(l)).forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(u=>{u.style.transitionDuration=`${o}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function q8(t){let{swiper:e,extendParams:n,on:i}=t;n({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const r=a=>typeof a=="string"?a:`${a}px`;ja({effect:"creative",swiper:e,on:i,setTranslate:()=>{const{slides:a,wrapperEl:l,slidesSizesGrid:u}=e,d=e.params.creativeEffect,{progressMultiplier:h}=d,p=e.params.centeredSlides,g=eh(e);if(p){const m=u[0]/2-e.params.slidesOffsetBefore||0;l.style.transform=`translateX(calc(50% - ${m}px))`}for(let m=0;m<a.length;m+=1){const b=a[m],y=b.progress,S=Math.min(Math.max(b.progress,-d.limitProgress),d.limitProgress);let x=S;p||(x=Math.min(Math.max(b.originalProgress,-d.limitProgress),d.limitProgress));const E=b.swiperSlideOffset,M=[e.params.cssMode?-E-e.translate:-E,0,0],A=[0,0,0];let z=!1;e.isHorizontal()||(M[1]=M[0],M[0]=0);let L={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};S<0?(L=d.next,z=!0):S>0&&(L=d.prev,z=!0),M.forEach((q,oe)=>{M[oe]=`calc(${q}px + (${r(L.translate[oe])} * ${Math.abs(S*h)}))`}),A.forEach((q,oe)=>{let Z=L.rotate[oe]*Math.abs(S*h);A[oe]=Z}),b.style.zIndex=-Math.abs(Math.round(y))+a.length;const R=M.join(", "),k=`rotateX(${g(A[0])}deg) rotateY(${g(A[1])}deg) rotateZ(${g(A[2])}deg)`,D=x<0?`scale(${1+(1-L.scale)*x*h})`:`scale(${1-(1-L.scale)*x*h})`,X=x<0?1+(1-L.opacity)*x*h:1-(1-L.opacity)*x*h,F=`translate3d(${R}) ${k} ${D}`;if(z&&L.shadow||!z){let q=b.querySelector(".swiper-slide-shadow");if(!q&&L.shadow&&(q=Ia("creative",b)),q){const oe=d.shadowPerProgress?S*(1/d.limitProgress):S;q.style.opacity=Math.min(Math.max(Math.abs(oe),0),1)}}const U=Kc(d,b);U.style.transform=F,U.style.opacity=X,L.origin&&(U.style.transformOrigin=L.origin)}},setTransition:a=>{const l=e.slides.map(u=>Oo(u));l.forEach(u=>{u.style.transitionDuration=`${a}ms`,u.querySelectorAll(".swiper-slide-shadow").forEach(d=>{d.style.transitionDuration=`${a}ms`})}),th({swiper:e,duration:a,transformElements:l,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}function G8(t){let{swiper:e,extendParams:n,on:i}=t;n({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),ja({effect:"cards",swiper:e,on:i,setTranslate:()=>{const{slides:o,activeIndex:a,rtlTranslate:l}=e,u=e.params.cardsEffect,{startTranslate:d,isTouched:h}=e.touchEventsData,p=l?-e.translate:e.translate;for(let g=0;g<o.length;g+=1){const m=o[g],b=m.progress,y=Math.min(Math.max(b,-4),4);let S=m.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(S-=o[0].swiperSlideOffset);let x=e.params.cssMode?-S-e.translate:-S,E=0;const M=-100*Math.abs(y);let A=1,z=-u.perSlideRotate*y,L=u.perSlideOffset-Math.abs(y)*.75;const R=e.virtual&&e.params.virtual.enabled?e.virtual.from+g:g,k=(R===a||R===a-1)&&y>0&&y<1&&(h||e.params.cssMode)&&p<d,D=(R===a||R===a+1)&&y<0&&y>-1&&(h||e.params.cssMode)&&p>d;if(k||D){const q=(1-Math.abs((Math.abs(y)-.5)/.5))**.5;z+=-28*y*q,A+=-.5*q,L+=96*q,E=`${-25*q*Math.abs(y)}%`}if(y<0?x=`calc(${x}px ${l?"-":"+"} (${L*Math.abs(y)}%))`:y>0?x=`calc(${x}px ${l?"-":"+"} (-${L*Math.abs(y)}%))`:x=`${x}px`,!e.isHorizontal()){const q=E;E=x,x=q}const X=y<0?`${1+(1-A)*y}`:`${1-(1-A)*y}`,F=`
        translate3d(${x}, ${E}, ${M}px)
        rotateZ(${u.rotate?l?-z:z:0}deg)
        scale(${X})
      `;if(u.slideShadows){let q=m.querySelector(".swiper-slide-shadow");q||(q=Ia("cards",m)),q&&(q.style.opacity=Math.min(Math.max((Math.abs(y)-.5)/.5,0),1))}m.style.zIndex=-Math.abs(Math.round(b))+o.length;const U=Kc(u,m);U.style.transform=F}},setTransition:o=>{const a=e.slides.map(l=>Oo(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow").forEach(u=>{u.style.transitionDuration=`${o}ms`})}),th({swiper:e,duration:o,transformElements:a})},perspective:()=>!0,overwriteParams:()=>({_loopSwapReset:!1,watchSlidesProgress:!0,loopAdditionalSlides:e.params.cardsEffect.rotate?3:2,centeredSlides:!0,virtualTranslate:!e.params.cssMode})})}const K8=[x8,E8,C8,T8,M8,_8,A8,k8,O8,R8,P8,I8,L8,D8,N8,z8,V8,j8,U8,Y8,X8,q8,G8];si.use(K8);const nh=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function La(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Sg(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:La(e[i])&&La(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:Sg(t[i],e[i]):t[i]=e[i]})}function J8(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Z8(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Q8(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function kd(t){return t===void 0&&(t=""),t.replace(/-[a-z]/g,e=>e.toUpperCase().replace("-",""))}function e6(t){let{swiper:e,slides:n,passedParams:i,changedParams:r,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const u=r.filter(k=>k!=="children"&&k!=="direction"&&k!=="wrapperClass"),{params:d,pagination:h,navigation:p,scrollbar:g,virtual:m,thumbs:b}=e;let y,S,x,E,M,A,z,L;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(y=!0),r.includes("controller")&&i.controller&&i.controller.control&&d.controller&&!d.controller.control&&(S=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(d.pagination||d.pagination===!1)&&h&&!h.el&&(x=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&g&&!g.el&&(E=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||o)&&(i.navigation.nextEl||s)&&(d.navigation||d.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(M=!0);const R=k=>{e[k]&&(e[k].destroy(),k==="navigation"?(e.isElement&&(e[k].prevEl.remove(),e[k].nextEl.remove()),d[k].prevEl=void 0,d[k].nextEl=void 0,e[k].prevEl=void 0,e[k].nextEl=void 0):(e.isElement&&e[k].el.remove(),d[k].el=void 0,e[k].el=void 0))};r.includes("loop")&&e.isElement&&(d.loop&&!i.loop?A=!0:!d.loop&&i.loop?z=!0:L=!0),u.forEach(k=>{if(La(d[k])&&La(i[k]))Object.assign(d[k],i[k]),(k==="navigation"||k==="pagination"||k==="scrollbar")&&"enabled"in i[k]&&!i[k].enabled&&R(k);else{const D=i[k];(D===!0||D===!1)&&(k==="navigation"||k==="pagination"||k==="scrollbar")?D===!1&&R(k):d[k]=i[k]}}),u.includes("controller")&&!S&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),r.includes("children")&&n&&m&&d.virtual.enabled?(m.slides=n,m.update(!0)):r.includes("virtual")&&m&&d.virtual.enabled&&(n&&(m.slides=n),m.update(!0)),r.includes("children")&&n&&d.loop&&(L=!0),y&&b.init()&&b.update(!0),S&&(e.controller.control=d.controller.control),x&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(d.pagination.el=l),h.init(),h.render(),h.update()),E&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(d.scrollbar.el=a),g.init(),g.updateSize(),g.setTranslate()),M&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),Pi(s,e.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),Pi(o,e.hostEl.constructor.prevButtonSvg),o.part.add("button-prev"),e.el.appendChild(o))),s&&(d.navigation.nextEl=s),o&&(d.navigation.prevEl=o),p.init(),p.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(A||L)&&e.loopDestroy(),(z||L)&&e.loopCreate(),e.update()}const gx=t=>{if(parseFloat(t)===Number(t))return Number(t);if(t==="true"||t==="")return!0;if(t==="false")return!1;if(t==="null")return null;if(t!=="undefined"){if(typeof t=="string"&&t.includes("{")&&t.includes("}")&&t.includes('"')){let e;try{e=JSON.parse(t)}catch{e=t}return e}return t}},vx=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function bx(t,e,n){const i={},r={};Sg(i,wg);const s=[...nh,"on"],o=s.map(l=>l.replace(/_/,""));s.forEach(l=>{l=l.replace("_",""),typeof t[l]<"u"&&(r[l]=t[l])});const a=[...t.attributes];return typeof e=="string"&&typeof n<"u"&&a.push({name:e,value:La(n)?{...n}:n}),a.forEach(l=>{const u=vx.find(d=>l.name.startsWith(`${d}-`));if(u){const d=kd(u),h=kd(l.name.split(`${u}-`)[1]);typeof r[d]>"u"&&(r[d]={}),r[d]===!0&&(r[d]={enabled:!0}),r[d][h]=gx(l.value)}else{const d=kd(l.name);if(!o.includes(d))return;const h=gx(l.value);r[d]&&vx.includes(l.name)&&!La(h)?(r[d].constructor!==Object&&(r[d]={}),r[d].enabled=!!h):r[d]=h}}),Sg(i,r),i.navigation?i.navigation={prevEl:".swiper-button-prev",nextEl:".swiper-button-next",...i.navigation!==!0?i.navigation:{}}:i.navigation===!1&&delete i.navigation,i.scrollbar?i.scrollbar={el:".swiper-scrollbar",...i.scrollbar!==!0?i.scrollbar:{}}:i.scrollbar===!1&&delete i.scrollbar,i.pagination?i.pagination={el:".swiper-pagination",...i.pagination!==!0?i.pagination:{}}:i.pagination===!1&&delete i.pagination,{params:i,passedParams:r}}const t6=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",n6="::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}";class i6{}const PM=typeof window>"u"||typeof HTMLElement>"u"?i6:HTMLElement,yx=`<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>
    `,IM=(t,e)=>{if(typeof CSSStyleSheet<"u"&&t.adoptedStyleSheets){const n=new CSSStyleSheet;n.replaceSync(e),t.adoptedStyleSheets=[n]}else{const n=document.createElement("style");n.rel="stylesheet",n.textContent=e,t.appendChild(n)}};class LM extends PM{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return yx}static get prevButtonSvg(){return yx.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[t6,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join(`
`)}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){const e=this.slideSlots||0,n=[...this.querySelectorAll("[slot^=slide-]")].map(i=>parseInt(i.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=n.length?Math.max(...n)+1:0,!!this.rendered){if(this.slideSlots>e)for(let i=e;i<this.slideSlots;i+=1){const r=document.createElement("swiper-slide");r.setAttribute("part",`slide slide-${i+1}`);const s=document.createElement("slot");s.setAttribute("name",`slide-${i+1}`),r.appendChild(s),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(r)}else if(this.slideSlots<e){const i=this.swiper.slides;for(let r=i.length-1;r>=0;r-=1)r>this.slideSlots&&i[r].remove()}}}render(){if(this.rendered)return;this.calcSlideSlots();let e=this.cssStyles();this.slideSlots>0&&(e=e.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),e.length&&IM(this.shadowRoot,e),this.cssLinks().forEach(i=>{if(this.shadowRoot.querySelector(`link[href="${i}"]`))return;const s=document.createElement("link");s.rel="stylesheet",s.href=i,this.shadowRoot.appendChild(s)});const n=document.createElement("div");n.classList.add("swiper"),n.part="container",Pi(n,`
      <slot name="container-start"></slot>
      <div class="swiper-wrapper" part="wrapper">
        <slot></slot>
        ${Array.from({length:this.slideSlots}).map((i,r)=>`
        <swiper-slide part="slide slide-${r}">
          <slot name="slide-${r}"></slot>
        </swiper-slide>
        `).join("")}
      </div>
      <slot name="container-end"></slot>
      ${J8(this.passedParams)?`
        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>
        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>
      `:""}
      ${Z8(this.passedParams)?`
        <div part="pagination" class="swiper-pagination"></div>
      `:""}
      ${Q8(this.passedParams)?`
        <div part="scrollbar" class="swiper-scrollbar"></div>
      `:""}
    `),this.shadowRoot.appendChild(n),this.rendered=!0}initialize(){var e=this;if(this.swiper&&this.swiper.initialized)return;const{params:n,passedParams:i}=bx(this);this.swiperParams=n,this.passedParams=i,delete this.swiperParams.init,this.render(),this.swiper=new si(this.shadowRoot.querySelector(".swiper"),{...n.virtual?{}:{observer:!0},...n,touchEventsTarget:"container",onAny:function(r){r==="observerUpdate"&&e.calcSlideSlots();const s=n.eventsPrefix?`${n.eventsPrefix}${r.toLowerCase()}`:r.toLowerCase();for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];const u=new CustomEvent(s,{detail:a,bubbles:r!=="hashChange",cancelable:!0});e.dispatchEvent(u)}})}connectedCallback(){this.swiper&&this.swiper.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||this.init===!1||this.getAttribute("init")==="false"||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||this.swiper&&this.swiper.destroy&&this.swiper.destroy()}updateSwiperOnPropChange(e,n){const{params:i,passedParams:r}=bx(this,e,n);this.passedParams=r,this.swiperParams=i,!(this.swiper&&this.swiper.params[e]===n)&&e6({swiper:this.swiper,passedParams:this.passedParams,changedParams:[kd(e)],...e==="navigation"&&r[e]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{},...e==="pagination"&&r[e]?{paginationEl:".swiper-pagination"}:{},...e==="scrollbar"&&r[e]?{scrollbarEl:".swiper-scrollbar"}:{}})}attributeChangedCallback(e,n,i){this.swiper&&this.swiper.initialized&&(n==="true"&&i===null&&(i=!1),this.updateSwiperOnPropChange(e,i))}static get observedAttributes(){return nh.filter(n=>n.includes("_")).map(n=>n.replace(/[A-Z]/g,i=>`-${i}`).replace("_","").toLowerCase())}}nh.forEach(t=>{t!=="init"&&(t=t.replace("_",""),Object.defineProperty(LM.prototype,t,{configurable:!0,get(){return(this.passedParams||{})[t]},set(e){this.passedParams||(this.passedParams={}),this.passedParams[t]=e,this.swiper&&this.swiper.initialized&&this.updateSwiperOnPropChange(t,e)}}))});class r6 extends PM{constructor(){super(),this.attachShadow({mode:"open"})}render(){const e=this.lazy||this.getAttribute("lazy")===""||this.getAttribute("lazy")==="true";if(IM(this.shadowRoot,n6),this.shadowRoot.appendChild(document.createElement("slot")),e){const n=document.createElement("div");n.classList.add("swiper-lazy-preloader"),n.part.add("preloader"),this.shadowRoot.appendChild(n)}}initialize(){this.render()}connectedCallback(){this.swiperLoopMoveDOM||this.initialize()}}const s6=()=>{typeof window>"u"||(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",LM),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",r6))};typeof window<"u"&&(window.SwiperElementRegisterParams=t=>{nh.push(...t)});const o6={class:"ui-swiper"},a6=["id"],l6={class:"ui-swiper__item-content"},wx="#d4ff38",c6="#d5dce5",u6={__name:"Swiper",props:{id:String,itemsNum:Number,options:{type:Object,default:null}},setup(t){const e=t;return gr(()=>{const i=e.options||{},r=document.querySelector(`#${e.id}`);Object.assign(r,{slidesPerView:1,spaceBetween:10,grabCursor:!0,pagination:{clickable:!0},injectStyles:[`
      .swiper-pagination {
        position: relative;
        margin-top: 40px;
      }
      .swiper-pagination-bullet {
        width: 12px;
        height: 12px;
        opacity: 1;
        background: ${c6};
        border: 5px solid transparent;
        transition: all .3s;
      }
      .swiper-pagination-bullet:hover {
        border-color: ${wx};
      }
      .swiper-pagination-bullet-active {
        background: ${wx};
      }
    `],breakpoints:{940:{slidesPerView:2},1330:{slidesPerView:3},1690:{slidesPerView:4},2500:{slidesPerView:5},3e3:{slidesPerView:6}},...i,on:{init(){}}}),r.initialize()}),(i,r)=>(ee(),Ee("div",o6,[he("swiper-container",{id:t.id,class:"ui-swiper__items",init:"false"},[(ee(!0),Ee(Pt,null,Is(e.itemsNum,s=>(ee(),Ee("swiper-slide",{key:s,class:"ui-swiper__item"},[he("div",l6,[Kn(i.$slots,"item",{index:s-1})])]))),128))],8,a6)]))}},d6={install:(t,e)=>{s6(),t.component("Swiper",u6)}};class f6{constructor(){this.timer=null}start(e,n){if(!e)throw"DeferredTimer: Set timeout";if(!n)throw"DeferredTimer: Set callback funciton";this.timer&&clearTimeout(this.timer),this.timer=setTimeout(n,e)}}const h6={install:(t,e)=>{const n=()=>new f6;t.provide("createDeferredTimer",n)}},DM=Qq({httpClient:{baseUrl:"http://localhost:7070"}}),p6=i4(DM),Ro=qN(JF);Ro.use(vz,{componentName:"Scrollbar"});Ro.use(r4,{utils:DM,services:p6});Ro.use(d6);Ro.use(h6);Ro.use(JN());Ro.use(wX);Ro.mount("#app");
