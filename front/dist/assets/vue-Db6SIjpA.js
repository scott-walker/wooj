import{_ as os}from"./lodash-VM-_t6tq.js";import{f as bf,c as Aa,N as Ti,P as kt,a as rn,S as Nn,w as yf,b as wf,F as En,d as _f,T as at,e as ao,s as Sf,g as xl,h as xf,i as Ef,j as Cf,k as Mf,l as Af,A as Tf,n as kf,m as Rf,o as Of,p as Pf,q as $f,r as Lf,t as If,u as cu,v as Df,x as zf,y as jf,z as Bf,B as Nf,C as Hf,D as Ff,E as Wf,G as uu,H as br,R as Vf,I as Uf,J as Yf,K as Xf,L as Kf,M as qf,O as Gf,Q as Jf,U as Zf,V as Qf,W as ep,X as tp,Y as np}from"./prosemirror-D5ml0e6H.js";/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ta(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const me={},rs=[],Wt=()=>{},sp=()=>!1,Lo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ka=e=>e.startsWith("onUpdate:"),Le=Object.assign,Ra=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ip=Object.prototype.hasOwnProperty,_e=(e,t)=>ip.call(e,t),Q=Array.isArray,as=e=>ki(e)==="[object Map]",_s=e=>ki(e)==="[object Set]",El=e=>ki(e)==="[object Date]",ie=e=>typeof e=="function",Re=e=>typeof e=="string",Ct=e=>typeof e=="symbol",Ce=e=>e!==null&&typeof e=="object",du=e=>(Ce(e)||ie(e))&&ie(e.then)&&ie(e.catch),hu=Object.prototype.toString,ki=e=>hu.call(e),op=e=>ki(e).slice(8,-1),fu=e=>ki(e)==="[object Object]",Oa=e=>Re(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,si=Ta(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Io=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},rp=/-(\w)/g,ft=Io(e=>e.replace(rp,(t,n)=>n?n.toUpperCase():"")),ap=/\B([A-Z])/g,an=Io(e=>e.replace(ap,"-$1").toLowerCase()),Do=Io(e=>e.charAt(0).toUpperCase()+e.slice(1)),yr=Io(e=>e?`on${Do(e)}`:""),ot=(e,t)=>!Object.is(e,t),lo=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},pu=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},wo=e=>{const t=parseFloat(e);return isNaN(t)?e:t},lp=e=>{const t=Re(e)?Number(e):NaN;return isNaN(t)?e:t};let Cl;const zo=()=>Cl||(Cl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Rn(e){if(Q(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=Re(s)?hp(s):Rn(s);if(i)for(const o in i)t[o]=i[o]}return t}else if(Re(e)||Ce(e))return e}const cp=/;(?![^(]*\))/g,up=/:([^]+)/,dp=/\/\*[^]*?\*\//g;function hp(e){const t={};return e.replace(dp,"").split(cp).forEach(n=>{if(n){const s=n.split(up);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function ge(e){let t="";if(Re(e))t=e;else if(Q(e))for(let n=0;n<e.length;n++){const s=ge(e[n]);s&&(t+=s+" ")}else if(Ce(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const fp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",pp=Ta(fp);function mu(e){return!!e||e===""}function mp(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=Wn(e[s],t[s]);return n}function Wn(e,t){if(e===t)return!0;let n=El(e),s=El(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=Ct(e),s=Ct(t),n||s)return e===t;if(n=Q(e),s=Q(t),n||s)return n&&s?mp(e,t):!1;if(n=Ce(e),s=Ce(t),n||s){if(!n||!s)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const r in e){const l=e.hasOwnProperty(r),a=t.hasOwnProperty(r);if(l&&!a||!l&&a||!Wn(e[r],t[r]))return!1}}return String(e)===String(t)}function Pa(e,t){return e.findIndex(n=>Wn(n,t))}const gu=e=>!!(e&&e.__v_isRef===!0),ye=e=>Re(e)?e:e==null?"":Q(e)||Ce(e)&&(e.toString===hu||!ie(e.toString))?gu(e)?ye(e.value):JSON.stringify(e,vu,2):String(e),vu=(e,t)=>gu(t)?vu(e,t.value):as(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i],o)=>(n[wr(s,o)+" =>"]=i,n),{})}:_s(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>wr(n))}:Ct(t)?wr(t):Ce(t)&&!Q(t)&&!fu(t)?String(t):t,wr=(e,t="")=>{var n;return Ct(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ke;class bu{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ke,!t&&Ke&&(this.index=(Ke.scopes||(Ke.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ke;try{return Ke=this,t()}finally{Ke=n}}}on(){++this._on===1&&(this.prevScope=Ke,Ke=this)}off(){this._on>0&&--this._on===0&&(Ke=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function yu(e){return new bu(e)}function wu(){return Ke}function gp(e,t=!1){Ke&&Ke.cleanups.push(e)}let Ae;const _r=new WeakSet;class _u{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ke&&Ke.active&&Ke.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,_r.has(this)&&(_r.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ml(this),Eu(this);const t=Ae,n=Et;Ae=this,Et=!0;try{return this.fn()}finally{Cu(this),Ae=t,Et=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ia(t);this.deps=this.depsTail=void 0,Ml(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?_r.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Yr(this)&&this.run()}get dirty(){return Yr(this)}}let Su=0,ii,oi;function xu(e,t=!1){if(e.flags|=8,t){e.next=oi,oi=e;return}e.next=ii,ii=e}function $a(){Su++}function La(){if(--Su>0)return;if(oi){let t=oi;for(oi=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;ii;){let t=ii;for(ii=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Eu(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Cu(e){let t,n=e.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),Ia(s),vp(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}e.deps=t,e.depsTail=n}function Yr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Mu(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Mu(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===fi)||(e.globalVersion=fi,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Yr(e))))return;e.flags|=2;const t=e.dep,n=Ae,s=Et;Ae=e,Et=!0;try{Eu(e);const i=e.fn(e._value);(t.version===0||ot(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Ae=n,Et=s,Cu(e),e.flags&=-3}}function Ia(e,t=!1){const{dep:n,prevSub:s,nextSub:i}=e;if(s&&(s.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)Ia(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function vp(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Et=!0;const Au=[];function nn(){Au.push(Et),Et=!1}function sn(){const e=Au.pop();Et=e===void 0?!0:e}function Ml(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ae;Ae=void 0;try{t()}finally{Ae=n}}}let fi=0,bp=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class jo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ae||!Et||Ae===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ae)n=this.activeLink=new bp(Ae,this),Ae.deps?(n.prevDep=Ae.depsTail,Ae.depsTail.nextDep=n,Ae.depsTail=n):Ae.deps=Ae.depsTail=n,Tu(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Ae.depsTail,n.nextDep=void 0,Ae.depsTail.nextDep=n,Ae.depsTail=n,Ae.deps===n&&(Ae.deps=s)}return n}trigger(t){this.version++,fi++,this.notify(t)}notify(t){$a();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{La()}}}function Tu(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Tu(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const _o=new WeakMap,Hn=Symbol(""),Xr=Symbol(""),pi=Symbol("");function qe(e,t,n){if(Et&&Ae){let s=_o.get(e);s||_o.set(e,s=new Map);let i=s.get(n);i||(s.set(n,i=new jo),i.map=s,i.key=n),i.track()}}function Zt(e,t,n,s,i,o){const r=_o.get(e);if(!r){fi++;return}const l=a=>{a&&a.trigger()};if($a(),t==="clear")r.forEach(l);else{const a=Q(e),c=a&&Oa(n);if(a&&n==="length"){const u=Number(s);r.forEach((d,h)=>{(h==="length"||h===pi||!Ct(h)&&h>=u)&&l(d)})}else switch((n!==void 0||r.has(void 0))&&l(r.get(n)),c&&l(r.get(pi)),t){case"add":a?c&&l(r.get("length")):(l(r.get(Hn)),as(e)&&l(r.get(Xr)));break;case"delete":a||(l(r.get(Hn)),as(e)&&l(r.get(Xr)));break;case"set":as(e)&&l(r.get(Hn));break}}La()}function yp(e,t){const n=_o.get(e);return n&&n.get(t)}function qn(e){const t=de(e);return t===e?t:(qe(t,"iterate",pi),vt(e)?t:t.map(He))}function Bo(e){return qe(e=de(e),"iterate",pi),e}const wp={__proto__:null,[Symbol.iterator](){return Sr(this,Symbol.iterator,He)},concat(...e){return qn(this).concat(...e.map(t=>Q(t)?qn(t):t))},entries(){return Sr(this,"entries",e=>(e[1]=He(e[1]),e))},every(e,t){return Kt(this,"every",e,t,void 0,arguments)},filter(e,t){return Kt(this,"filter",e,t,n=>n.map(He),arguments)},find(e,t){return Kt(this,"find",e,t,He,arguments)},findIndex(e,t){return Kt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Kt(this,"findLast",e,t,He,arguments)},findLastIndex(e,t){return Kt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Kt(this,"forEach",e,t,void 0,arguments)},includes(...e){return xr(this,"includes",e)},indexOf(...e){return xr(this,"indexOf",e)},join(e){return qn(this).join(e)},lastIndexOf(...e){return xr(this,"lastIndexOf",e)},map(e,t){return Kt(this,"map",e,t,void 0,arguments)},pop(){return Cs(this,"pop")},push(...e){return Cs(this,"push",e)},reduce(e,...t){return Al(this,"reduce",e,t)},reduceRight(e,...t){return Al(this,"reduceRight",e,t)},shift(){return Cs(this,"shift")},some(e,t){return Kt(this,"some",e,t,void 0,arguments)},splice(...e){return Cs(this,"splice",e)},toReversed(){return qn(this).toReversed()},toSorted(e){return qn(this).toSorted(e)},toSpliced(...e){return qn(this).toSpliced(...e)},unshift(...e){return Cs(this,"unshift",e)},values(){return Sr(this,"values",He)}};function Sr(e,t,n){const s=Bo(e),i=s[t]();return s!==e&&!vt(e)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=n(o.value)),o}),i}const _p=Array.prototype;function Kt(e,t,n,s,i,o){const r=Bo(e),l=r!==e&&!vt(e),a=r[t];if(a!==_p[t]){const d=a.apply(e,o);return l?He(d):d}let c=n;r!==e&&(l?c=function(d,h){return n.call(this,He(d),h,e)}:n.length>2&&(c=function(d,h){return n.call(this,d,h,e)}));const u=a.call(r,c,s);return l&&i?i(u):u}function Al(e,t,n,s){const i=Bo(e);let o=n;return i!==e&&(vt(e)?n.length>3&&(o=function(r,l,a){return n.call(this,r,l,a,e)}):o=function(r,l,a){return n.call(this,r,He(l),a,e)}),i[t](o,...s)}function xr(e,t,n){const s=de(e);qe(s,"iterate",pi);const i=s[t](...n);return(i===-1||i===!1)&&ja(n[0])?(n[0]=de(n[0]),s[t](...n)):i}function Cs(e,t,n=[]){nn(),$a();const s=de(e)[t].apply(e,n);return La(),sn(),s}const Sp=Ta("__proto__,__v_isRef,__isVue"),ku=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ct));function xp(e){Ct(e)||(e=String(e));const t=de(this);return qe(t,"has",e),t.hasOwnProperty(e)}class Ru{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(i?o?$p:Lu:o?$u:Pu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const r=Q(t);if(!i){let a;if(r&&(a=wp[n]))return a;if(n==="hasOwnProperty")return xp}const l=Reflect.get(t,n,Pe(t)?t:s);return(Ct(n)?ku.has(n):Sp(n))||(i||qe(t,"get",n),o)?l:Pe(l)?r&&Oa(n)?l:l.value:Ce(l)?i?Du(l):Vt(l):l}}class Ou extends Ru{constructor(t=!1){super(!1,t)}set(t,n,s,i){let o=t[n];if(!this._isShallow){const a=Mn(o);if(!vt(s)&&!Mn(s)&&(o=de(o),s=de(s)),!Q(t)&&Pe(o)&&!Pe(s))return a?!1:(o.value=s,!0)}const r=Q(t)&&Oa(n)?Number(n)<t.length:_e(t,n),l=Reflect.set(t,n,s,Pe(t)?t:i);return t===de(i)&&(r?ot(s,o)&&Zt(t,"set",n,s):Zt(t,"add",n,s)),l}deleteProperty(t,n){const s=_e(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&s&&Zt(t,"delete",n,void 0),i}has(t,n){const s=Reflect.has(t,n);return(!Ct(n)||!ku.has(n))&&qe(t,"has",n),s}ownKeys(t){return qe(t,"iterate",Q(t)?"length":Hn),Reflect.ownKeys(t)}}class Ep extends Ru{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Cp=new Ou,Mp=new Ep,Ap=new Ou(!0);const Kr=e=>e,Ni=e=>Reflect.getPrototypeOf(e);function Tp(e,t,n){return function(...s){const i=this.__v_raw,o=de(i),r=as(o),l=e==="entries"||e===Symbol.iterator&&r,a=e==="keys"&&r,c=i[e](...s),u=n?Kr:t?So:He;return!t&&qe(o,"iterate",a?Xr:Hn),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:l?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function Hi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function kp(e,t){const n={get(i){const o=this.__v_raw,r=de(o),l=de(i);e||(ot(i,l)&&qe(r,"get",i),qe(r,"get",l));const{has:a}=Ni(r),c=t?Kr:e?So:He;if(a.call(r,i))return c(o.get(i));if(a.call(r,l))return c(o.get(l));o!==r&&o.get(i)},get size(){const i=this.__v_raw;return!e&&qe(de(i),"iterate",Hn),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,r=de(o),l=de(i);return e||(ot(i,l)&&qe(r,"has",i),qe(r,"has",l)),i===l?o.has(i):o.has(i)||o.has(l)},forEach(i,o){const r=this,l=r.__v_raw,a=de(l),c=t?Kr:e?So:He;return!e&&qe(a,"iterate",Hn),l.forEach((u,d)=>i.call(o,c(u),c(d),r))}};return Le(n,e?{add:Hi("add"),set:Hi("set"),delete:Hi("delete"),clear:Hi("clear")}:{add(i){!t&&!vt(i)&&!Mn(i)&&(i=de(i));const o=de(this);return Ni(o).has.call(o,i)||(o.add(i),Zt(o,"add",i,i)),this},set(i,o){!t&&!vt(o)&&!Mn(o)&&(o=de(o));const r=de(this),{has:l,get:a}=Ni(r);let c=l.call(r,i);c||(i=de(i),c=l.call(r,i));const u=a.call(r,i);return r.set(i,o),c?ot(o,u)&&Zt(r,"set",i,o):Zt(r,"add",i,o),this},delete(i){const o=de(this),{has:r,get:l}=Ni(o);let a=r.call(o,i);a||(i=de(i),a=r.call(o,i)),l&&l.call(o,i);const c=o.delete(i);return a&&Zt(o,"delete",i,void 0),c},clear(){const i=de(this),o=i.size!==0,r=i.clear();return o&&Zt(i,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Tp(i,e,t)}),n}function Da(e,t){const n=kp(e,t);return(s,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(_e(n,i)&&i in s?n:s,i,o)}const Rp={get:Da(!1,!1)},Op={get:Da(!1,!0)},Pp={get:Da(!0,!1)};const Pu=new WeakMap,$u=new WeakMap,Lu=new WeakMap,$p=new WeakMap;function Lp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ip(e){return e.__v_skip||!Object.isExtensible(e)?0:Lp(op(e))}function Vt(e){return Mn(e)?e:za(e,!1,Cp,Rp,Pu)}function Iu(e){return za(e,!1,Ap,Op,$u)}function Du(e){return za(e,!0,Mp,Pp,Lu)}function za(e,t,n,s,i){if(!Ce(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=Ip(e);if(o===0)return e;const r=i.get(e);if(r)return r;const l=new Proxy(e,o===2?s:n);return i.set(e,l),l}function Cn(e){return Mn(e)?Cn(e.__v_raw):!!(e&&e.__v_isReactive)}function Mn(e){return!!(e&&e.__v_isReadonly)}function vt(e){return!!(e&&e.__v_isShallow)}function ja(e){return e?!!e.__v_raw:!1}function de(e){const t=e&&e.__v_raw;return t?de(t):e}function No(e){return!_e(e,"__v_skip")&&Object.isExtensible(e)&&pu(e,"__v_skip",!0),e}const He=e=>Ce(e)?Vt(e):e,So=e=>Ce(e)?Du(e):e;function Pe(e){return e?e.__v_isRef===!0:!1}function F(e){return ju(e,!1)}function zu(e){return ju(e,!0)}function ju(e,t){return Pe(e)?e:new Dp(e,t)}class Dp{constructor(t,n){this.dep=new jo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:de(t),this._value=n?t:He(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||vt(t)||Mn(t);t=s?t:de(t),ot(t,n)&&(this._rawValue=t,this._value=s?t:He(t),this.dep.trigger())}}function B(e){return Pe(e)?e.value:e}const zp={get:(e,t,n)=>t==="__v_raw"?e:B(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return Pe(i)&&!Pe(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function Bu(e){return Cn(e)?e:new Proxy(e,zp)}class jp{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new jo,{get:s,set:i}=t(n.track.bind(n),n.trigger.bind(n));this._get=s,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function Nu(e){return new jp(e)}function Bp(e){const t=Q(e)?new Array(e.length):{};for(const n in e)t[n]=Hp(e,n);return t}class Np{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return yp(de(this._object),this._key)}}function Hp(e,t,n){const s=e[t];return Pe(s)?s:new Np(e,t,n)}class Fp{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new jo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=fi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Ae!==this)return xu(this,!0),!0}get value(){const t=this.dep.track();return Mu(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Wp(e,t,n=!1){let s,i;return ie(e)?s=e:(s=e.get,i=e.set),new Fp(s,i,n)}const Fi={},xo=new WeakMap;let Dn;function Vp(e,t=!1,n=Dn){if(n){let s=xo.get(n);s||xo.set(n,s=[]),s.push(e)}}function Up(e,t,n=me){const{immediate:s,deep:i,once:o,scheduler:r,augmentJob:l,call:a}=n,c=M=>i?M:vt(M)||i===!1||i===0?Qt(M,1):Qt(M);let u,d,h,f,p=!1,m=!1;if(Pe(e)?(d=()=>e.value,p=vt(e)):Cn(e)?(d=()=>c(e),p=!0):Q(e)?(m=!0,p=e.some(M=>Cn(M)||vt(M)),d=()=>e.map(M=>{if(Pe(M))return M.value;if(Cn(M))return c(M);if(ie(M))return a?a(M,2):M()})):ie(e)?t?d=a?()=>a(e,2):e:d=()=>{if(h){nn();try{h()}finally{sn()}}const M=Dn;Dn=u;try{return a?a(e,3,[f]):e(f)}finally{Dn=M}}:d=Wt,t&&i){const M=d,P=i===!0?1/0:i;d=()=>Qt(M(),P)}const b=wu(),y=()=>{u.stop(),b&&b.active&&Ra(b.effects,u)};if(o&&t){const M=t;t=(...P)=>{M(...P),y()}}let S=m?new Array(e.length).fill(Fi):Fi;const E=M=>{if(!(!(u.flags&1)||!u.dirty&&!M))if(t){const P=u.run();if(i||p||(m?P.some((H,z)=>ot(H,S[z])):ot(P,S))){h&&h();const H=Dn;Dn=u;try{const z=[P,S===Fi?void 0:m&&S[0]===Fi?[]:S,f];S=P,a?a(t,3,z):t(...z)}finally{Dn=H}}}else u.run()};return l&&l(E),u=new _u(d),u.scheduler=r?()=>r(E,!1):E,f=M=>Vp(M,!1,u),h=u.onStop=()=>{const M=xo.get(u);if(M){if(a)a(M,4);else for(const P of M)P();xo.delete(u)}},t?s?E(!0):S=u.run():r?r(E.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function Qt(e,t=1/0,n){if(t<=0||!Ce(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Pe(e))Qt(e.value,t,n);else if(Q(e))for(let s=0;s<e.length;s++)Qt(e[s],t,n);else if(_s(e)||as(e))e.forEach(s=>{Qt(s,t,n)});else if(fu(e)){for(const s in e)Qt(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Qt(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ri(e,t,n,s){try{return s?e(...s):e()}catch(i){Ho(i,t,n)}}function Mt(e,t,n,s){if(ie(e)){const i=Ri(e,t,n,s);return i&&du(i)&&i.catch(o=>{Ho(o,t,n)}),i}if(Q(e)){const i=[];for(let o=0;o<e.length;o++)i.push(Mt(e[o],t,n,s));return i}}function Ho(e,t,n,s=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||me;if(t){let l=t.parent;const a=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,a,c)===!1)return}l=l.parent}if(o){nn(),Ri(o,null,10,[e,a,c]),sn();return}}Yp(e,n,i,s,r)}function Yp(e,t,n,s=!0,i=!1){if(i)throw e;console.error(e)}const et=[];let Bt=-1;const ls=[];let yn=null,ns=0;const Hu=Promise.resolve();let Eo=null;function on(e){const t=Eo||Hu;return e?t.then(this?e.bind(this):e):t}function Xp(e){let t=Bt+1,n=et.length;for(;t<n;){const s=t+n>>>1,i=et[s],o=mi(i);o<e||o===e&&i.flags&2?t=s+1:n=s}return t}function Ba(e){if(!(e.flags&1)){const t=mi(e),n=et[et.length-1];!n||!(e.flags&2)&&t>=mi(n)?et.push(e):et.splice(Xp(t),0,e),e.flags|=1,Fu()}}function Fu(){Eo||(Eo=Hu.then(Vu))}function Kp(e){Q(e)?ls.push(...e):yn&&e.id===-1?yn.splice(ns+1,0,e):e.flags&1||(ls.push(e),e.flags|=1),Fu()}function Tl(e,t,n=Bt+1){for(;n<et.length;n++){const s=et[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;et.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Wu(e){if(ls.length){const t=[...new Set(ls)].sort((n,s)=>mi(n)-mi(s));if(ls.length=0,yn){yn.push(...t);return}for(yn=t,ns=0;ns<yn.length;ns++){const n=yn[ns];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}yn=null,ns=0}}const mi=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Vu(e){try{for(Bt=0;Bt<et.length;Bt++){const t=et[Bt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ri(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Bt<et.length;Bt++){const t=et[Bt];t&&(t.flags&=-2)}Bt=-1,et.length=0,Wu(),Eo=null,(et.length||ls.length)&&Vu()}}let Ie=null,Uu=null;function Co(e){const t=Ie;return Ie=e,Uu=e&&e.type.__scopeId||null,t}function Ee(e,t=Ie,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&Hl(-1);const o=Co(t);let r;try{r=e(...i)}finally{Co(o),s._d&&Hl(1)}return r};return s._n=!0,s._c=!0,s._d=!0,s}function Oi(e,t){if(Ie===null)return e;const n=Ko(Ie),s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,r,l,a=me]=t[i];o&&(ie(o)&&(o={mounted:o,updated:o}),o.deep&&Qt(r),s.push({dir:o,instance:n,value:r,oldValue:void 0,arg:l,modifiers:a}))}return e}function Pn(e,t,n,s){const i=e.dirs,o=t&&t.dirs;for(let r=0;r<i.length;r++){const l=i[r];o&&(l.oldValue=o[r].value);let a=l.dir[s];a&&(nn(),Mt(a,n,8,[e.el,l,e,t]),sn())}}const Yu=Symbol("_vte"),Xu=e=>e.__isTeleport,ri=e=>e&&(e.disabled||e.disabled===""),kl=e=>e&&(e.defer||e.defer===""),Rl=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Ol=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,qr=(e,t)=>{const n=e&&e.to;return Re(n)?t?t(n):null:n},Ku={name:"Teleport",__isTeleport:!0,process(e,t,n,s,i,o,r,l,a,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:b}}=c,y=ri(t.props);let{shapeFlag:S,children:E,dynamicChildren:M}=t;if(e==null){const P=t.el=m(""),H=t.anchor=m("");f(P,n,s),f(H,n,s);const z=($,Z)=>{S&16&&(i&&i.isCE&&(i.ce._teleportTarget=$),u(E,$,Z,i,o,r,l,a))},j=()=>{const $=t.target=qr(t.props,p),Z=Gu($,t,m,f);$&&(r!=="svg"&&Rl($)?r="svg":r!=="mathml"&&Ol($)&&(r="mathml"),y||(z($,Z),co(t,!1)))};y&&(z(n,H),co(t,!0)),kl(t.props)?(t.el.__isMounted=!1,Qe(()=>{j(),delete t.el.__isMounted},o)):j()}else{if(kl(t.props)&&e.el.__isMounted===!1){Qe(()=>{Ku.process(e,t,n,s,i,o,r,l,a,c)},o);return}t.el=e.el,t.targetStart=e.targetStart;const P=t.anchor=e.anchor,H=t.target=e.target,z=t.targetAnchor=e.targetAnchor,j=ri(e.props),$=j?n:H,Z=j?P:z;if(r==="svg"||Rl(H)?r="svg":(r==="mathml"||Ol(H))&&(r="mathml"),M?(h(e.dynamicChildren,M,$,i,o,r,l),Va(e,t,!0)):a||d(e,t,$,Z,i,o,r,l,!1),y)j?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Wi(t,n,P,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const oe=t.target=qr(t.props,p);oe&&Wi(t,oe,null,c,0)}else j&&Wi(t,H,z,c,1);co(t,y)}},remove(e,t,n,{um:s,o:{remove:i}},o){const{shapeFlag:r,children:l,anchor:a,targetStart:c,targetAnchor:u,target:d,props:h}=e;if(d&&(i(c),i(u)),o&&i(a),r&16){const f=o||!ri(h);for(let p=0;p<l.length;p++){const m=l[p];s(m,t,n,f,!!m.dynamicChildren)}}},move:Wi,hydrate:qp};function Wi(e,t,n,{o:{insert:s},m:i},o=2){o===0&&s(e.targetAnchor,t,n);const{el:r,anchor:l,shapeFlag:a,children:c,props:u}=e,d=o===2;if(d&&s(r,t,n),(!d||ri(u))&&a&16)for(let h=0;h<c.length;h++)i(c[h],t,n,2);d&&s(l,t,n)}function qp(e,t,n,s,i,o,{o:{nextSibling:r,parentNode:l,querySelector:a,insert:c,createText:u}},d){const h=t.target=qr(t.props,a);if(h){const f=ri(t.props),p=h._lpa||h.firstChild;if(t.shapeFlag&16)if(f)t.anchor=d(r(e),t,l(e),n,s,i,o),t.targetStart=p,t.targetAnchor=p&&r(p);else{t.anchor=r(e);let m=p;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")t.targetStart=m;else if(m.data==="teleport anchor"){t.targetAnchor=m,h._lpa=t.targetAnchor&&r(t.targetAnchor);break}}m=r(m)}t.targetAnchor||Gu(h,t,u,c),d(p&&r(p),t,h,n,s,i,o)}co(t,f)}return t.anchor&&r(t.anchor)}const qu=Ku;function co(e,t){const n=e.ctx;if(n&&n.ut){let s,i;for(t?(s=e.el,i=e.anchor):(s=e.targetStart,i=e.targetAnchor);s&&s!==i;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function Gu(e,t,n,s){const i=t.targetStart=n(""),o=t.targetAnchor=n("");return i[Yu]=o,e&&(s(i,e),s(o,e)),o}const wn=Symbol("_leaveCb"),Vi=Symbol("_enterCb");function Ju(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return St(()=>{e.isMounted=!0}),Vo(()=>{e.isUnmounting=!0}),e}const pt=[Function,Array],Zu={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:pt,onEnter:pt,onAfterEnter:pt,onEnterCancelled:pt,onBeforeLeave:pt,onLeave:pt,onAfterLeave:pt,onLeaveCancelled:pt,onBeforeAppear:pt,onAppear:pt,onAfterAppear:pt,onAppearCancelled:pt},Qu=e=>{const t=e.subTree;return t.component?Qu(t.component):t},Gp={name:"BaseTransition",props:Zu,setup(e,{slots:t}){const n=Pi(),s=Ju();return()=>{const i=t.default&&Na(t.default(),!0);if(!i||!i.length)return;const o=ed(i),r=de(e),{mode:l}=r;if(s.isLeaving)return Er(o);const a=Pl(o);if(!a)return Er(o);let c=gi(a,r,s,n,d=>c=d);a.type!==Ge&&Vn(a,c);let u=n.subTree&&Pl(n.subTree);if(u&&u.type!==Ge&&!zn(a,u)&&Qu(n).type!==Ge){let d=gi(u,r,s,n);if(Vn(u,d),l==="out-in"&&a.type!==Ge)return s.isLeaving=!0,d.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},Er(o);l==="in-out"&&a.type!==Ge?d.delayLeave=(h,f,p)=>{const m=td(s,u);m[String(u.key)]=u,h[wn]=()=>{f(),h[wn]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{p(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return o}}};function ed(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Ge){t=n;break}}return t}const Jp=Gp;function td(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function gi(e,t,n,s,i){const{appear:o,mode:r,persisted:l=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:b,onAppear:y,onAfterAppear:S,onAppearCancelled:E}=t,M=String(e.key),P=td(n,e),H=($,Z)=>{$&&Mt($,s,9,Z)},z=($,Z)=>{const oe=Z[1];H($,Z),Q($)?$.every(U=>U.length<=1)&&oe():$.length<=1&&oe()},j={mode:r,persisted:l,beforeEnter($){let Z=a;if(!n.isMounted)if(o)Z=b||a;else return;$[wn]&&$[wn](!0);const oe=P[M];oe&&zn(e,oe)&&oe.el[wn]&&oe.el[wn](),H(Z,[$])},enter($){let Z=c,oe=u,U=d;if(!n.isMounted)if(o)Z=y||c,oe=S||u,U=E||d;else return;let ae=!1;const be=$[Vi]=le=>{ae||(ae=!0,le?H(U,[$]):H(oe,[$]),j.delayedLeave&&j.delayedLeave(),$[Vi]=void 0)};Z?z(Z,[$,be]):be()},leave($,Z){const oe=String(e.key);if($[Vi]&&$[Vi](!0),n.isUnmounting)return Z();H(h,[$]);let U=!1;const ae=$[wn]=be=>{U||(U=!0,Z(),be?H(m,[$]):H(p,[$]),$[wn]=void 0,P[oe]===e&&delete P[oe])};P[oe]=e,f?z(f,[$,ae]):ae()},clone($){const Z=gi($,t,n,s,i);return i&&i(Z),Z}};return j}function Er(e){if(Fo(e))return e=Tn(e),e.children=null,e}function Pl(e){if(!Fo(e))return Xu(e.type)&&e.children?ed(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&ie(n.default))return n.default()}}function Vn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Vn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Na(e,t=!1,n){let s=[],i=0;for(let o=0;o<e.length;o++){let r=e[o];const l=n==null?r.key:String(n)+String(r.key!=null?r.key:o);r.type===ke?(r.patchFlag&128&&i++,s=s.concat(Na(r.children,t,l))):(t||r.type!==Ge)&&s.push(l!=null?Tn(r,{key:l}):r)}if(i>1)for(let o=0;o<s.length;o++)s[o].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Ha(e,t){return ie(e)?Le({name:e.name},t,{setup:e}):e}function nd(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function bt(e){const t=Pi(),n=zu(null);if(t){const i=t.refs===me?t.refs={}:t.refs;Object.defineProperty(i,e,{enumerable:!0,get:()=>n.value,set:o=>n.value=o})}return n}function Mo(e,t,n,s,i=!1){if(Q(e)){e.forEach((p,m)=>Mo(p,t&&(Q(t)?t[m]:t),n,s,i));return}if(cs(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Mo(e,t,n,s.component.subTree);return}const o=s.shapeFlag&4?Ko(s.component):s.el,r=i?null:o,{i:l,r:a}=e,c=t&&t.r,u=l.refs===me?l.refs={}:l.refs,d=l.setupState,h=de(d),f=d===me?()=>!1:p=>_e(h,p);if(c!=null&&c!==a&&(Re(c)?(u[c]=null,f(c)&&(d[c]=null)):Pe(c)&&(c.value=null)),ie(a))Ri(a,l,12,[r,u]);else{const p=Re(a),m=Pe(a);if(p||m){const b=()=>{if(e.f){const y=p?f(a)?d[a]:u[a]:a.value;i?Q(y)&&Ra(y,o):Q(y)?y.includes(o)||y.push(o):p?(u[a]=[o],f(a)&&(d[a]=u[a])):(a.value=[o],e.k&&(u[e.k]=a.value))}else p?(u[a]=r,f(a)&&(d[a]=r)):m&&(a.value=r,e.k&&(u[e.k]=r))};r?(b.id=-1,Qe(b,n)):b()}}}zo().requestIdleCallback;zo().cancelIdleCallback;const cs=e=>!!e.type.__asyncLoader,Fo=e=>e.type.__isKeepAlive;function sd(e,t){od(e,"a",t)}function id(e,t){od(e,"da",t)}function od(e,t,n=ze){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Wo(t,s,n),n){let i=n.parent;for(;i&&i.parent;)Fo(i.parent.vnode)&&Zp(s,t,n,i),i=i.parent}}function Zp(e,t,n,s){const i=Wo(t,e,s,!0);cn(()=>{Ra(s[t],i)},n)}function Wo(e,t,n=ze,s=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...r)=>{nn();const l=$i(n),a=Mt(t,n,e,r);return l(),sn(),a});return s?i.unshift(o):i.push(o),o}}const ln=e=>(t,n=ze)=>{(!wi||e==="sp")&&Wo(e,(...s)=>t(...s),n)},Yn=ln("bm"),St=ln("m"),Qp=ln("bu"),rd=ln("u"),Vo=ln("bum"),cn=ln("um"),em=ln("sp"),tm=ln("rtg"),nm=ln("rtc");function sm(e,t=ze){Wo("ec",e,t)}const ad="components";function yt(e,t){return cd(ad,e,!0,t)||e}const ld=Symbol.for("v-ndc");function vi(e){return Re(e)?cd(ad,e,!1)||e:e||ld}function cd(e,t,n=!0,s=!1){const i=Ie||ze;if(i){const o=i.type;{const l=Um(o,!1);if(l&&(l===t||l===ft(t)||l===Do(ft(t))))return o}const r=$l(i[e]||o[e],t)||$l(i.appContext[e],t);return!r&&s?o:r}}function $l(e,t){return e&&(e[t]||e[ft(t)]||e[Do(ft(t))])}function An(e,t,n,s){let i;const o=n,r=Q(e);if(r||Re(e)){const l=r&&Cn(e);let a=!1,c=!1;l&&(a=!vt(e),c=Mn(e),e=Bo(e)),i=new Array(e.length);for(let u=0,d=e.length;u<d;u++)i[u]=t(a?c?So(He(e[u])):He(e[u]):e[u],u,void 0,o)}else if(typeof e=="number"){i=new Array(e);for(let l=0;l<e;l++)i[l]=t(l+1,l,void 0,o)}else if(Ce(e))if(e[Symbol.iterator])i=Array.from(e,(l,a)=>t(l,a,void 0,o));else{const l=Object.keys(e);i=new Array(l.length);for(let a=0,c=l.length;a<c;a++){const u=l[a];i[a]=t(e[u],u,a,o)}}else i=[];return i}function tt(e,t,n={},s,i){if(Ie.ce||Ie.parent&&cs(Ie.parent)&&Ie.parent.ce)return t!=="default"&&(n.name=t),x(),K(ke,null,[D("slot",n,s)],64);let o=e[t];o&&o._c&&(o._d=!1),x();const r=o&&ud(o(n)),l=n.key||r&&r.key,a=K(ke,{key:(l&&!Ct(l)?l:`_${t}`)+""},r||[],r&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function ud(e){return e.some(t=>yi(t)?!(t.type===Ge||t.type===ke&&!ud(t.children)):!0)?e:null}const Gr=e=>e?kd(e)?Ko(e):Gr(e.parent):null,ai=Le(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Gr(e.parent),$root:e=>Gr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>hd(e),$forceUpdate:e=>e.f||(e.f=()=>{Ba(e.update)}),$nextTick:e=>e.n||(e.n=on.bind(e.proxy)),$watch:e=>Am.bind(e)}),Cr=(e,t)=>e!==me&&!e.__isScriptSetup&&_e(e,t),im={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:o,accessCache:r,type:l,appContext:a}=e;let c;if(t[0]!=="$"){const f=r[t];if(f!==void 0)switch(f){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(Cr(s,t))return r[t]=1,s[t];if(i!==me&&_e(i,t))return r[t]=2,i[t];if((c=e.propsOptions[0])&&_e(c,t))return r[t]=3,o[t];if(n!==me&&_e(n,t))return r[t]=4,n[t];Jr&&(r[t]=0)}}const u=ai[t];let d,h;if(u)return t==="$attrs"&&qe(e.attrs,"get",""),u(e);if((d=l.__cssModules)&&(d=d[t]))return d;if(n!==me&&_e(n,t))return r[t]=4,n[t];if(h=a.config.globalProperties,_e(h,t))return h[t]},set({_:e},t,n){const{data:s,setupState:i,ctx:o}=e;return Cr(i,t)?(i[t]=n,!0):s!==me&&_e(s,t)?(s[t]=n,!0):_e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,propsOptions:o}},r){let l;return!!n[r]||e!==me&&_e(e,r)||Cr(t,r)||(l=o[0])&&_e(l,r)||_e(s,r)||_e(ai,r)||_e(i.config.globalProperties,r)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:_e(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ao(e){return Q(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function je(e,t){return!e||!t?e||t:Q(e)&&Q(t)?e.concat(t):Le({},Ao(e),Ao(t))}let Jr=!0;function om(e){const t=hd(e),n=e.proxy,s=e.ctx;Jr=!1,t.beforeCreate&&Ll(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:r,watch:l,provide:a,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:m,deactivated:b,beforeDestroy:y,beforeUnmount:S,destroyed:E,unmounted:M,render:P,renderTracked:H,renderTriggered:z,errorCaptured:j,serverPrefetch:$,expose:Z,inheritAttrs:oe,components:U,directives:ae,filters:be}=t;if(c&&rm(c,s,null),r)for(const ne in r){const ce=r[ne];ie(ce)&&(s[ne]=ce.bind(n))}if(i){const ne=i.call(n,n);Ce(ne)&&(e.data=Vt(ne))}if(Jr=!0,o)for(const ne in o){const ce=o[ne],Je=ie(ce)?ce.bind(n,n):ie(ce.get)?ce.get.bind(n,n):Wt,nt=!ie(ce)&&ie(ce.set)?ce.set.bind(n):Wt,Ne=I({get:Je,set:nt});Object.defineProperty(s,ne,{enumerable:!0,configurable:!0,get:()=>Ne.value,set:Xe=>Ne.value=Xe})}if(l)for(const ne in l)dd(l[ne],s,n,ne);if(a){const ne=ie(a)?a.call(n):a;Reflect.ownKeys(ne).forEach(ce=>{uo(ce,ne[ce])})}u&&Ll(u,e,"c");function he(ne,ce){Q(ce)?ce.forEach(Je=>ne(Je.bind(n))):ce&&ne(ce.bind(n))}if(he(Yn,d),he(St,h),he(Qp,f),he(rd,p),he(sd,m),he(id,b),he(sm,j),he(nm,H),he(tm,z),he(Vo,S),he(cn,M),he(em,$),Q(Z))if(Z.length){const ne=e.exposed||(e.exposed={});Z.forEach(ce=>{Object.defineProperty(ne,ce,{get:()=>n[ce],set:Je=>n[ce]=Je})})}else e.exposed||(e.exposed={});P&&e.render===Wt&&(e.render=P),oe!=null&&(e.inheritAttrs=oe),U&&(e.components=U),ae&&(e.directives=ae),$&&nd(e)}function rm(e,t,n=Wt){Q(e)&&(e=Zr(e));for(const s in e){const i=e[s];let o;Ce(i)?"default"in i?o=$e(i.from||s,i.default,!0):o=$e(i.from||s):o=$e(i),Pe(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[s]=o}}function Ll(e,t,n){Mt(Q(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function dd(e,t,n,s){let i=s.includes(".")?xd(n,s):()=>n[s];if(Re(e)){const o=t[e];ie(o)&&Ve(i,o)}else if(ie(e))Ve(i,e.bind(n));else if(Ce(e))if(Q(e))e.forEach(o=>dd(o,t,n,s));else{const o=ie(e.handler)?e.handler.bind(n):t[e.handler];ie(o)&&Ve(i,o,e)}}function hd(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,l=o.get(t);let a;return l?a=l:!i.length&&!n&&!s?a=t:(a={},i.length&&i.forEach(c=>To(a,c,r,!0)),To(a,t,r)),Ce(t)&&o.set(t,a),a}function To(e,t,n,s=!1){const{mixins:i,extends:o}=t;o&&To(e,o,n,!0),i&&i.forEach(r=>To(e,r,n,!0));for(const r in t)if(!(s&&r==="expose")){const l=am[r]||n&&n[r];e[r]=l?l(e[r],t[r]):t[r]}return e}const am={data:Il,props:Dl,emits:Dl,methods:ni,computed:ni,beforeCreate:Ze,created:Ze,beforeMount:Ze,mounted:Ze,beforeUpdate:Ze,updated:Ze,beforeDestroy:Ze,beforeUnmount:Ze,destroyed:Ze,unmounted:Ze,activated:Ze,deactivated:Ze,errorCaptured:Ze,serverPrefetch:Ze,components:ni,directives:ni,watch:cm,provide:Il,inject:lm};function Il(e,t){return t?e?function(){return Le(ie(e)?e.call(this,this):e,ie(t)?t.call(this,this):t)}:t:e}function lm(e,t){return ni(Zr(e),Zr(t))}function Zr(e){if(Q(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ze(e,t){return e?[...new Set([].concat(e,t))]:t}function ni(e,t){return e?Le(Object.create(null),e,t):t}function Dl(e,t){return e?Q(e)&&Q(t)?[...new Set([...e,...t])]:Le(Object.create(null),Ao(e),Ao(t??{})):t}function cm(e,t){if(!e)return t;if(!t)return e;const n=Le(Object.create(null),e);for(const s in t)n[s]=Ze(e[s],t[s]);return n}function fd(){return{app:null,config:{isNativeTag:sp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let um=0;function dm(e,t){return function(s,i=null){ie(s)||(s=Le({},s)),i!=null&&!Ce(i)&&(i=null);const o=fd(),r=new WeakSet,l=[];let a=!1;const c=o.app={_uid:um++,_component:s,_props:i,_container:null,_context:o,_instance:null,version:Xm,get config(){return o.config},set config(u){},use(u,...d){return r.has(u)||(u&&ie(u.install)?(r.add(u),u.install(c,...d)):ie(u)&&(r.add(u),u(c,...d))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,d){return d?(o.components[u]=d,c):o.components[u]},directive(u,d){return d?(o.directives[u]=d,c):o.directives[u]},mount(u,d,h){if(!a){const f=c._ceVNode||D(s,i);return f.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),e(f,u,h),a=!0,c._container=u,u.__vue_app__=c,Ko(f.component)}},onUnmount(u){l.push(u)},unmount(){a&&(Mt(l,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return o.provides[u]=d,c},runWithContext(u){const d=Fn;Fn=c;try{return u()}finally{Fn=d}}};return c}}let Fn=null;function uo(e,t){if(ze){let n=ze.provides;const s=ze.parent&&ze.parent.provides;s===n&&(n=ze.provides=Object.create(s)),n[e]=t}}function $e(e,t,n=!1){const s=ze||Ie;if(s||Fn){let i=Fn?Fn._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&ie(t)?t.call(s&&s.proxy):t}}function hm(){return!!(ze||Ie||Fn)}const pd={},md=()=>Object.create(pd),gd=e=>Object.getPrototypeOf(e)===pd;function fm(e,t,n,s=!1){const i={},o=md();e.propsDefaults=Object.create(null),vd(e,t,i,o);for(const r in e.propsOptions[0])r in i||(i[r]=void 0);n?e.props=s?i:Iu(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function pm(e,t,n,s){const{props:i,attrs:o,vnode:{patchFlag:r}}=e,l=de(i),[a]=e.propsOptions;let c=!1;if((s||r>0)&&!(r&16)){if(r&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Yo(e.emitsOptions,h))continue;const f=t[h];if(a)if(_e(o,h))f!==o[h]&&(o[h]=f,c=!0);else{const p=ft(h);i[p]=Qr(a,l,p,f,e,!1)}else f!==o[h]&&(o[h]=f,c=!0)}}}else{vd(e,t,i,o)&&(c=!0);let u;for(const d in l)(!t||!_e(t,d)&&((u=an(d))===d||!_e(t,u)))&&(a?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=Qr(a,l,d,void 0,e,!0)):delete i[d]);if(o!==l)for(const d in o)(!t||!_e(t,d))&&(delete o[d],c=!0)}c&&Zt(e.attrs,"set","")}function vd(e,t,n,s){const[i,o]=e.propsOptions;let r=!1,l;if(t)for(let a in t){if(si(a))continue;const c=t[a];let u;i&&_e(i,u=ft(a))?!o||!o.includes(u)?n[u]=c:(l||(l={}))[u]=c:Yo(e.emitsOptions,a)||(!(a in s)||c!==s[a])&&(s[a]=c,r=!0)}if(o){const a=de(n),c=l||me;for(let u=0;u<o.length;u++){const d=o[u];n[d]=Qr(i,a,d,c[d],e,!_e(c,d))}}return r}function Qr(e,t,n,s,i,o){const r=e[n];if(r!=null){const l=_e(r,"default");if(l&&s===void 0){const a=r.default;if(r.type!==Function&&!r.skipFactory&&ie(a)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=$i(i);s=c[n]=a.call(null,t),u()}}else s=a;i.ce&&i.ce._setProp(n,s)}r[0]&&(o&&!l?s=!1:r[1]&&(s===""||s===an(n))&&(s=!0))}return s}const mm=new WeakMap;function bd(e,t,n=!1){const s=n?mm:t.propsCache,i=s.get(e);if(i)return i;const o=e.props,r={},l=[];let a=!1;if(!ie(e)){const u=d=>{a=!0;const[h,f]=bd(d,t,!0);Le(r,h),f&&l.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!a)return Ce(e)&&s.set(e,rs),rs;if(Q(o))for(let u=0;u<o.length;u++){const d=ft(o[u]);zl(d)&&(r[d]=me)}else if(o)for(const u in o){const d=ft(u);if(zl(d)){const h=o[u],f=r[d]=Q(h)||ie(h)?{type:h}:Le({},h),p=f.type;let m=!1,b=!0;if(Q(p))for(let y=0;y<p.length;++y){const S=p[y],E=ie(S)&&S.name;if(E==="Boolean"){m=!0;break}else E==="String"&&(b=!1)}else m=ie(p)&&p.name==="Boolean";f[0]=m,f[1]=b,(m||_e(f,"default"))&&l.push(d)}}const c=[r,l];return Ce(e)&&s.set(e,c),c}function zl(e){return e[0]!=="$"&&!si(e)}const Fa=e=>e[0]==="_"||e==="$stable",Wa=e=>Q(e)?e.map(Nt):[Nt(e)],gm=(e,t,n)=>{if(t._n)return t;const s=Ee((...i)=>Wa(t(...i)),n);return s._c=!1,s},yd=(e,t,n)=>{const s=e._ctx;for(const i in e){if(Fa(i))continue;const o=e[i];if(ie(o))t[i]=gm(i,o,s);else if(o!=null){const r=Wa(o);t[i]=()=>r}}},wd=(e,t)=>{const n=Wa(t);e.slots.default=()=>n},_d=(e,t,n)=>{for(const s in t)(n||!Fa(s))&&(e[s]=t[s])},vm=(e,t,n)=>{const s=e.slots=md();if(e.vnode.shapeFlag&32){const i=t._;i?(_d(s,t,n),n&&pu(s,"_",i,!0)):yd(t,s)}else t&&wd(e,t)},bm=(e,t,n)=>{const{vnode:s,slots:i}=e;let o=!0,r=me;if(s.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:_d(i,t,n):(o=!t.$stable,yd(t,i)),r=t}else t&&(wd(e,t),r={default:1});if(o)for(const l in i)!Fa(l)&&r[l]==null&&delete i[l]},Qe=$m;function wm(e){return _m(e)}function _m(e,t){const n=zo();n.__VUE__=!0;const{insert:s,remove:i,patchProp:o,createElement:r,createText:l,createComment:a,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=Wt,insertStaticContent:p}=e,m=(g,v,w,R=null,L=null,O=null,V=void 0,_=null,A=!!v.dynamicChildren)=>{if(g===v)return;g&&!zn(g,v)&&(R=k(g),Xe(g,L,O,!0),g=null),v.patchFlag===-2&&(A=!1,v.dynamicChildren=null);const{type:C,ref:G,shapeFlag:Y}=v;switch(C){case Xo:b(g,v,w,R);break;case Ge:y(g,v,w,R);break;case ho:g==null&&S(v,w,R,V);break;case ke:U(g,v,w,R,L,O,V,_,A);break;default:Y&1?P(g,v,w,R,L,O,V,_,A):Y&6?ae(g,v,w,R,L,O,V,_,A):(Y&64||Y&128)&&C.process(g,v,w,R,L,O,V,_,A,J)}G!=null&&L&&Mo(G,g&&g.ref,O,v||g,!v)},b=(g,v,w,R)=>{if(g==null)s(v.el=l(v.children),w,R);else{const L=v.el=g.el;v.children!==g.children&&c(L,v.children)}},y=(g,v,w,R)=>{g==null?s(v.el=a(v.children||""),w,R):v.el=g.el},S=(g,v,w,R)=>{[g.el,g.anchor]=p(g.children,v,w,R,g.el,g.anchor)},E=({el:g,anchor:v},w,R)=>{let L;for(;g&&g!==v;)L=h(g),s(g,w,R),g=L;s(v,w,R)},M=({el:g,anchor:v})=>{let w;for(;g&&g!==v;)w=h(g),i(g),g=w;i(v)},P=(g,v,w,R,L,O,V,_,A)=>{v.type==="svg"?V="svg":v.type==="math"&&(V="mathml"),g==null?H(v,w,R,L,O,V,_,A):$(g,v,L,O,V,_,A)},H=(g,v,w,R,L,O,V,_)=>{let A,C;const{props:G,shapeFlag:Y,transition:ee,dirs:se}=g;if(A=g.el=r(g.type,O,G&&G.is,G),Y&8?u(A,g.children):Y&16&&j(g.children,A,null,R,L,Mr(g,O),V,_),se&&Pn(g,null,R,"created"),z(A,g,g.scopeId,V,R),G){for(const Me in G)Me!=="value"&&!si(Me)&&o(A,Me,null,G[Me],O,R);"value"in G&&o(A,"value",null,G.value,O),(C=G.onVnodeBeforeMount)&&Dt(C,R,g)}se&&Pn(g,null,R,"beforeMount");const ue=Sm(L,ee);ue&&ee.beforeEnter(A),s(A,v,w),((C=G&&G.onVnodeMounted)||ue||se)&&Qe(()=>{C&&Dt(C,R,g),ue&&ee.enter(A),se&&Pn(g,null,R,"mounted")},L)},z=(g,v,w,R,L)=>{if(w&&f(g,w),R)for(let O=0;O<R.length;O++)f(g,R[O]);if(L){let O=L.subTree;if(v===O||Md(O.type)&&(O.ssContent===v||O.ssFallback===v)){const V=L.vnode;z(g,V,V.scopeId,V.slotScopeIds,L.parent)}}},j=(g,v,w,R,L,O,V,_,A=0)=>{for(let C=A;C<g.length;C++){const G=g[C]=_?_n(g[C]):Nt(g[C]);m(null,G,v,w,R,L,O,V,_)}},$=(g,v,w,R,L,O,V)=>{const _=v.el=g.el;let{patchFlag:A,dynamicChildren:C,dirs:G}=v;A|=g.patchFlag&16;const Y=g.props||me,ee=v.props||me;let se;if(w&&$n(w,!1),(se=ee.onVnodeBeforeUpdate)&&Dt(se,w,v,g),G&&Pn(v,g,w,"beforeUpdate"),w&&$n(w,!0),(Y.innerHTML&&ee.innerHTML==null||Y.textContent&&ee.textContent==null)&&u(_,""),C?Z(g.dynamicChildren,C,_,w,R,Mr(v,L),O):V||ce(g,v,_,null,w,R,Mr(v,L),O,!1),A>0){if(A&16)oe(_,Y,ee,w,L);else if(A&2&&Y.class!==ee.class&&o(_,"class",null,ee.class,L),A&4&&o(_,"style",Y.style,ee.style,L),A&8){const ue=v.dynamicProps;for(let Me=0;Me<ue.length;Me++){const xe=ue[Me],ct=Y[xe],it=ee[xe];(it!==ct||xe==="value")&&o(_,xe,ct,it,L,w)}}A&1&&g.children!==v.children&&u(_,v.children)}else!V&&C==null&&oe(_,Y,ee,w,L);((se=ee.onVnodeUpdated)||G)&&Qe(()=>{se&&Dt(se,w,v,g),G&&Pn(v,g,w,"updated")},R)},Z=(g,v,w,R,L,O,V)=>{for(let _=0;_<v.length;_++){const A=g[_],C=v[_],G=A.el&&(A.type===ke||!zn(A,C)||A.shapeFlag&198)?d(A.el):w;m(A,C,G,null,R,L,O,V,!0)}},oe=(g,v,w,R,L)=>{if(v!==w){if(v!==me)for(const O in v)!si(O)&&!(O in w)&&o(g,O,v[O],null,L,R);for(const O in w){if(si(O))continue;const V=w[O],_=v[O];V!==_&&O!=="value"&&o(g,O,_,V,L,R)}"value"in w&&o(g,"value",v.value,w.value,L)}},U=(g,v,w,R,L,O,V,_,A)=>{const C=v.el=g?g.el:l(""),G=v.anchor=g?g.anchor:l("");let{patchFlag:Y,dynamicChildren:ee,slotScopeIds:se}=v;se&&(_=_?_.concat(se):se),g==null?(s(C,w,R),s(G,w,R),j(v.children||[],w,G,L,O,V,_,A)):Y>0&&Y&64&&ee&&g.dynamicChildren?(Z(g.dynamicChildren,ee,w,L,O,V,_),(v.key!=null||L&&v===L.subTree)&&Va(g,v,!0)):ce(g,v,w,G,L,O,V,_,A)},ae=(g,v,w,R,L,O,V,_,A)=>{v.slotScopeIds=_,g==null?v.shapeFlag&512?L.ctx.activate(v,w,R,V,A):be(v,w,R,L,O,V,A):le(g,v,A)},be=(g,v,w,R,L,O,V)=>{const _=g.component=Nm(g,R,L);if(Fo(g)&&(_.ctx.renderer=J),Hm(_,!1,V),_.asyncDep){if(L&&L.registerDep(_,he,V),!g.el){const A=_.subTree=D(Ge);y(null,A,v,w)}}else he(_,g,v,w,L,O,V)},le=(g,v,w)=>{const R=v.component=g.component;if(Om(g,v,w))if(R.asyncDep&&!R.asyncResolved){ne(R,v,w);return}else R.next=v,R.update();else v.el=g.el,R.vnode=v},he=(g,v,w,R,L,O,V)=>{const _=()=>{if(g.isMounted){let{next:Y,bu:ee,u:se,parent:ue,vnode:Me}=g;{const Lt=Sd(g);if(Lt){Y&&(Y.el=Me.el,ne(g,Y,V)),Lt.asyncDep.then(()=>{g.isUnmounted||_()});return}}let xe=Y,ct;$n(g,!1),Y?(Y.el=Me.el,ne(g,Y,V)):Y=Me,ee&&lo(ee),(ct=Y.props&&Y.props.onVnodeBeforeUpdate)&&Dt(ct,ue,Y,Me),$n(g,!0);const it=Bl(g),$t=g.subTree;g.subTree=it,m($t,it,d($t.el),k($t),g,L,O),Y.el=it.el,xe===null&&Pm(g,it.el),se&&Qe(se,L),(ct=Y.props&&Y.props.onVnodeUpdated)&&Qe(()=>Dt(ct,ue,Y,Me),L)}else{let Y;const{el:ee,props:se}=v,{bm:ue,m:Me,parent:xe,root:ct,type:it}=g,$t=cs(v);$n(g,!1),ue&&lo(ue),!$t&&(Y=se&&se.onVnodeBeforeMount)&&Dt(Y,xe,v),$n(g,!0);{ct.ce&&ct.ce._injectChildStyle(it);const Lt=g.subTree=Bl(g);m(null,Lt,w,R,g,L,O),v.el=Lt.el}if(Me&&Qe(Me,L),!$t&&(Y=se&&se.onVnodeMounted)){const Lt=v;Qe(()=>Dt(Y,xe,Lt),L)}(v.shapeFlag&256||xe&&cs(xe.vnode)&&xe.vnode.shapeFlag&256)&&g.a&&Qe(g.a,L),g.isMounted=!0,v=w=R=null}};g.scope.on();const A=g.effect=new _u(_);g.scope.off();const C=g.update=A.run.bind(A),G=g.job=A.runIfDirty.bind(A);G.i=g,G.id=g.uid,A.scheduler=()=>Ba(G),$n(g,!0),C()},ne=(g,v,w)=>{v.component=g;const R=g.vnode.props;g.vnode=v,g.next=null,pm(g,v.props,R,w),bm(g,v.children,w),nn(),Tl(g),sn()},ce=(g,v,w,R,L,O,V,_,A=!1)=>{const C=g&&g.children,G=g?g.shapeFlag:0,Y=v.children,{patchFlag:ee,shapeFlag:se}=v;if(ee>0){if(ee&128){nt(C,Y,w,R,L,O,V,_,A);return}else if(ee&256){Je(C,Y,w,R,L,O,V,_,A);return}}se&8?(G&16&&st(C,L,O),Y!==C&&u(w,Y)):G&16?se&16?nt(C,Y,w,R,L,O,V,_,A):st(C,L,O,!0):(G&8&&u(w,""),se&16&&j(Y,w,R,L,O,V,_,A))},Je=(g,v,w,R,L,O,V,_,A)=>{g=g||rs,v=v||rs;const C=g.length,G=v.length,Y=Math.min(C,G);let ee;for(ee=0;ee<Y;ee++){const se=v[ee]=A?_n(v[ee]):Nt(v[ee]);m(g[ee],se,w,null,L,O,V,_,A)}C>G?st(g,L,O,!0,!1,Y):j(v,w,R,L,O,V,_,A,Y)},nt=(g,v,w,R,L,O,V,_,A)=>{let C=0;const G=v.length;let Y=g.length-1,ee=G-1;for(;C<=Y&&C<=ee;){const se=g[C],ue=v[C]=A?_n(v[C]):Nt(v[C]);if(zn(se,ue))m(se,ue,w,null,L,O,V,_,A);else break;C++}for(;C<=Y&&C<=ee;){const se=g[Y],ue=v[ee]=A?_n(v[ee]):Nt(v[ee]);if(zn(se,ue))m(se,ue,w,null,L,O,V,_,A);else break;Y--,ee--}if(C>Y){if(C<=ee){const se=ee+1,ue=se<G?v[se].el:R;for(;C<=ee;)m(null,v[C]=A?_n(v[C]):Nt(v[C]),w,ue,L,O,V,_,A),C++}}else if(C>ee)for(;C<=Y;)Xe(g[C],L,O,!0),C++;else{const se=C,ue=C,Me=new Map;for(C=ue;C<=ee;C++){const ut=v[C]=A?_n(v[C]):Nt(v[C]);ut.key!=null&&Me.set(ut.key,C)}let xe,ct=0;const it=ee-ue+1;let $t=!1,Lt=0;const Es=new Array(it);for(C=0;C<it;C++)Es[C]=0;for(C=se;C<=Y;C++){const ut=g[C];if(ct>=it){Xe(ut,L,O,!0);continue}let It;if(ut.key!=null)It=Me.get(ut.key);else for(xe=ue;xe<=ee;xe++)if(Es[xe-ue]===0&&zn(ut,v[xe])){It=xe;break}It===void 0?Xe(ut,L,O,!0):(Es[It-ue]=C+1,It>=Lt?Lt=It:$t=!0,m(ut,v[It],w,null,L,O,V,_,A),ct++)}const _l=$t?xm(Es):rs;for(xe=_l.length-1,C=it-1;C>=0;C--){const ut=ue+C,It=v[ut],Sl=ut+1<G?v[ut+1].el:R;Es[C]===0?m(null,It,w,Sl,L,O,V,_,A):$t&&(xe<0||C!==_l[xe]?Ne(It,w,Sl,2):xe--)}}},Ne=(g,v,w,R,L=null)=>{const{el:O,type:V,transition:_,children:A,shapeFlag:C}=g;if(C&6){Ne(g.component.subTree,v,w,R);return}if(C&128){g.suspense.move(v,w,R);return}if(C&64){V.move(g,v,w,J);return}if(V===ke){s(O,v,w);for(let Y=0;Y<A.length;Y++)Ne(A[Y],v,w,R);s(g.anchor,v,w);return}if(V===ho){E(g,v,w);return}if(R!==2&&C&1&&_)if(R===0)_.beforeEnter(O),s(O,v,w),Qe(()=>_.enter(O),L);else{const{leave:Y,delayLeave:ee,afterLeave:se}=_,ue=()=>{g.ctx.isUnmounted?i(O):s(O,v,w)},Me=()=>{Y(O,()=>{ue(),se&&se()})};ee?ee(O,ue,Me):Me()}else s(O,v,w)},Xe=(g,v,w,R=!1,L=!1)=>{const{type:O,props:V,ref:_,children:A,dynamicChildren:C,shapeFlag:G,patchFlag:Y,dirs:ee,cacheIndex:se}=g;if(Y===-2&&(L=!1),_!=null&&(nn(),Mo(_,null,w,g,!0),sn()),se!=null&&(v.renderCache[se]=void 0),G&256){v.ctx.deactivate(g);return}const ue=G&1&&ee,Me=!cs(g);let xe;if(Me&&(xe=V&&V.onVnodeBeforeUnmount)&&Dt(xe,v,g),G&6)Kn(g.component,w,R);else{if(G&128){g.suspense.unmount(w,R);return}ue&&Pn(g,null,v,"beforeUnmount"),G&64?g.type.remove(g,v,w,J,R):C&&!C.hasOnce&&(O!==ke||Y>0&&Y&64)?st(C,v,w,!1,!0):(O===ke&&Y&384||!L&&G&16)&&st(A,v,w),R&&dn(g)}(Me&&(xe=V&&V.onVnodeUnmounted)||ue)&&Qe(()=>{xe&&Dt(xe,v,g),ue&&Pn(g,null,v,"unmounted")},w)},dn=g=>{const{type:v,el:w,anchor:R,transition:L}=g;if(v===ke){hn(w,R);return}if(v===ho){M(g);return}const O=()=>{i(w),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(g.shapeFlag&1&&L&&!L.persisted){const{leave:V,delayLeave:_}=L,A=()=>V(w,O);_?_(g.el,O,A):A()}else O()},hn=(g,v)=>{let w;for(;g!==v;)w=h(g),i(g),g=w;i(v)},Kn=(g,v,w)=>{const{bum:R,scope:L,job:O,subTree:V,um:_,m:A,a:C,parent:G,slots:{__:Y}}=g;jl(A),jl(C),R&&lo(R),G&&Q(Y)&&Y.forEach(ee=>{G.renderCache[ee]=void 0}),L.stop(),O&&(O.flags|=8,Xe(V,g,v,w)),_&&Qe(_,v),Qe(()=>{g.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},st=(g,v,w,R=!1,L=!1,O=0)=>{for(let V=O;V<g.length;V++)Xe(g[V],v,w,R,L)},k=g=>{if(g.shapeFlag&6)return k(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const v=h(g.anchor||g.el),w=v&&v[Yu];return w?h(w):v};let X=!1;const W=(g,v,w)=>{g==null?v._vnode&&Xe(v._vnode,null,null,!0):m(v._vnode||null,g,v,null,null,null,w),v._vnode=g,X||(X=!0,Tl(),Wu(),X=!1)},J={p:m,um:Xe,m:Ne,r:dn,mt:be,mc:j,pc:ce,pbc:Z,n:k,o:e};return{render:W,hydrate:void 0,createApp:dm(W)}}function Mr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function $n({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Sm(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Va(e,t,n=!1){const s=e.children,i=t.children;if(Q(s)&&Q(i))for(let o=0;o<s.length;o++){const r=s[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=_n(i[o]),l.el=r.el),!n&&l.patchFlag!==-2&&Va(r,l)),l.type===Xo&&(l.el=r.el),l.type===Ge&&!l.el&&(l.el=r.el)}}function xm(e){const t=e.slice(),n=[0];let s,i,o,r,l;const a=e.length;for(s=0;s<a;s++){const c=e[s];if(c!==0){if(i=n[n.length-1],e[i]<c){t[s]=i,n.push(s);continue}for(o=0,r=n.length-1;o<r;)l=o+r>>1,e[n[l]]<c?o=l+1:r=l;c<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,r=n[o-1];o-- >0;)n[o]=r,r=t[r];return n}function Sd(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Sd(t)}function jl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Em=Symbol.for("v-scx"),Cm=()=>$e(Em);function Ua(e,t){return Uo(e,null,t)}function Mm(e,t){return Uo(e,null,{flush:"sync"})}function Ve(e,t,n){return Uo(e,t,n)}function Uo(e,t,n=me){const{immediate:s,deep:i,flush:o,once:r}=n,l=Le({},n),a=t&&s||!t&&o!=="post";let c;if(wi){if(o==="sync"){const f=Cm();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!a){const f=()=>{};return f.stop=Wt,f.resume=Wt,f.pause=Wt,f}}const u=ze;l.call=(f,p,m)=>Mt(f,u,p,m);let d=!1;o==="post"?l.scheduler=f=>{Qe(f,u&&u.suspense)}:o!=="sync"&&(d=!0,l.scheduler=(f,p)=>{p?f():Ba(f)}),l.augmentJob=f=>{t&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=Up(e,t,l);return wi&&(c?c.push(h):a&&h()),h}function Am(e,t,n){const s=this.proxy,i=Re(e)?e.includes(".")?xd(s,e):()=>s[e]:e.bind(s,s);let o;ie(t)?o=t:(o=t.handler,n=t);const r=$i(this),l=Uo(i,o.bind(s),n);return r(),l}function xd(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function At(e,t,n=me){const s=Pi(),i=ft(t),o=an(t),r=Ed(e,i),l=Nu((a,c)=>{let u,d=me,h;return Mm(()=>{const f=e[i];ot(u,f)&&(u=f,c())}),{get(){return a(),n.get?n.get(u):u},set(f){const p=n.set?n.set(f):f;if(!ot(p,u)&&!(d!==me&&ot(f,d)))return;const m=s.vnode.props;m&&(t in m||i in m||o in m)&&(`onUpdate:${t}`in m||`onUpdate:${i}`in m||`onUpdate:${o}`in m)||(u=f,c()),s.emit(`update:${t}`,p),ot(f,p)&&ot(f,d)&&!ot(p,h)&&c(),d=f,h=p}}});return l[Symbol.iterator]=()=>{let a=0;return{next(){return a<2?{value:a++?r||me:l,done:!1}:{done:!0}}}},l}const Ed=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ft(t)}Modifiers`]||e[`${an(t)}Modifiers`];function Tm(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||me;let i=n;const o=t.startsWith("update:"),r=o&&Ed(s,t.slice(7));r&&(r.trim&&(i=n.map(u=>Re(u)?u.trim():u)),r.number&&(i=n.map(wo)));let l,a=s[l=yr(t)]||s[l=yr(ft(t))];!a&&o&&(a=s[l=yr(an(t))]),a&&Mt(a,e,6,i);const c=s[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Mt(c,e,6,i)}}function Cd(e,t,n=!1){const s=t.emitsCache,i=s.get(e);if(i!==void 0)return i;const o=e.emits;let r={},l=!1;if(!ie(e)){const a=c=>{const u=Cd(c,t,!0);u&&(l=!0,Le(r,u))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!o&&!l?(Ce(e)&&s.set(e,null),null):(Q(o)?o.forEach(a=>r[a]=null):Le(r,o),Ce(e)&&s.set(e,r),r)}function Yo(e,t){return!e||!Lo(t)?!1:(t=t.slice(2).replace(/Once$/,""),_e(e,t[0].toLowerCase()+t.slice(1))||_e(e,an(t))||_e(e,t))}function Bl(e){const{type:t,vnode:n,proxy:s,withProxy:i,propsOptions:[o],slots:r,attrs:l,emit:a,render:c,renderCache:u,props:d,data:h,setupState:f,ctx:p,inheritAttrs:m}=e,b=Co(e);let y,S;try{if(n.shapeFlag&4){const M=i||s,P=M;y=Nt(c.call(P,M,u,d,f,h,p)),S=l}else{const M=t;y=Nt(M.length>1?M(d,{attrs:l,slots:r,emit:a}):M(d,null)),S=t.props?l:km(l)}}catch(M){li.length=0,Ho(M,e,1),y=D(Ge)}let E=y;if(S&&m!==!1){const M=Object.keys(S),{shapeFlag:P}=E;M.length&&P&7&&(o&&M.some(ka)&&(S=Rm(S,o)),E=Tn(E,S,!1,!0))}return n.dirs&&(E=Tn(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&Vn(E,n.transition),y=E,Co(b),y}const km=e=>{let t;for(const n in e)(n==="class"||n==="style"||Lo(n))&&((t||(t={}))[n]=e[n]);return t},Rm=(e,t)=>{const n={};for(const s in e)(!ka(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Om(e,t,n){const{props:s,children:i,component:o}=e,{props:r,children:l,patchFlag:a}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return s?Nl(s,r,c):!!r;if(a&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(r[h]!==s[h]&&!Yo(c,h))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===r?!1:s?r?Nl(s,r,c):!0:!!r;return!1}function Nl(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const o=s[i];if(t[o]!==e[o]&&!Yo(n,o))return!0}return!1}function Pm({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Md=e=>e.__isSuspense;function $m(e,t){t&&t.pendingBranch?Q(e)?t.effects.push(...e):t.effects.push(e):Kp(e)}const ke=Symbol.for("v-fgt"),Xo=Symbol.for("v-txt"),Ge=Symbol.for("v-cmt"),ho=Symbol.for("v-stc"),li=[];let dt=null;function x(e=!1){li.push(dt=e?null:[])}function Lm(){li.pop(),dt=li[li.length-1]||null}let bi=1;function Hl(e,t=!1){bi+=e,e<0&&dt&&t&&(dt.hasOnce=!0)}function Ad(e){return e.dynamicChildren=bi>0?dt||rs:null,Lm(),bi>0&&dt&&dt.push(e),e}function N(e,t,n,s,i,o){return Ad(T(e,t,n,s,i,o,!0))}function K(e,t,n,s,i){return Ad(D(e,t,n,s,i,!0))}function yi(e){return e?e.__v_isVNode===!0:!1}function zn(e,t){return e.type===t.type&&e.key===t.key}const Td=({key:e})=>e??null,fo=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Re(e)||Pe(e)||ie(e)?{i:Ie,r:e,k:t,f:!!n}:e:null);function T(e,t=null,n=null,s=0,i=null,o=e===ke?0:1,r=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Td(t),ref:t&&fo(t),scopeId:Uu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ie};return l?(Ya(a,n),o&128&&e.normalize(a)):n&&(a.shapeFlag|=Re(n)?8:16),bi>0&&!r&&dt&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&dt.push(a),a}const D=Im;function Im(e,t=null,n=null,s=0,i=null,o=!1){if((!e||e===ld)&&(e=Ge),yi(e)){const l=Tn(e,t,!0);return n&&Ya(l,n),bi>0&&!o&&dt&&(l.shapeFlag&6?dt[dt.indexOf(e)]=l:dt.push(l)),l.patchFlag=-2,l}if(Ym(e)&&(e=e.__vccOpts),t){t=Dm(t);let{class:l,style:a}=t;l&&!Re(l)&&(t.class=ge(l)),Ce(a)&&(ja(a)&&!Q(a)&&(a=Le({},a)),t.style=Rn(a))}const r=Re(e)?1:Md(e)?128:Xu(e)?64:Ce(e)?4:ie(e)?2:0;return T(e,t,n,s,i,r,o,!0)}function Dm(e){return e?ja(e)||gd(e)?Le({},e):e:null}function Tn(e,t,n=!1,s=!1){const{props:i,ref:o,patchFlag:r,children:l,transition:a}=e,c=t?Xa(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Td(c),ref:t&&t.ref?n&&o?Q(o)?o.concat(fo(t)):[o,fo(t)]:fo(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ke?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Tn(e.ssContent),ssFallback:e.ssFallback&&Tn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&s&&Vn(u,a.clone(u)),u}function us(e=" ",t=0){return D(Xo,null,e,t)}function zm(e,t){const n=D(ho,null,e);return n.staticCount=t,n}function Te(e="",t=!1){return t?(x(),K(Ge,null,e)):D(Ge,null,e)}function Nt(e){return e==null||typeof e=="boolean"?D(Ge):Q(e)?D(ke,null,e.slice()):yi(e)?_n(e):D(Xo,null,String(e))}function _n(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Tn(e)}function Ya(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Q(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),Ya(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!gd(t)?t._ctx=Ie:i===3&&Ie&&(Ie.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ie(t)?(t={default:t,_ctx:Ie},n=32):(t=String(t),s&64?(n=16,t=[us(t)]):n=8);e.children=t,e.shapeFlag|=n}function Xa(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=ge([t.class,s.class]));else if(i==="style")t.style=Rn([t.style,s.style]);else if(Lo(i)){const o=t[i],r=s[i];r&&o!==r&&!(Q(o)&&o.includes(r))&&(t[i]=o?[].concat(o,r):r)}else i!==""&&(t[i]=s[i])}return t}function Dt(e,t,n,s=null){Mt(e,t,7,[n,s])}const jm=fd();let Bm=0;function Nm(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||jm,o={uid:Bm++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new bu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bd(s,i),emitsOptions:Cd(s,i),emit:null,emitted:null,propsDefaults:me,inheritAttrs:s.inheritAttrs,ctx:me,data:me,props:me,attrs:me,slots:me,refs:me,setupState:me,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Tm.bind(null,o),e.ce&&e.ce(o),o}let ze=null;const Pi=()=>ze||Ie;let ko,ea;{const e=zo(),t=(n,s)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(s),o=>{i.length>1?i.forEach(r=>r(o)):i[0](o)}};ko=t("__VUE_INSTANCE_SETTERS__",n=>ze=n),ea=t("__VUE_SSR_SETTERS__",n=>wi=n)}const $i=e=>{const t=ze;return ko(e),e.scope.on(),()=>{e.scope.off(),ko(t)}},Fl=()=>{ze&&ze.scope.off(),ko(null)};function kd(e){return e.vnode.shapeFlag&4}let wi=!1;function Hm(e,t=!1,n=!1){t&&ea(t);const{props:s,children:i}=e.vnode,o=kd(e);fm(e,s,o,t),vm(e,i,n||t);const r=o?Fm(e,t):void 0;return t&&ea(!1),r}function Fm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,im);const{setup:s}=n;if(s){nn();const i=e.setupContext=s.length>1?Vm(e):null,o=$i(e),r=Ri(s,e,0,[e.props,i]),l=du(r);if(sn(),o(),(l||e.sp)&&!cs(e)&&nd(e),l){if(r.then(Fl,Fl),t)return r.then(a=>{Wl(e,a)}).catch(a=>{Ho(a,e,0)});e.asyncDep=r}else Wl(e,r)}else Rd(e)}function Wl(e,t,n){ie(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ce(t)&&(e.setupState=Bu(t)),Rd(e)}function Rd(e,t,n){const s=e.type;e.render||(e.render=s.render||Wt);{const i=$i(e);nn();try{om(e)}finally{sn(),i()}}}const Wm={get(e,t){return qe(e,"get",""),e[t]}};function Vm(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Wm),slots:e.slots,emit:e.emit,expose:t}}function Ko(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Bu(No(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ai)return ai[n](e)},has(t,n){return n in t||n in ai}})):e.proxy}function Um(e,t=!0){return ie(e)?e.displayName||e.name:e.name||t&&e.__name}function Ym(e){return ie(e)&&"__vccOpts"in e}const I=(e,t)=>Wp(e,t,wi);function qo(e,t,n){const s=arguments.length;return s===2?Ce(t)&&!Q(t)?yi(t)?D(e,null,[t]):D(e,t):D(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&yi(n)&&(n=[n]),D(e,t,n))}const Xm="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ta;const Vl=typeof window<"u"&&window.trustedTypes;if(Vl)try{ta=Vl.createPolicy("vue",{createHTML:e=>e})}catch{}const Od=ta?e=>ta.createHTML(e):e=>e,Km="http://www.w3.org/2000/svg",qm="http://www.w3.org/1998/Math/MathML",Jt=typeof document<"u"?document:null,Ul=Jt&&Jt.createElement("template"),Gm={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t==="svg"?Jt.createElementNS(Km,e):t==="mathml"?Jt.createElementNS(qm,e):n?Jt.createElement(e,{is:n}):Jt.createElement(e);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>Jt.createTextNode(e),createComment:e=>Jt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Jt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,o){const r=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Ul.innerHTML=Od(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const l=Ul.content;if(s==="svg"||s==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},fn="transition",Ms="animation",ds=Symbol("_vtc"),Pd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},$d=Le({},Zu,Pd),Jm=e=>(e.displayName="Transition",e.props=$d,e),Ka=Jm((e,{slots:t})=>qo(Jp,Ld(e),t)),Ln=(e,t=[])=>{Q(e)?e.forEach(n=>n(...t)):e&&e(...t)},Yl=e=>e?Q(e)?e.some(t=>t.length>1):e.length>1:!1;function Ld(e){const t={};for(const U in e)U in Pd||(t[U]=e[U]);if(e.css===!1)return t;const{name:n="v",type:s,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:a=o,appearActiveClass:c=r,appearToClass:u=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,p=Zm(i),m=p&&p[0],b=p&&p[1],{onBeforeEnter:y,onEnter:S,onEnterCancelled:E,onLeave:M,onLeaveCancelled:P,onBeforeAppear:H=y,onAppear:z=S,onAppearCancelled:j=E}=t,$=(U,ae,be,le)=>{U._enterCancelled=le,vn(U,ae?u:l),vn(U,ae?c:r),be&&be()},Z=(U,ae)=>{U._isLeaving=!1,vn(U,d),vn(U,f),vn(U,h),ae&&ae()},oe=U=>(ae,be)=>{const le=U?z:S,he=()=>$(ae,U,be);Ln(le,[ae,he]),Xl(()=>{vn(ae,U?a:o),jt(ae,U?u:l),Yl(le)||Kl(ae,s,m,he)})};return Le(t,{onBeforeEnter(U){Ln(y,[U]),jt(U,o),jt(U,r)},onBeforeAppear(U){Ln(H,[U]),jt(U,a),jt(U,c)},onEnter:oe(!1),onAppear:oe(!0),onLeave(U,ae){U._isLeaving=!0;const be=()=>Z(U,ae);jt(U,d),U._enterCancelled?(jt(U,h),na()):(na(),jt(U,h)),Xl(()=>{U._isLeaving&&(vn(U,d),jt(U,f),Yl(M)||Kl(U,s,b,be))}),Ln(M,[U,be])},onEnterCancelled(U){$(U,!1,void 0,!0),Ln(E,[U])},onAppearCancelled(U){$(U,!0,void 0,!0),Ln(j,[U])},onLeaveCancelled(U){Z(U),Ln(P,[U])}})}function Zm(e){if(e==null)return null;if(Ce(e))return[Ar(e.enter),Ar(e.leave)];{const t=Ar(e);return[t,t]}}function Ar(e){return lp(e)}function jt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[ds]||(e[ds]=new Set)).add(t)}function vn(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[ds];n&&(n.delete(t),n.size||(e[ds]=void 0))}function Xl(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Qm=0;function Kl(e,t,n,s){const i=e._endId=++Qm,o=()=>{i===e._endId&&s()};if(n!=null)return setTimeout(o,n);const{type:r,timeout:l,propCount:a}=Id(e,t);if(!r)return s();const c=r+"end";let u=0;const d=()=>{e.removeEventListener(c,h),o()},h=f=>{f.target===e&&++u>=a&&d()};setTimeout(()=>{u<a&&d()},l+1),e.addEventListener(c,h)}function Id(e,t){const n=window.getComputedStyle(e),s=p=>(n[p]||"").split(", "),i=s(`${fn}Delay`),o=s(`${fn}Duration`),r=ql(i,o),l=s(`${Ms}Delay`),a=s(`${Ms}Duration`),c=ql(l,a);let u=null,d=0,h=0;t===fn?r>0&&(u=fn,d=r,h=o.length):t===Ms?c>0&&(u=Ms,d=c,h=a.length):(d=Math.max(r,c),u=d>0?r>c?fn:Ms:null,h=u?u===fn?o.length:a.length:0);const f=u===fn&&/\b(transform|all)(,|$)/.test(s(`${fn}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:f}}function ql(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Gl(n)+Gl(e[s])))}function Gl(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function na(){return document.body.offsetHeight}function eg(e,t,n){const s=e[ds];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ro=Symbol("_vod"),Dd=Symbol("_vsh"),qa={beforeMount(e,{value:t},{transition:n}){e[Ro]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):As(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),As(e,!0),s.enter(e)):s.leave(e,()=>{As(e,!1)}):As(e,t))},beforeUnmount(e,{value:t}){As(e,t)}};function As(e,t){e.style.display=t?e[Ro]:"none",e[Dd]=!t}const tg=Symbol(""),ng=/(^|;)\s*display\s*:/;function sg(e,t,n){const s=e.style,i=Re(n);let o=!1;if(n&&!i){if(t)if(Re(t))for(const r of t.split(";")){const l=r.slice(0,r.indexOf(":")).trim();n[l]==null&&po(s,l,"")}else for(const r in t)n[r]==null&&po(s,r,"");for(const r in n)r==="display"&&(o=!0),po(s,r,n[r])}else if(i){if(t!==n){const r=s[tg];r&&(n+=";"+r),s.cssText=n,o=ng.test(n)}}else t&&e.removeAttribute("style");Ro in e&&(e[Ro]=o?s.display:"",e[Dd]&&(s.display="none"))}const Jl=/\s*!important$/;function po(e,t,n){if(Q(n))n.forEach(s=>po(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=ig(e,t);Jl.test(n)?e.setProperty(an(s),n.replace(Jl,""),"important"):e[s]=n}}const Zl=["Webkit","Moz","ms"],Tr={};function ig(e,t){const n=Tr[t];if(n)return n;let s=ft(t);if(s!=="filter"&&s in e)return Tr[t]=s;s=Do(s);for(let i=0;i<Zl.length;i++){const o=Zl[i]+s;if(o in e)return Tr[t]=o}return t}const Ql="http://www.w3.org/1999/xlink";function ec(e,t,n,s,i,o=pp(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Ql,t.slice(6,t.length)):e.setAttributeNS(Ql,t,n):n==null||o&&!mu(n)?e.removeAttribute(t):e.setAttribute(t,o?"":Ct(n)?String(n):n)}function tc(e,t,n,s,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Od(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const l=o==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let r=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=mu(n):n==null&&l==="string"?(n="",r=!0):l==="number"&&(n=0,r=!0)}try{e[t]=n}catch{}r&&e.removeAttribute(i||t)}function en(e,t,n,s){e.addEventListener(t,n,s)}function og(e,t,n,s){e.removeEventListener(t,n,s)}const nc=Symbol("_vei");function rg(e,t,n,s,i=null){const o=e[nc]||(e[nc]={}),r=o[t];if(s&&r)r.value=s;else{const[l,a]=ag(t);if(s){const c=o[t]=ug(s,i);en(e,l,c,a)}else r&&(og(e,l,r,a),o[t]=void 0)}}const sc=/(?:Once|Passive|Capture)$/;function ag(e){let t;if(sc.test(e)){t={};let s;for(;s=e.match(sc);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):an(e.slice(2)),t]}let kr=0;const lg=Promise.resolve(),cg=()=>kr||(lg.then(()=>kr=0),kr=Date.now());function ug(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Mt(dg(s,n.value),t,5,[s])};return n.value=e,n.attached=cg(),n}function dg(e,t){if(Q(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const ic=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,hg=(e,t,n,s,i,o)=>{const r=i==="svg";t==="class"?eg(e,s,r):t==="style"?sg(e,n,s):Lo(t)?ka(t)||rg(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):fg(e,t,s,r))?(tc(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ec(e,t,s,r,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Re(s))?tc(e,ft(t),s,o,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),ec(e,t,s,r))};function fg(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&ic(t)&&ie(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return ic(t)&&Re(n)?!1:t in e}const zd=new WeakMap,jd=new WeakMap,Oo=Symbol("_moveCb"),oc=Symbol("_enterCb"),pg=e=>(delete e.props.mode,e),mg=pg({name:"TransitionGroup",props:Le({},$d,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Pi(),s=Ju();let i,o;return rd(()=>{if(!i.length)return;const r=e.moveClass||`${e.name||"v"}-move`;if(!wg(i[0].el,n.vnode.el,r)){i=[];return}i.forEach(vg),i.forEach(bg);const l=i.filter(yg);na(),l.forEach(a=>{const c=a.el,u=c.style;jt(c,r),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[Oo]=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",d),c[Oo]=null,vn(c,r))};c.addEventListener("transitionend",d)}),i=[]}),()=>{const r=de(e),l=Ld(r);let a=r.tag||ke;if(i=[],o)for(let c=0;c<o.length;c++){const u=o[c];u.el&&u.el instanceof Element&&(i.push(u),Vn(u,gi(u,l,s,n)),zd.set(u,u.el.getBoundingClientRect()))}o=t.default?Na(t.default()):[];for(let c=0;c<o.length;c++){const u=o[c];u.key!=null&&Vn(u,gi(u,l,s,n))}return D(a,null,o)}}}),gg=mg;function vg(e){const t=e.el;t[Oo]&&t[Oo](),t[oc]&&t[oc]()}function bg(e){jd.set(e,e.el.getBoundingClientRect())}function yg(e){const t=zd.get(e),n=jd.get(e),s=t.left-n.left,i=t.top-n.top;if(s||i){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${s}px,${i}px)`,o.transitionDuration="0s",e}}function wg(e,t,n){const s=e.cloneNode(),i=e[ds];i&&i.forEach(l=>{l.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),n.split(/\s+/).forEach(l=>l&&s.classList.add(l)),s.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(s);const{hasTransform:r}=Id(s);return o.removeChild(s),r}const kn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Q(t)?n=>lo(t,n):t};function _g(e){e.target.composing=!0}function rc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const wt=Symbol("_assign"),sa={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e[wt]=kn(i);const o=s||i.props&&i.props.type==="number";en(e,t?"change":"input",r=>{if(r.target.composing)return;let l=e.value;n&&(l=l.trim()),o&&(l=wo(l)),e[wt](l)}),n&&en(e,"change",()=>{e.value=e.value.trim()}),t||(en(e,"compositionstart",_g),en(e,"compositionend",rc),en(e,"change",rc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:i,number:o}},r){if(e[wt]=kn(r),e.composing)return;const l=(o||e.type==="number")&&!/^0\d/.test(e.value)?wo(e.value):e.value,a=t??"";l!==a&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||i&&e.value.trim()===a)||(e.value=a))}},Sg={deep:!0,created(e,t,n){e[wt]=kn(n),en(e,"change",()=>{const s=e._modelValue,i=hs(e),o=e.checked,r=e[wt];if(Q(s)){const l=Pa(s,i),a=l!==-1;if(o&&!a)r(s.concat(i));else if(!o&&a){const c=[...s];c.splice(l,1),r(c)}}else if(_s(s)){const l=new Set(s);o?l.add(i):l.delete(i),r(l)}else r(Bd(e,o))})},mounted:ac,beforeUpdate(e,t,n){e[wt]=kn(n),ac(e,t,n)}};function ac(e,{value:t,oldValue:n},s){e._modelValue=t;let i;if(Q(t))i=Pa(t,s.props.value)>-1;else if(_s(t))i=t.has(s.props.value);else{if(t===n)return;i=Wn(t,Bd(e,!0))}e.checked!==i&&(e.checked=i)}const xg={created(e,{value:t},n){e.checked=Wn(t,n.props.value),e[wt]=kn(n),en(e,"change",()=>{e[wt](hs(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e[wt]=kn(s),t!==n&&(e.checked=Wn(t,s.props.value))}},Eg={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const i=_s(t);en(e,"change",()=>{const o=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>n?wo(hs(r)):hs(r));e[wt](e.multiple?i?new Set(o):o:o[0]),e._assigning=!0,on(()=>{e._assigning=!1})}),e[wt]=kn(s)},mounted(e,{value:t}){lc(e,t)},beforeUpdate(e,t,n){e[wt]=kn(n)},updated(e,{value:t}){e._assigning||lc(e,t)}};function lc(e,t){const n=e.multiple,s=Q(t);if(!(n&&!s&&!_s(t))){for(let i=0,o=e.options.length;i<o;i++){const r=e.options[i],l=hs(r);if(n)if(s){const a=typeof l;a==="string"||a==="number"?r.selected=t.some(c=>String(c)===String(l)):r.selected=Pa(t,l)>-1}else r.selected=t.has(l);else if(Wn(hs(r),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function hs(e){return"_value"in e?e._value:e.value}function Bd(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Cg={created(e,t,n){Ui(e,t,n,null,"created")},mounted(e,t,n){Ui(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){Ui(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){Ui(e,t,n,s,"updated")}};function Mg(e,t){switch(e){case"SELECT":return Eg;case"TEXTAREA":return sa;default:switch(t){case"checkbox":return Sg;case"radio":return xg;default:return sa}}}function Ui(e,t,n,s,i){const r=Mg(e.tagName,n.props&&n.props.type)[i];r&&r(e,t,n,s)}const Ag=["ctrl","shift","alt","meta"],Tg={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ag.some(n=>e[`${n}Key`]&&!t.includes(n))},_i=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(i,...o)=>{for(let r=0;r<t.length;r++){const l=Tg[t[r]];if(l&&l(i,t))return}return e(i,...o)})},kg={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Rg=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=i=>{if(!("key"in i))return;const o=an(i.key);if(t.some(r=>r===o||kg[r]===o))return e(i)})},Og=Le({patchProp:hg},Gm);let cc;function Pg(){return cc||(cc=wm(Og))}const OE=(...e)=>{const t=Pg().createApp(...e),{mount:n}=t;return t.mount=s=>{const i=Lg(s);if(!i)return;const o=t._component;!ie(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const r=n(i,!1,$g(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t};function $g(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Lg(e){return Re(e)?document.querySelector(e):e}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Nd;const Go=e=>Nd=e,Hd=Symbol();function ia(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ci;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ci||(ci={}));function PE(){const e=yu(!0),t=e.run(()=>F({}));let n=[],s=[];const i=No({install(o){Go(i),i._a=o,o.provide(Hd,i),o.config.globalProperties.$pinia=i,s.forEach(r=>n.push(r)),s=[]},use(o){return this._a?n.push(o):s.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const Fd=()=>{};function uc(e,t,n,s=Fd){e.push(t);const i=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),s())};return!n&&wu()&&gp(i),i}function Gn(e,...t){e.slice().forEach(n=>{n(...t)})}const Ig=e=>e(),dc=Symbol(),Rr=Symbol();function oa(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,s)=>e.set(s,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],i=e[n];ia(i)&&ia(s)&&e.hasOwnProperty(n)&&!Pe(s)&&!Cn(s)?e[n]=oa(i,s):e[n]=s}return e}const Dg=Symbol();function zg(e){return!ia(e)||!Object.prototype.hasOwnProperty.call(e,Dg)}const{assign:bn}=Object;function jg(e){return!!(Pe(e)&&e.effect)}function Bg(e,t,n,s){const{state:i,actions:o,getters:r}=t,l=n.state.value[e];let a;function c(){l||(n.state.value[e]=i?i():{});const u=Bp(n.state.value[e]);return bn(u,o,Object.keys(r||{}).reduce((d,h)=>(d[h]=No(I(()=>{Go(n);const f=n._s.get(e);return r[h].call(f,f)})),d),{}))}return a=Wd(e,c,t,n,s,!0),a}function Wd(e,t,n={},s,i,o){let r;const l=bn({actions:{}},n),a={deep:!0};let c,u,d=[],h=[],f;const p=s.state.value[e];!o&&!p&&(s.state.value[e]={}),F({});let m;function b(j){let $;c=u=!1,typeof j=="function"?(j(s.state.value[e]),$={type:ci.patchFunction,storeId:e,events:f}):(oa(s.state.value[e],j),$={type:ci.patchObject,payload:j,storeId:e,events:f});const Z=m=Symbol();on().then(()=>{m===Z&&(c=!0)}),u=!0,Gn(d,$,s.state.value[e])}const y=o?function(){const{state:$}=n,Z=$?$():{};this.$patch(oe=>{bn(oe,Z)})}:Fd;function S(){r.stop(),d=[],h=[],s._s.delete(e)}const E=(j,$="")=>{if(dc in j)return j[Rr]=$,j;const Z=function(){Go(s);const oe=Array.from(arguments),U=[],ae=[];function be(ne){U.push(ne)}function le(ne){ae.push(ne)}Gn(h,{args:oe,name:Z[Rr],store:P,after:be,onError:le});let he;try{he=j.apply(this&&this.$id===e?this:P,oe)}catch(ne){throw Gn(ae,ne),ne}return he instanceof Promise?he.then(ne=>(Gn(U,ne),ne)).catch(ne=>(Gn(ae,ne),Promise.reject(ne))):(Gn(U,he),he)};return Z[dc]=!0,Z[Rr]=$,Z},M={_p:s,$id:e,$onAction:uc.bind(null,h),$patch:b,$reset:y,$subscribe(j,$={}){const Z=uc(d,j,$.detached,()=>oe()),oe=r.run(()=>Ve(()=>s.state.value[e],U=>{($.flush==="sync"?u:c)&&j({storeId:e,type:ci.direct,events:f},U)},bn({},a,$)));return Z},$dispose:S},P=Vt(M);s._s.set(e,P);const z=(s._a&&s._a.runWithContext||Ig)(()=>s._e.run(()=>(r=yu()).run(()=>t({action:E}))));for(const j in z){const $=z[j];if(Pe($)&&!jg($)||Cn($))o||(p&&zg($)&&(Pe($)?$.value=p[j]:oa($,p[j])),s.state.value[e][j]=$);else if(typeof $=="function"){const Z=E($,j);z[j]=Z,l.actions[j]=$}}return bn(P,z),bn(de(P),z),Object.defineProperty(P,"$state",{get:()=>s.state.value[e],set:j=>{b($=>{bn($,j)})}}),s._p.forEach(j=>{bn(P,r.run(()=>j({store:P,app:s._a,pinia:s,options:l})))}),p&&o&&n.hydrate&&n.hydrate(P.$state,p),c=!0,u=!0,P}/*! #__NO_SIDE_EFFECTS__ */function Li(e,t,n){let s;const i=typeof t=="function";s=i?n:t;function o(r,l){const a=hm();return r=r||(a?$e(Hd,null):null),r&&Go(r),r=Nd,r._s.has(e)||(i?Wd(e,t,s,r):Bg(e,s,r)),r._s.get(e)}return o.$id=e,o}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ss=typeof document<"u";function Vd(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ng(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Vd(e.default)}const we=Object.assign;function Or(e,t){const n={};for(const s in t){const i=t[s];n[s]=Tt(i)?i.map(e):e(i)}return n}const ui=()=>{},Tt=Array.isArray,Ud=/#/g,Hg=/&/g,Fg=/\//g,Wg=/=/g,Vg=/\?/g,Yd=/\+/g,Ug=/%5B/g,Yg=/%5D/g,Xd=/%5E/g,Xg=/%60/g,Kd=/%7B/g,Kg=/%7C/g,qd=/%7D/g,qg=/%20/g;function Ga(e){return encodeURI(""+e).replace(Kg,"|").replace(Ug,"[").replace(Yg,"]")}function Gg(e){return Ga(e).replace(Kd,"{").replace(qd,"}").replace(Xd,"^")}function ra(e){return Ga(e).replace(Yd,"%2B").replace(qg,"+").replace(Ud,"%23").replace(Hg,"%26").replace(Xg,"`").replace(Kd,"{").replace(qd,"}").replace(Xd,"^")}function Jg(e){return ra(e).replace(Wg,"%3D")}function Zg(e){return Ga(e).replace(Ud,"%23").replace(Vg,"%3F")}function Qg(e){return e==null?"":Zg(e).replace(Fg,"%2F")}function Si(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const ev=/\/$/,tv=e=>e.replace(ev,"");function Pr(e,t,n="/"){let s,i={},o="",r="";const l=t.indexOf("#");let a=t.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(s=t.slice(0,a),o=t.slice(a+1,l>-1?l:t.length),i=e(o)),l>-1&&(s=s||t.slice(0,l),r=t.slice(l,t.length)),s=ov(s??t,n),{fullPath:s+(o&&"?")+o+r,path:s,query:i,hash:Si(r)}}function nv(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function hc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function sv(e,t,n){const s=t.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&fs(t.matched[s],n.matched[i])&&Gd(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function fs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Gd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!iv(e[n],t[n]))return!1;return!0}function iv(e,t){return Tt(e)?fc(e,t):Tt(t)?fc(t,e):e===t}function fc(e,t){return Tt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function ov(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let o=n.length-1,r,l;for(r=0;r<s.length;r++)if(l=s[r],l!==".")if(l==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(r).join("/")}const pn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var xi;(function(e){e.pop="pop",e.push="push"})(xi||(xi={}));var di;(function(e){e.back="back",e.forward="forward",e.unknown=""})(di||(di={}));function rv(e){if(!e)if(ss){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),tv(e)}const av=/^[^#]+#/;function lv(e,t){return e.replace(av,"#")+t}function cv(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Jo=()=>({left:window.scrollX,top:window.scrollY});function uv(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=cv(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function pc(e,t){return(history.state?history.state.position-t:-1)+e}const aa=new Map;function dv(e,t){aa.set(e,t)}function hv(e){const t=aa.get(e);return aa.delete(e),t}let fv=()=>location.protocol+"//"+location.host;function Jd(e,t){const{pathname:n,search:s,hash:i}=t,o=e.indexOf("#");if(o>-1){let l=i.includes(e.slice(o))?e.slice(o).length:1,a=i.slice(l);return a[0]!=="/"&&(a="/"+a),hc(a,"")}return hc(n,e)+s+i}function pv(e,t,n,s){let i=[],o=[],r=null;const l=({state:h})=>{const f=Jd(e,location),p=n.value,m=t.value;let b=0;if(h){if(n.value=f,t.value=h,r&&r===p){r=null;return}b=m?h.position-m.position:0}else s(f);i.forEach(y=>{y(n.value,p,{delta:b,type:xi.pop,direction:b?b>0?di.forward:di.back:di.unknown})})};function a(){r=n.value}function c(h){i.push(h);const f=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return o.push(f),f}function u(){const{history:h}=window;h.state&&h.replaceState(we({},h.state,{scroll:Jo()}),"")}function d(){for(const h of o)h();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:a,listen:c,destroy:d}}function mc(e,t,n,s=!1,i=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:i?Jo():null}}function mv(e){const{history:t,location:n}=window,s={value:Jd(e,n)},i={value:t.state};i.value||o(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(a,c,u){const d=e.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+a:fv()+e+a;try{t[u?"replaceState":"pushState"](c,"",h),i.value=c}catch(f){console.error(f),n[u?"replace":"assign"](h)}}function r(a,c){const u=we({},t.state,mc(i.value.back,a,i.value.forward,!0),c,{position:i.value.position});o(a,u,!0),s.value=a}function l(a,c){const u=we({},i.value,t.state,{forward:a,scroll:Jo()});o(u.current,u,!0);const d=we({},mc(s.value,a,null),{position:u.position+1},c);o(a,d,!1),s.value=a}return{location:s,state:i,push:l,replace:r}}function $E(e){e=rv(e);const t=mv(e),n=pv(e,t.state,t.location,t.replace);function s(o,r=!0){r||n.pauseListeners(),history.go(o)}const i=we({location:"",base:e,go:s,createHref:lv.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function gv(e){return typeof e=="string"||e&&typeof e=="object"}function Zd(e){return typeof e=="string"||typeof e=="symbol"}const Qd=Symbol("");var gc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(gc||(gc={}));function ps(e,t){return we(new Error,{type:e,[Qd]:!0},t)}function qt(e,t){return e instanceof Error&&Qd in e&&(t==null||!!(e.type&t))}const vc="[^/]+?",vv={sensitive:!1,strict:!1,start:!0,end:!0},bv=/[.+*?^${}()[\]/\\]/g;function yv(e,t){const n=we({},vv,t),s=[];let i=n.start?"^":"";const o=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(bv,"\\$&"),f+=40;else if(h.type===1){const{value:p,repeatable:m,optional:b,regexp:y}=h;o.push({name:p,repeatable:m,optional:b});const S=y||vc;if(S!==vc){f+=10;try{new RegExp(`(${S})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${p}" (${S}): `+M.message)}}let E=m?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;d||(E=b&&c.length<2?`(?:/${E})`:"/"+E),b&&(E+="?"),i+=E,f+=20,b&&(f+=-8),m&&(f+=-20),S===".*"&&(f+=-50)}u.push(f)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const r=new RegExp(i,n.sensitive?"":"i");function l(c){const u=c.match(r),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",p=o[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function a(c){let u="",d=!1;for(const h of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===0)u+=f.value;else if(f.type===1){const{value:p,repeatable:m,optional:b}=f,y=p in c?c[p]:"";if(Tt(y)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const S=Tt(y)?y.join("/"):y;if(!S)if(b)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=S}}return u||"/"}return{re:r,score:s,keys:o,parse:l,stringify:a}}function wv(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function eh(e,t){let n=0;const s=e.score,i=t.score;for(;n<s.length&&n<i.length;){const o=wv(s[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-s.length)===1){if(bc(s))return 1;if(bc(i))return-1}return i.length-s.length}function bc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const _v={type:0,value:""},Sv=/[a-zA-Z0-9_]/;function xv(e){if(!e)return[[]];if(e==="/")return[[_v]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=0,s=n;const i=[];let o;function r(){o&&i.push(o),o=[]}let l=0,a,c="",u="";function d(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),c="")}function h(){c+=a}for(;l<e.length;){if(a=e[l++],a==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:a==="/"?(c&&d(),r()):a===":"?(d(),n=1):h();break;case 4:h(),n=s;break;case 1:a==="("?n=2:Sv.test(a)?h():(d(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:d(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),d(),r(),i}function Ev(e,t,n){const s=yv(xv(e.path),n),i=we(s,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Cv(e,t){const n=[],s=new Map;t=Sc({strict:!1,end:!0,sensitive:!1},t);function i(d){return s.get(d)}function o(d,h,f){const p=!f,m=wc(d);m.aliasOf=f&&f.record;const b=Sc(t,d),y=[m];if("alias"in d){const M=typeof d.alias=="string"?[d.alias]:d.alias;for(const P of M)y.push(wc(we({},m,{components:f?f.record.components:m.components,path:P,aliasOf:f?f.record:m})))}let S,E;for(const M of y){const{path:P}=M;if(h&&P[0]!=="/"){const H=h.record.path,z=H[H.length-1]==="/"?"":"/";M.path=h.record.path+(P&&z+P)}if(S=Ev(M,h,b),f?f.alias.push(S):(E=E||S,E!==S&&E.alias.push(S),p&&d.name&&!_c(S)&&r(d.name)),th(S)&&a(S),m.children){const H=m.children;for(let z=0;z<H.length;z++)o(H[z],S,f&&f.children[z])}f=f||S}return E?()=>{r(E)}:ui}function r(d){if(Zd(d)){const h=s.get(d);h&&(s.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(r),h.alias.forEach(r))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&s.delete(d.record.name),d.children.forEach(r),d.alias.forEach(r))}}function l(){return n}function a(d){const h=Tv(d,n);n.splice(h,0,d),d.record.name&&!_c(d)&&s.set(d.record.name,d)}function c(d,h){let f,p={},m,b;if("name"in d&&d.name){if(f=s.get(d.name),!f)throw ps(1,{location:d});b=f.record.name,p=we(yc(h.params,f.keys.filter(E=>!E.optional).concat(f.parent?f.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),d.params&&yc(d.params,f.keys.map(E=>E.name))),m=f.stringify(p)}else if(d.path!=null)m=d.path,f=n.find(E=>E.re.test(m)),f&&(p=f.parse(m),b=f.record.name);else{if(f=h.name?s.get(h.name):n.find(E=>E.re.test(h.path)),!f)throw ps(1,{location:d,currentLocation:h});b=f.record.name,p=we({},h.params,d.params),m=f.stringify(p)}const y=[];let S=f;for(;S;)y.unshift(S.record),S=S.parent;return{name:b,path:m,params:p,matched:y,meta:Av(y)}}e.forEach(d=>o(d));function u(){n.length=0,s.clear()}return{addRoute:o,resolve:c,removeRoute:r,clearRoutes:u,getRoutes:l,getRecordMatcher:i}}function yc(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function wc(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Mv(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Mv(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function _c(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Av(e){return e.reduce((t,n)=>we(t,n.meta),{})}function Sc(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Tv(e,t){let n=0,s=t.length;for(;n!==s;){const o=n+s>>1;eh(e,t[o])<0?s=o:n=o+1}const i=kv(e);return i&&(s=t.lastIndexOf(i,s-1)),s}function kv(e){let t=e;for(;t=t.parent;)if(th(t)&&eh(e,t)===0)return t}function th({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Rv(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<s.length;++i){const o=s[i].replace(Yd," "),r=o.indexOf("="),l=Si(r<0?o:o.slice(0,r)),a=r<0?null:Si(o.slice(r+1));if(l in t){let c=t[l];Tt(c)||(c=t[l]=[c]),c.push(a)}else t[l]=a}return t}function xc(e){let t="";for(let n in e){const s=e[n];if(n=Jg(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Tt(s)?s.map(o=>o&&ra(o)):[s&&ra(s)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function Ov(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Tt(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return t}const nh=Symbol(""),Ec=Symbol(""),Zo=Symbol(""),sh=Symbol(""),la=Symbol("");function Ts(){let e=[];function t(s){return e.push(s),()=>{const i=e.indexOf(s);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Pv(e,t,n){const s=()=>{e[t].delete(n)};cn(s),id(s),sd(()=>{e[t].add(n)}),e[t].add(n)}function $v(e){const t=$e(nh,{}).value;t&&Pv(t,"leaveGuards",e)}function Sn(e,t,n,s,i,o=r=>r()){const r=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((l,a)=>{const c=h=>{h===!1?a(ps(4,{from:n,to:t})):h instanceof Error?a(h):gv(h)?a(ps(2,{from:t,to:h})):(r&&s.enterCallbacks[i]===r&&typeof h=="function"&&r.push(h),l())},u=o(()=>e.call(s&&s.instances[i],t,n,c));let d=Promise.resolve(u);e.length<3&&(d=d.then(c)),d.catch(h=>a(h))})}function $r(e,t,n,s,i=o=>o()){const o=[];for(const r of e)for(const l in r.components){let a=r.components[l];if(!(t!=="beforeRouteEnter"&&!r.instances[l]))if(Vd(a)){const u=(a.__vccOpts||a)[t];u&&o.push(Sn(u,n,s,r,l,i))}else{let c=a();o.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${r.path}"`);const d=Ng(u)?u.default:u;r.mods[l]=u,r.components[l]=d;const f=(d.__vccOpts||d)[t];return f&&Sn(f,n,s,r,l,i)()}))}}return o}function Cc(e){const t=$e(Zo),n=$e(sh),s=I(()=>{const a=B(e.to);return t.resolve(a)}),i=I(()=>{const{matched:a}=s.value,{length:c}=a,u=a[c-1],d=n.matched;if(!u||!d.length)return-1;const h=d.findIndex(fs.bind(null,u));if(h>-1)return h;const f=Mc(a[c-2]);return c>1&&Mc(u)===f&&d[d.length-1].path!==f?d.findIndex(fs.bind(null,a[c-2])):h}),o=I(()=>i.value>-1&&zv(n.params,s.value.params)),r=I(()=>i.value>-1&&i.value===n.matched.length-1&&Gd(n.params,s.value.params));function l(a={}){if(Dv(a)){const c=t[B(e.replace)?"replace":"push"](B(e.to)).catch(ui);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:I(()=>s.value.href),isActive:o,isExactActive:r,navigate:l}}function Lv(e){return e.length===1?e[0]:e}const Iv=Ha({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Cc,setup(e,{slots:t}){const n=Vt(Cc(e)),{options:s}=$e(Zo),i=I(()=>({[Ac(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Ac(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&Lv(t.default(n));return e.custom?o:qo("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),ih=Iv;function Dv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function zv(e,t){for(const n in t){const s=t[n],i=e[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Tt(i)||i.length!==s.length||s.some((o,r)=>o!==i[r]))return!1}return!0}function Mc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ac=(e,t,n)=>e??t??n,jv=Ha({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=$e(la),i=I(()=>e.route||s.value),o=$e(Ec,0),r=I(()=>{let c=B(o);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),l=I(()=>i.value.matched[r.value]);uo(Ec,I(()=>r.value+1)),uo(nh,l),uo(la,i);const a=F();return Ve(()=>[a.value,l.value,e.name],([c,u,d],[h,f,p])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!fs(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=e.name,d=l.value,h=d&&d.components[u];if(!h)return Tc(n.default,{Component:h,route:c});const f=d.props[u],p=f?f===!0?c.params:typeof f=="function"?f(c):f:null,b=qo(h,we({},p,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[u]=null)},ref:a}));return Tc(n.default,{Component:b,route:c})||b}}});function Tc(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const oh=jv;function LE(e){const t=Cv(e.routes,e),n=e.parseQuery||Rv,s=e.stringifyQuery||xc,i=e.history,o=Ts(),r=Ts(),l=Ts(),a=zu(pn);let c=pn;ss&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Or.bind(null,k=>""+k),d=Or.bind(null,Qg),h=Or.bind(null,Si);function f(k,X){let W,J;return Zd(k)?(W=t.getRecordMatcher(k),J=X):J=k,t.addRoute(J,W)}function p(k){const X=t.getRecordMatcher(k);X&&t.removeRoute(X)}function m(){return t.getRoutes().map(k=>k.record)}function b(k){return!!t.getRecordMatcher(k)}function y(k,X){if(X=we({},X||a.value),typeof k=="string"){const w=Pr(n,k,X.path),R=t.resolve({path:w.path},X),L=i.createHref(w.fullPath);return we(w,R,{params:h(R.params),hash:Si(w.hash),redirectedFrom:void 0,href:L})}let W;if(k.path!=null)W=we({},k,{path:Pr(n,k.path,X.path).path});else{const w=we({},k.params);for(const R in w)w[R]==null&&delete w[R];W=we({},k,{params:d(w)}),X.params=d(X.params)}const J=t.resolve(W,X),Se=k.hash||"";J.params=u(h(J.params));const g=nv(s,we({},k,{hash:Gg(Se),path:J.path})),v=i.createHref(g);return we({fullPath:g,hash:Se,query:s===xc?Ov(k.query):k.query||{}},J,{redirectedFrom:void 0,href:v})}function S(k){return typeof k=="string"?Pr(n,k,a.value.path):we({},k)}function E(k,X){if(c!==k)return ps(8,{from:X,to:k})}function M(k){return z(k)}function P(k){return M(we(S(k),{replace:!0}))}function H(k){const X=k.matched[k.matched.length-1];if(X&&X.redirect){const{redirect:W}=X;let J=typeof W=="function"?W(k):W;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=S(J):{path:J},J.params={}),we({query:k.query,hash:k.hash,params:J.path!=null?{}:k.params},J)}}function z(k,X){const W=c=y(k),J=a.value,Se=k.state,g=k.force,v=k.replace===!0,w=H(W);if(w)return z(we(S(w),{state:typeof w=="object"?we({},Se,w.state):Se,force:g,replace:v}),X||W);const R=W;R.redirectedFrom=X;let L;return!g&&sv(s,J,W)&&(L=ps(16,{to:R,from:J}),Ne(J,J,!0,!1)),(L?Promise.resolve(L):Z(R,J)).catch(O=>qt(O)?qt(O,2)?O:nt(O):ce(O,R,J)).then(O=>{if(O){if(qt(O,2))return z(we({replace:v},S(O.to),{state:typeof O.to=="object"?we({},Se,O.to.state):Se,force:g}),X||R)}else O=U(R,J,!0,v,Se);return oe(R,J,O),O})}function j(k,X){const W=E(k,X);return W?Promise.reject(W):Promise.resolve()}function $(k){const X=hn.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(k):k()}function Z(k,X){let W;const[J,Se,g]=Bv(k,X);W=$r(J.reverse(),"beforeRouteLeave",k,X);for(const w of J)w.leaveGuards.forEach(R=>{W.push(Sn(R,k,X))});const v=j.bind(null,k,X);return W.push(v),st(W).then(()=>{W=[];for(const w of o.list())W.push(Sn(w,k,X));return W.push(v),st(W)}).then(()=>{W=$r(Se,"beforeRouteUpdate",k,X);for(const w of Se)w.updateGuards.forEach(R=>{W.push(Sn(R,k,X))});return W.push(v),st(W)}).then(()=>{W=[];for(const w of g)if(w.beforeEnter)if(Tt(w.beforeEnter))for(const R of w.beforeEnter)W.push(Sn(R,k,X));else W.push(Sn(w.beforeEnter,k,X));return W.push(v),st(W)}).then(()=>(k.matched.forEach(w=>w.enterCallbacks={}),W=$r(g,"beforeRouteEnter",k,X,$),W.push(v),st(W))).then(()=>{W=[];for(const w of r.list())W.push(Sn(w,k,X));return W.push(v),st(W)}).catch(w=>qt(w,8)?w:Promise.reject(w))}function oe(k,X,W){l.list().forEach(J=>$(()=>J(k,X,W)))}function U(k,X,W,J,Se){const g=E(k,X);if(g)return g;const v=X===pn,w=ss?history.state:{};W&&(J||v?i.replace(k.fullPath,we({scroll:v&&w&&w.scroll},Se)):i.push(k.fullPath,Se)),a.value=k,Ne(k,X,W,v),nt()}let ae;function be(){ae||(ae=i.listen((k,X,W)=>{if(!Kn.listening)return;const J=y(k),Se=H(J);if(Se){z(we(Se,{replace:!0,force:!0}),J).catch(ui);return}c=J;const g=a.value;ss&&dv(pc(g.fullPath,W.delta),Jo()),Z(J,g).catch(v=>qt(v,12)?v:qt(v,2)?(z(we(S(v.to),{force:!0}),J).then(w=>{qt(w,20)&&!W.delta&&W.type===xi.pop&&i.go(-1,!1)}).catch(ui),Promise.reject()):(W.delta&&i.go(-W.delta,!1),ce(v,J,g))).then(v=>{v=v||U(J,g,!1),v&&(W.delta&&!qt(v,8)?i.go(-W.delta,!1):W.type===xi.pop&&qt(v,20)&&i.go(-1,!1)),oe(J,g,v)}).catch(ui)}))}let le=Ts(),he=Ts(),ne;function ce(k,X,W){nt(k);const J=he.list();return J.length?J.forEach(Se=>Se(k,X,W)):console.error(k),Promise.reject(k)}function Je(){return ne&&a.value!==pn?Promise.resolve():new Promise((k,X)=>{le.add([k,X])})}function nt(k){return ne||(ne=!k,be(),le.list().forEach(([X,W])=>k?W(k):X()),le.reset()),k}function Ne(k,X,W,J){const{scrollBehavior:Se}=e;if(!ss||!Se)return Promise.resolve();const g=!W&&hv(pc(k.fullPath,0))||(J||!W)&&history.state&&history.state.scroll||null;return on().then(()=>Se(k,X,g)).then(v=>v&&uv(v)).catch(v=>ce(v,k,X))}const Xe=k=>i.go(k);let dn;const hn=new Set,Kn={currentRoute:a,listening:!0,addRoute:f,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:b,getRoutes:m,resolve:y,options:e,push:M,replace:P,go:Xe,back:()=>Xe(-1),forward:()=>Xe(1),beforeEach:o.add,beforeResolve:r.add,afterEach:l.add,onError:he.add,isReady:Je,install(k){const X=this;k.component("RouterLink",ih),k.component("RouterView",oh),k.config.globalProperties.$router=X,Object.defineProperty(k.config.globalProperties,"$route",{enumerable:!0,get:()=>B(a)}),ss&&!dn&&a.value===pn&&(dn=!0,M(i.location).catch(Se=>{}));const W={};for(const Se in pn)Object.defineProperty(W,Se,{get:()=>a.value[Se],enumerable:!0});k.provide(Zo,X),k.provide(sh,Iu(W)),k.provide(la,a);const J=k.unmount;hn.add(k),k.unmount=function(){hn.delete(k),hn.size<1&&(c=pn,ae&&ae(),ae=null,a.value=pn,dn=!1,ne=!1),J()}}};function st(k){return k.reduce((X,W)=>X.then(()=>$(W)),Promise.resolve())}return Kn}function Bv(e,t){const n=[],s=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let r=0;r<o;r++){const l=t.matched[r];l&&(e.matched.find(c=>fs(c,l))?s.push(l):n.push(l));const a=e.matched[r];a&&(t.matched.find(c=>fs(c,a))||i.push(a))}return[n,s,i]}function Qo(){return $e(Zo)}const er=Li("toasts",()=>{const e=Vt([]),t=({type:r,message:l,duration:a})=>{const c=Date.now()+Math.random();r=r||"info",a=a||3,a=a*1e3,e.push({id:c,type:r,message:l}),setTimeout(()=>o(c),a)},n=(r,l,a)=>{l&&l.length&&(r=`<b>${r}:</b><br /> - ${l.join("<br /> - ")}`),t({type:"alert",message:r,duration:a})},s=(r,l)=>t({type:"info",message:r,duration:l}),i=(r,l)=>t({type:"success",message:r,duration:l}),o=r=>{const l=e.findIndex(a=>a.id===r);l!==-1&&e.splice(l,1)};return{toasts:e,alert:n,info:s,success:i,add:t,remove:o}}),Ii=Li("user",()=>{const{storage:e}=$e("utils"),{userService:t}=$e("services"),n=er(),s=F(null),i=F({}),o=F(null),r=I(()=>!!s.value),l=I(()=>!!i.value.is_verified),a=I(()=>i.value.avatar?"https://api.wooj.ru/"+i.value.avatar:null);function c(){s.value=e.get("token",null),o.value=e.get("resendTimer",null),t.setToken(s.value)}async function u(){try{i.value=await t.check()}catch{s.value=null,i.value={},e.clear()}}async function d({email:S,password:E}){try{const M=await t.register(S,E);s.value=M.token,i.value=M.user,e.set("token",M.token)}catch({message:M,errors:P}){n.alert(M,P,5)}}async function h({email:S,password:E}){try{const M=await t.login(S,E);s.value=M.token,i.value=M.user,e.set("token",M.token)}catch({message:M,errors:P}){n.alert(M)}}async function f(){try{await t.logout(),s.value=null,i.value={},e.clear()}catch(S){n.alert(S)}}async function p(S){try{i.value=await t.changeAvatar(S),n.success("Успешно поменяли аватар")}catch(E){n.alert(E)}}async function m(S){try{i.value=await t.update(S),n.success("Данные сохранены")}catch(E){n.alert(E)}}async function b(){o.value=e.set("resendTimer",60),y();try{await t.resend(),n.success(`Сообщение отправлено повторно на <b>${i.email}</b>`)}catch(S){n.alert(S)}}function y(){if(!o.value)return;let S=null;S=setInterval(()=>{if(o.value<=0){o.value=e.remove("resendTimer"),clearInterval(S);return}o.value=e.set("resendTimer",--o.value)},1e3)}return c(),{token:s,user:i,resendTimer:o,avatar:a,isLogged:r,isVerified:l,check:u,register:d,login:h,logout:f,changeAvatar:p,update:m,resend:b,startResendTimer:y}}),tr=Li("woojs",()=>{const{woojService:e,topicService:t}=$e("services"),n=er(),s="all",i="pinned",o="public",r="custom",l=F([]),a=F([]),c=F({}),u=F({}),d=I(()=>l.value.find(_=>_.type===s)),h=I(()=>l.value.find(_=>_.type===i)),f=I(()=>l.value.find(_=>_.type===o)),p=I(()=>l.value.filter(_=>_.type===r)),m=I(()=>{const _=C=>c.value[C.id]!==void 0?c.value[C.id]:C.is_pinned,A=C=>u.value[C.id]!==void 0?u.value[C.id]:C.is_deleted;return a.value.map(C=>(C.is_pinned=_(C),C.is_deleted=A(C),C))}),b=I(()=>m.value.filter(_=>!_.is_deleted)),y=I(()=>b.value.reduce((_,A)=>(_[A.id]=A,_),{})),S=I(()=>l.value.reduce((_,A)=>{const C=[];for(const G of A.wooj_positions)y.value[G]&&C.push(y.value[G]);return _[A.id]=C,_},{})),E=F(null),M=F(null),P=I(()=>l.value.find(({id:_})=>_===E.value)),H=I(()=>y.value[M.value]),z=I(()=>S.value[E.value]||[]),j=I(()=>{var _;return S.value[(_=d.value)==null?void 0:_.id]||[]}),$=I(()=>{var A;return(S.value[(A=h.value)==null?void 0:A.id]||[]).filter(C=>C.is_pinned)}),Z=I(()=>{var _;return S.value[(_=f.value)==null?void 0:_.id]||[]}),oe=I(()=>m.value.filter(_=>_.is_deleted)),U=I(()=>{var _;return!!((_=P.value)!=null&&_.id)}),ae=I(()=>{var _;return!!((_=H.value)!=null&&_.id)}),be=F(!1),le=F(!1),he=F(!1),ne=F(!1),ce=F(!1),Je=F(!1),nt=F(!1);async function Ne(){he.value=!1;try{const _=await Promise.all([t.getAll(),e.getAll()]);l.value=_[0],a.value=_[1]}catch(_){n.alert(_)}be.value=!1,he.value=!0,le.value=!0}async function Xe(_){_=_||{},ne.value=!0,le.value=!1;let A=null;try{A=await t.create(_),n.success("Вы создали новый топик 🙌🔥"),await Ne()}catch(C){n.alert(C)}return le.value=!0,ne.value=!1,A}const dn=async(_,A)=>{A=A||{},Je.value=!0,le.value=!1;let C=null;try{C=await t.update(_,A),n.info("Топик обновлен"),await Ne()}catch(G){n.alert(G)}return le.value=!0,Je.value=!1,C},hn=async _=>{Je.value=!0,le.value=!1;let A=null;try{A=await t.delete(_),n.info("Топик удален"),await Ne()}catch(C){n.alert(C)}return le.value=!0,Je.value=!1,A},Kn=async _=>{_=_||{},ce.value=!0;let A=null;try{A=await e.create(_),n.success("Вы создали новый вуууудж 🤠👍"),await Ne()}catch(C){n.alert(C)}return ce.value=!1,A},st=async(_,A)=>{A=A||{},nt.value=!0;let C=null;try{C=await e.update(_,A),be.value=!0}catch(G){n.alert(G)}return nt.value=!1,C},k=async(_,A)=>{nt.value=!0;let C=null;try{C=await e.setTopics(_,A),be.value=!0}catch(G){n.alert(G)}return nt.value=!1,C};function X(_){E.value=Number(_)}function W(_){M.value=Number(_)}function J(){X(null)}function Se(){W(null)}const g=async _=>{c.value[_.id]=!0;try{await e.pin(_.id)}catch(A){n.alert(A)}be.value=!0},v=async _=>{c.value[_.id]=!1;try{await e.unpin(_.id)}catch(A){n.alert(A)}be.value=!0};return{topics:l,woojs:a,topicAll:d,topicPinned:h,topicPublished:f,customTopics:p,activeTopicId:E,activeWoojId:M,activeTopic:P,activeWooj:H,activeWoojs:z,allWoojs:j,pinnedWoojs:$,publishedWoojs:Z,removedWoojs:oe,hasActiveTopic:U,hasActiveWooj:ae,isNeedUpdate:be,isLoadedTopics:le,isLoaded:he,isCreatingTopic:ne,isCreatingWooj:ce,isUpdatingTopic:Je,isUpdatingWooj:nt,fetchAll:Ne,activateTopic:X,activateWooj:W,deactivateTopic:J,deactivateWooj:Se,createTopic:Xe,updateTopic:dn,deleteTopic:hn,createWooj:Kn,updateWooj:st,setWoojTopics:k,pin:g,unpin:v,togglePin:_=>_.is_pinned?v(_):g(_),remove:async _=>{u.value[_.id]=!0;try{await e.delete(_.id),n.info("Вудж отправлен в корзину")}catch(A){n.alert(A)}},restore:async _=>{u.value[_.id]=!1;try{await e.restore(_.id),n.info("Вудж восстановлен из корзины")}catch(A){n.alert(A)}},clearTrash:async()=>{try{await e.clearTrash(),n.success("Корзины очищена 💩✨"),await Ne()}catch(_){n.alert(_)}},sort:async(_,A)=>{try{await t.sort(_,A)}catch(C){n.alert(C)}be.value=!0}}}),ve=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n},Nv={},Hv={class:"layout-guard"},Fv={class:"layout-guard__center"},Wv={class:"layout-guard__content"};function Vv(e,t){return x(),N("div",Hv,[T("div",Fv,[t[0]||(t[0]=T("div",{class:"layout-guard-brand"},[T("h1",{class:"layout-guard-brand__title"},"WOOJ"),T("p",{class:"layout-guard-brand__subtitle"},"Создавай быстро простые заметки")],-1)),T("div",Wv,[D(Ka,{name:"view-transition",mode:"out-in"},{default:Ee(()=>[tt(e.$slots,"default",{},void 0,!0)]),_:3})])])])}const Uv=ve(Nv,[["render",Vv],["__scopeId","data-v-d97cf59e"]]),Rt=Li("media",()=>{const{mediaDetector:e}=$e("utils"),t=F(null),n=F(null),s=F(null),i=F(null),o=F(null),r=F(null),l=F(null),a=F(null),c=F(null),u=F(null),d=F(null),h=F(null),f=F(null),p=F(null),m=F(null),b=()=>{t.value=e.width,n.value=e.height,s.value=e.viewportWidth,i.value=e.viewportHeight,o.value=e.isXs(),r.value=e.isSm(),l.value=e.isMd(),a.value=e.isLg(),c.value=e.isXl(),u.value=e.isPortrait(),d.value=e.isLandscape(),h.value=e.isMobileScreen(),f.value=e.isTabletScreen(),p.value=e.isDesctopScreen(),m.value=e.isTouched()};return(()=>{e.onResize("global",b),e.onOrientation("global",b),b()})(),{width:t,height:n,vpWidth:s,vpHeight:i,isXs:o,isSmall:r,isMiddle:l,isLarge:a,isXl:c,isPortrait:u,isLandscape:d,isMobile:h,isTablet:f,isDesctop:p,isTouched:m}}),Di=Li("layout",()=>{const{storage:e}=$e("utils"),t=Qo(),n=Rt(),s=F(null),i=F(!1),o=F(!1),r=F(!1),l=F(null),a=I(()=>n.isSmall||n.isTouched||i.value);function c(){i.value=e.get("isAiredSidebarMode",!1),t.afterEach(()=>{n.isSmall&&(o.value=!1)})}const u=E=>{const{title:M,icon:P}=E||{};l.value={title:M,icon:P}},d=()=>{l.value=null},h=()=>o.value=!0,f=()=>o.value=!1,p=()=>r.value=!0,m=()=>r.value=!1,b=()=>{i.value=!i.value,e.set("isAiredSidebarMode",i.value)},y=()=>{o.value=!o.value},S=E=>s.value=E;return c(),{contentElement:s,isAired:a,isHoveredSidebar:o,isHoveredBars:r,statusBar:l,setStatusBar:u,unsetStatusBar:d,onOverSidebar:h,onLeaveSidebar:f,onOverBars:p,onLeaveBars:m,onToggleSidebar:b,onToggleMobileSidebar:y,setContentElement:S}}),rh=()=>{let e=null;const t=i=>{if(!e){i.preventDefault();return}i.target!=e&&!e.contains(i.target)&&i.preventDefault()};return{lockTouchMove:(i,o)=>{e=o,i.addEventListener("touchmove",t,{passive:!1})},unlockTouchMove:i=>{i.removeEventListener("touchmove",t)}}},Yv={class:"ui-tag__wrap"},Xv={key:1,class:"ui-tag__text"},Kv={__name:"Tag",props:je({type:{type:String,default:"primary"},text:{type:String,default:null},icon:{type:String,default:null},clickable:{type:Boolean,default:!1},nowrap:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=At(e,"modelValue"),n=e,s=I(()=>{const o=[n.type];return n.clickable&&o.push("clickable"),n.nowrap&&o.push("nowrap"),t.value&&o.push("checked"),o}),i=()=>{n.clickable&&(t.value=!t.value)};return(o,r)=>(x(),N("span",{class:ge(["ui-tag",s.value]),onClick:i},[T("span",Yv,[n.icon?(x(),N("i",{key:0,class:ge(["ui-tag__icon",["fa-solid",`fa-${n.icon}`]])},null,2)):Te("",!0),n.text?(x(),N("span",Xv,ye(n.text),1)):tt(o.$slots,"default",{key:2},void 0,!0)])],2))}},Ja=ve(Kv,[["__scopeId","data-v-8906964d"]]),qv={key:0,class:"ui-link__loader fa-solid fa-spinner"},Gv={__name:"Link",props:{type:{type:String,default:"primary"},active:{type:Boolean,default:!1},scalable:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const n=e,s=t,i=I(()=>{const r=[n.type];return n.loading&&r.push("loading"),n.active&&r.push("active"),n.scalable&&r.push("scalable"),r}),o=()=>!n.loading&&s("click");return(r,l)=>(x(),N("a",{class:ge(["ui-link",i.value]),onClick:o},[n.loading?(x(),N("i",qv)):tt(r.$slots,"default",{key:1},void 0,!0)],2))}},ah=ve(Gv,[["__scopeId","data-v-cb93d5b6"]]),Jv={__name:"Logo",setup(e){const t=Qo(),n=()=>t.push({name:"Debug"});return(s,i)=>(x(),K(ah,{scalable:!1,onClick:n},{default:Ee(()=>i[0]||(i[0]=[T("span",{class:"logo"},"WOOJ",-1)])),_:1,__:[0]}))}},Xn=()=>{const e=Qo(),t=tr(),n=c=>{e.push({name:"Wooj",params:{woojId:c.id}})},s=async()=>{const c=await t.createWooj();n(c)},i=async c=>{const u=await t.createTopic(c);e.push({name:"Topic",params:{topicId:u.id}})},o=async c=>{e.push({name:"Index"}),await t.deleteTopic(c)},r=c=>{Ve(()=>t.isLoaded,()=>t.isLoaded&&c())},l=()=>{$v(()=>{t.isNeedUpdate&&t.fetchAll()})},a=I(()=>{var c,u;return{all:{id:"all",title:"Все вуджи",woojs:t.allWoojs,isLoaded:t.isLoaded,sort:d=>t.sort("all",d),togglePin:t.togglePin,remove:t.remove,edit:n},pinned:{id:"pinned",title:"Закрепленные",woojs:t.pinnedWoojs,isLoaded:t.isLoaded,sort:d=>t.sort("pinned",d),togglePin:t.togglePin,remove:t.remove,edit:n},published:{id:"published",title:"Опубликованные",woojs:t.publishedWoojs,isLoaded:t.isLoaded,sort:d=>t.sort("published",d),togglePin:t.togglePin,remove:t.remove,edit:n},trash:{id:"trash",title:"Корзина",woojs:t.removedWoojs,isLoaded:t.isLoaded,restore:t.restore,clearTrash:t.clearTrash},custom:{id:`woojs-${((c=t.activeTopic)==null?void 0:c.id)||"custom"}`,title:((u=t.activeTopic)==null?void 0:u.name)||"",woojs:t.activeWoojs,isLoaded:t.isLoaded,sort:d=>{var h;return t.sort((h=t.activeTopic)==null?void 0:h.id,d)},togglePin:t.togglePin,remove:t.remove,edit:n,update:d=>{var h;return t.updateTopic((h=t.activeTopic)==null?void 0:h.id,d)},delete:()=>{var d;return o((d=t.activeTopic)==null?void 0:d.id)}}}});return{woojStore:t,onLoaded:r,setRouteListeners:l,topicParamsMap:a,createTopic:i,createWooj:s}},Zv={key:0,class:"ui-icon-link__label"},Qv={__name:"IconLink",props:{icon:String,type:{type:String,default:"primary"},label:{type:String,default:""},active:{type:Boolean,default:!1},scalable:{type:Boolean,default:!0},mirror:{type:Boolean,default:!1},rotatable:{type:Boolean,default:!1}},setup(e){const t=e,n=I(()=>{const s=["fa-solid",`fa-${t.icon}`];return t.mirror&&s.push("mirror"),t.rotatable&&s.push("rotatable"),s});return(s,i)=>(x(),K(ah,{class:"ui-icon-link",type:t.type,active:t.active,scalable:t.scalable},{default:Ee(()=>[T("i",{class:ge(["ui-icon-link__icon",n.value])},null,2),t.label?(x(),N("span",Zv,ye(t.label),1)):Te("",!0)]),_:1},8,["type","active","scalable"]))}},rt=ve(Qv,[["__scopeId","data-v-7824b61c"]]),eb={class:"header-bars"},tb={__name:"Bars",setup(e){const t=Rt(),n=Di(),{woojStore:s,createWooj:i}=Xn(),o=()=>{n.onOverBars(),n.onOverSidebar()},r=()=>i();return(l,a)=>(x(),N("div",eb,[B(t).isSmall||B(t).isTouched?(x(),K(rt,{key:0,icon:B(n).isHoveredSidebar?"chevron-left":"bars",onClick:B(n).onToggleMobileSidebar},null,8,["icon","onClick"])):(x(),K(rt,{key:1,icon:B(n).isHoveredBars?"chevron-left":"bars",mirror:B(n).isAired,onMouseover:o,onMouseleave:B(n).onLeaveBars,onClick:B(n).onToggleSidebar},null,8,["icon","mirror","onMouseleave","onClick"])),D(rt,{icon:"plus",loading:B(s).isCreatingWooj,onClick:r},null,8,["loading"])]))}},nb=()=>{const e=F(0),t=F(0),n=F(0),s=F(0),i=({clientX:o,clientY:r,pageX:l,pageY:a})=>{e.value=o,t.value=r,n.value=l,s.value=a};return St(()=>document.addEventListener("mousemove",i)),cn(()=>document.removeEventListener("mousemove",i)),{cX:e,cY:t,pX:n,pY:s}},sb={class:"ui-modal__content-header"},ib={key:0,class:"ui-modal__content-header-title"},ob={class:"ui-modal__content-body"},rb={__name:"Modal",props:je({title:{type:String,default:""},center:{type:Boolean,default:!1},class:{type:String,default:""}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=At(e,"modelValue"),n=e,{lockTouchMove:s}=rh(),{pX:i,pY:o}=nb(),r=bt("modal"),l=Vt({x:0,y:0}),a=I(()=>n.center?null:{top:`${l.y+30}px`,left:`${l.x+30}px`});Ua(()=>{t.value||(l.x=i.value,l.y=o.value)}),Ve(t,u=>u&&on(()=>s(r.value)));const c=()=>t.value=!1;return(u,d)=>t.value?(x(),K(qu,{key:0,to:"body"},[T("div",{ref_key:"modal",ref:r,class:ge(["ui-modal",n.class])},[T("div",{class:"ui-modal__background",onClick:c}),T("div",{class:"ui-modal__content",style:Rn(a.value)},[T("div",sb,[n.title?(x(),N("div",ib,ye(n.title),1)):Te("",!0),D(rt,{icon:"xmark",type:"default",onClick:c})]),T("div",ob,[tt(u.$slots,"default",{},void 0,!0)])],4)],2)])):Te("",!0)}},nr=ve(rb,[["__scopeId","data-v-00b22963"]]),ab={class:"ui-editable-block"},lb=["contenteditable","onKeydown"],cb={__name:"EditableBlock",props:je({placeholder:{type:String,default:""},min:{type:Number,default:2},max:{type:Number,default:255},locked:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{},focused:{},focusedModifiers:{}}),emits:je(["change"],["update:modelValue","update:focused"]),setup(e,{emit:t}){const n=e,s=At(e,"modelValue"),i=At(e,"focused"),o=t,r=bt("block"),l=F(!1),a=F(!s.value),c=f=>{const p=document.createRange(),m=window.getSelection();p.selectNodeContents(f),p.collapse(!1),m.removeAllRanges(),m.addRange(p)},u=f=>{const p=f.target.innerText.trim().length;p>n.max&&(f.target.innerText=f.target.innerText.substring(0,n.max),c(r.value)),a.value=!p},d=({target:f})=>{const p=f.innerText.length;if(!os.isEqual(s.value,f.innerText)){if(p<n.min||p>n.max){l.value=!0;return}s.value=f.innerText.replace(/<\/?[^>]+(>|$)/g,""),i.value=!1,o("change",s.value)}},h=()=>{i.value=!0,l.value=!1};return Ve(()=>i.value,f=>{f?(r.value.focus(),c(r.value)):r.value.blur()}),Ve(()=>s.value,f=>a.value=!f),(f,p)=>(x(),N("div",ab,[Oi(T("div",{class:"ui-editable-block__placeholder"},ye(e.placeholder),513),[[qa,a.value]]),T("div",{ref_key:"block",ref:r,class:ge(["ui-editable-block__content",{editable:!n.locked,error:l.value}]),contenteditable:!n.locked,onKeydown:Rg(_i(d,["exact","prevent"]),["enter"]),onInput:u,onFocus:h,onBlur:d},ye(s.value),43,lb)]))}},Za=ve(cb,[["__scopeId","data-v-966e012e"]]),ub={class:"ui-input"},db=["type","placeholder","maxlength","autocomplete"],hb={__name:"Input",props:je({type:{type:String,default:"text"},fieldClass:{type:String,default:""},placeholder:{type:String,default:""},autocomplete:{type:Boolean,default:!1},focused:{type:Boolean,default:!1},max:{type:Number,default:255}},{modelValue:{},modelModifiers:{}}),emits:je(["update","save"],["update:modelValue"]),setup(e,{emit:t}){const n=e,s=At(e,"modelValue"),i=t,o=bt("input"),r=$e("createDeferredTimer")(),l=()=>{i("update",s.value),r.start(1e3,()=>i("save",s.value))};return St(()=>{n.focused&&o.value.focus()}),(a,c)=>(x(),N("div",ub,[Oi(T("input",{ref_key:"input",ref:o,class:ge(["ui-input__field",n.fieldClass]),type:n.type,"onUpdate:modelValue":c[0]||(c[0]=u=>s.value=u),placeholder:n.placeholder,maxlength:n.max,autocomplete:n.autocomplete?"on":"off",onInput:l},null,42,db),[[Cg,s.value]])]))}},ca=ve(hb,[["__scopeId","data-v-d3cc2a08"]]),fb={class:"ui-password-input"},pb={class:"ui-password-input__wrap"},mb={__name:"PasswordInput",props:je({placeholder:{type:String,default:"Пароль"},autocomplete:{type:Boolean,default:!1},withChecker:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:je(["update","save"],["update:modelValue"]),setup(e,{emit:t}){const n=e,s=At(e,"modelValue"),i=F(!1),o=F(null),r=I(()=>i.value?"text":"password"),l=[{type:1,text:"Слабый",pattern:/^[a-zа-я0-9]{1,8}$/},{type:2,text:"Средний",pattern:/^.{1,8}$/},{type:2,text:"Средний",pattern:/^[a-zа-я0-9]{8,}$/},{type:3,text:"Сильный",pattern:/^[A-Za-zА-Яа-я0-9]{8,}$/},{type:3,text:"Сильный",pattern:/^.{8,}$/}],a=()=>i.value=!i.value;return Ve(()=>s.value,c=>{n.withChecker&&(o.value=l.find(({pattern:u})=>u.test(s.value)))}),(c,u)=>(x(),N("div",fb,[T("div",pb,[D(ca,{class:"ui-password-input__field",modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=d=>s.value=d),type:r.value,autocomplete:n.autocomplete,placeholder:n.placeholder},null,8,["modelValue","type","autocomplete","placeholder"]),T("i",{class:ge(["ui-password-input__icon fa-solid",{"fa-eye":!i.value,"fa-eye-slash":i.value}]),onClick:a},null,2)]),n.withChecker&&o.value?(x(),N("div",{key:0,class:ge(["ui-password-input__level",`level-${o.value.type}`])},ye(o.value.text),3)):Te("",!0)]))}},ua=ve(mb,[["__scopeId","data-v-693a7afa"]]),gb={__name:"Loader",props:{size:{type:Number,default:null}},setup(e){const t=e,n=I(()=>t.size?{width:`${t.size}px`,height:`${t.size}px`}:{});return(s,i)=>(x(),N("div",{class:"ui-loader",style:Rn(n.value)},i[0]||(i[0]=[zm('<svg class="ui-loader__figure" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-v-ead2021c><circle cx="4" cy="12" r="3" data-v-ead2021c><animate id="spinner_jObz" begin="0;spinner_vwSQ.end-0.25s" attributeName="r" dur="0.75s" values="3;.2;3" data-v-ead2021c></animate></circle><circle cx="12" cy="12" r="3" data-v-ead2021c><animate begin="spinner_jObz.end-0.6s" attributeName="r" dur="0.75s" values="3;.2;3" data-v-ead2021c></animate></circle><circle cx="20" cy="12" r="3" data-v-ead2021c><animate id="spinner_vwSQ" begin="spinner_jObz.end-0.45s" attributeName="r" dur="0.75s" values="3;.2;3" data-v-ead2021c></animate></circle></svg>',1)]),4))}},lh=ve(gb,[["__scopeId","data-v-ead2021c"]]),vb=["disabled"],bb={class:"ui-button__wrapper"},yb={__name:"Button",props:{text:{type:String},size:{type:String,default:"default"},type:{type:String,default:"primary"},icon:{type:String,default:null},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const n=e,s=t,i=I(()=>{const l=[n.type];return n.size&&l.push(`size-${n.size}`),n.loading&&l.push("loading"),n.disabled&&l.push("disabled"),l}),o=I(()=>n.disabled||n.loading),r=()=>!o.value&&s("click");return(l,a)=>(x(),N("button",{class:ge(["ui-button",i.value]),onClick:r,disabled:e.disabled},[n.loading?(x(),K(lh,{key:0,class:"ui-button__loader"})):Te("",!0),T("span",bb,[n.icon?(x(),N("i",{key:0,class:ge(["ui-button__icon",["fa-solid",`fa-${n.icon}`]])},null,2)):Te("",!0),us(" "+ye(n.text),1)])],10,vb))}},ht=ve(yb,[["__scopeId","data-v-39aed2c7"]]);function kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kc(Object(n),!0).forEach(function(s){mt(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kc(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wb(e,t){if(e==null)return{};var n,s,i=function(r,l){if(r==null)return{};var a,c,u={},d=Object.keys(r);for(c=0;c<d.length;c++)a=d[c],l.indexOf(a)>=0||(u[a]=r[a]);return u}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Un(e){return function(t){if(Array.isArray(t))return Lr(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||function(t,n){if(t){if(typeof t=="string")return Lr(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Lr(t,n)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lr(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var Rc,_b,Yi,Oe=(Rc=function(e){/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var t={}.hasOwnProperty;function n(){for(var s=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var r=typeof o;if(r==="string"||r==="number")s.push(o);else if(Array.isArray(o)){if(o.length){var l=n.apply(null,o);l&&s.push(l)}}else if(r==="object")if(o.toString===Object.prototype.toString)for(var a in o)t.call(o,a)&&o[a]&&s.push(a);else s.push(o.toString())}}return s.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()},Rc(Yi={path:_b,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(t==null&&Yi.path)}},Yi.exports),Yi.exports),xt=function(e){return function(t,n){if(!t)return e;var s;typeof t=="string"?s=t:n=t;var i=e;return s&&(i+="__"+s),i+(n?Object.keys(n).reduce(function(o,r){var l=n[r];return l&&(o+=" "+(typeof l=="boolean"?i+"--"+r:i+"--"+r+"_"+l)),o},""):"")}};function da(e,t,n){var s,i,o,r,l;function a(){var u=Date.now()-r;u<t&&u>=0?s=setTimeout(a,t-u):(s=null,n||(l=e.apply(o,i),o=i=null))}t==null&&(t=100);var c=function(){o=this,i=arguments,r=Date.now();var u=n&&!s;return s||(s=setTimeout(a,t)),u&&(l=e.apply(o,i),o=i=null),l};return c.clear=function(){s&&(clearTimeout(s),s=null)},c.flush=function(){s&&(l=e.apply(o,i),o=i=null,clearTimeout(s),s=null)},c}da.debounce=da;var ha=da,te=function(){return te=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},te.apply(this,arguments)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ch(e,t){var n,s;return e&&t?(n=""+e+t[0].toUpperCase()+t.slice(1),s=e+"-"+t):(n=e||t,s=e||t),{name:n,classname:s}}function uh(e){return/^blob:/.test(e)}function Oc(e){return uh(e)||function(t){return/^data:/.test(t)}(e)}function Jn(e){return!!(e&&e.constructor&&e.call&&e.apply)}function De(e){return e===void 0}function mo(e){return typeof e=="object"&&e!==null}function fa(e,t,n){var s={};return mo(e)?(Object.keys(t).forEach(function(i){De(e[i])?s[i]=t[i]:mo(t[i])?mo(e[i])?s[i]=fa(e[i],t[i],n[i]):s[i]=e[i]?t[i]:n[i]:t[i]===!0||t[i]===!1?s[i]=!!e[i]:s[i]=e[i]}),s):e?t:n}function Xi(e){var t=Number(e);return Number.isNaN(t)?e:t}function Pc(e){return typeof(e=="number"||function(t){return typeof t=="object"&&t!==null}(e)&&toString.call(e)=="[object Number]")&&!dh(e)}function dh(e){return e!=e}function hh(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}var hi=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.type="manipulateImage",this.move=e,this.scale=t},Sb=function(e,t){t===void 0&&(t={}),this.type="resize",this.directions=e,this.params=t},Qa=function(e){this.type="move",this.directions=e},xb=function(){function e(t,n,s,i,o){this.type="drag",this.nativeEvent=t,this.position=s,this.previousPosition=i,this.element=n,this.anchor=o}return e.prototype.shift=function(){var t=this,n=t.element,s=t.anchor,i=t.position;if(n){var o=n.getBoundingClientRect(),r=o.left,l=o.top;return{left:i.left-r-s.left,top:i.top-l-s.top}}return{left:0,top:0}},e}(),el={name:"DraggableElement",props:{classname:{type:String}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(e){e.cancelable&&!this.disabled&&e.touches.length===1&&(this.touches=Un(e.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),e.touches.length&&this.initAnchor(this.touches.reduce(function(t,n){return{clientX:t.clientX+n.clientX/e.touches.length,clientY:t.clientY+n.clientY/e.touches.length}},{clientX:0,clientY:0})),e.preventDefault&&e.preventDefault(),e.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(e){this.touches.length&&(this.processMove(e,e.touches),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())},onMouseDown:function(e){if(!this.disabled){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.draggable.getBoundingClientRect(),n=t.left,s=t.right,i=t.bottom,o=t.top;this.anchor={left:e.clientX-n,top:e.clientY-o,bottom:i-e.clientY,right:s-e.clientX}},processMove:function(e,t){var n=Un(t);if(this.touches.length){if(this.touches.length===1&&n.length===1){var s=this.$refs.draggable;this.$emit("drag",new xb(e,s,{left:n[0].clientX,top:n[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=n}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}},emits:["drag","drag-end","leave","enter"]};el.render=function(e,t,n,s,i,o){return x(),K("div",{ref:"draggable",class:n.classname,onTouchstart:t[1]||(t[1]=function(){return o.onTouchStart&&o.onTouchStart.apply(o,arguments)}),onMousedown:t[2]||(t[2]=function(){return o.onMouseDown&&o.onMouseDown.apply(o,arguments)}),onMouseover:t[3]||(t[3]=function(){return o.onMouseOver&&o.onMouseOver.apply(o,arguments)}),onMouseleave:t[4]||(t[4]=function(){return o.onMouseLeave&&o.onMouseLeave.apply(o,arguments)})},[tt(e.$slots,"default")],34)};var Ir=xt("vue-handler-wrapper"),fh={name:"HandlerWrapper",components:{DraggableElement:el},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var e;if(this.horizontalPosition||this.verticalPosition){var t,n=ch(this.horizontalPosition,this.verticalPosition);e=Ir((mt(t={},n.classname,!0),mt(t,"disabled",this.disabled),t))}else e=Ir({disabled:this.disabled});return{root:e,draggable:Ir("draggable")}}},emits:["leave","enter","drag","drag-end"]};fh.render=function(e,t,n,s,i,o){var r=yt("DraggableElement");return x(),K("div",{class:o.classes.root},[D(r,{class:o.classes.draggable,onDrag:t[1]||(t[1]=function(l){return e.$emit("drag",l)}),onDragEnd:t[2]||(t[2]=function(l){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(l){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(l){return e.$emit("enter")})},{default:Ee(function(){return[tt(e.$slots,"default")]}),_:3},8,["class"])],2)};var Eb=xt("vue-line-wrapper"),ph={name:"LineWrapper",components:{DraggableElement:el},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var e;return Eb((mt(e={},this.position,!0),mt(e,"disabled",this.disabled),e))}},emits:["leave","enter","drag","drag-end"]};ph.render=function(e,t,n,s,i,o){var r=yt("DraggableElement");return x(),K(r,{class:o.classname,onDrag:t[1]||(t[1]=function(l){return e.$emit("drag",l)}),onDragEnd:t[2]||(t[2]=function(l){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(l){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(l){return e.$emit("enter")})},{default:Ee(function(){return[tt(e.$slots,"default")]}),_:3},8,["class"])};var Ft=["left","right","top","bottom"],Cb=["left","right"],Mb=["top","bottom"],Ab=["left","top"],Tb=["fill-area","fit-area","stencil","none"],$c={left:0,top:0,width:0,height:0};function Lc(e,t,n){return!(n=n||["width","height","left","top"]).some(function(s){return e[s]!==t[s]})}function Ut(e){return{left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height}}function ms(e,t){return{left:e.left-t.left,top:e.top-t.top}}function Fe(e){return{left:e.left+e.width/2,top:e.top+e.height/2}}function Ei(e,t){var n={left:0,top:0,right:0,bottom:0};return Ft.forEach(function(s){var i=t[s],o=Ut(e)[s];n[s]=i!==void 0&&o!==void 0?s==="left"||s==="top"?Math.max(0,i-o):Math.max(0,o-i):0}),n}function Ht(e,t){return{left:e.left-t.left,top:e.top-t.top,width:e.width+t.left+t.right,height:e.height+t.top+t.bottom}}function sr(e){return{left:-e.left,top:-e.top}}function lt(e,t){return te(te({},e),{left:e.left+t.left,top:e.top+t.top})}function _t(e,t,n,s){if(t!==1){if(n){var i=Fe(e);return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2+(n.left-i.left)*(1-t),top:e.top+e.height*(1-t)/2+(n.top-i.top)*(1-t)}}return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2,top:e.top+e.height*(1-t)/2}}return e}function pe(e){return e.width/e.height}function gs(e,t){return Math.min(t.right!==void 0&&t.left!==void 0?(t.right-t.left)/e.width:1/0,t.bottom!==void 0&&t.top!==void 0?(t.bottom-t.top)/e.height:1/0)}function vs(e,t){var n={left:0,top:0},s=Ei(e,t);return s.left&&s.left>0?n.left=s.left:s.right&&s.right>0&&(n.left=-s.right),s.top&&s.top>0?n.top=s.top:s.bottom&&s.bottom>0&&(n.top=-s.bottom),n}function Dr(e,t){var n;return t.minimum&&e<t.minimum?n=t.minimum:t.maximum&&e>t.maximum&&(n=t.maximum),n}function mh(e,t){var n=pe(e),s=pe(t);return t.width<1/0&&t.height<1/0?n>s?{width:t.width,height:t.width/n}:{width:t.height*n,height:t.height}:t.width<1/0?{width:t.width,height:t.width/n}:t.height<1/0?{width:t.height*n,height:t.height}:e}function gh(e,t){var n=t*Math.PI/180;return{width:Math.abs(e.width*Math.cos(n))+Math.abs(e.height*Math.sin(n)),height:Math.abs(e.width*Math.sin(n))+Math.abs(e.height*Math.cos(n))}}function xn(e,t){var n=t*Math.PI/180;return{left:e.left*Math.cos(n)-e.top*Math.sin(n),top:e.left*Math.sin(n)+e.top*Math.cos(n)}}function ir(e,t){var n=Ei(We(e,t),t);return n.left+n.right+n.top+n.bottom?n.left+n.right>n.top+n.bottom?Math.min((e.width+n.left+n.right)/e.width,gs(e,t)):Math.min((e.height+n.top+n.bottom)/e.height,gs(e,t)):1}function We(e,t,n){n===void 0&&(n=!1);var s=vs(e,t);return lt(e,n?sr(s):s)}function pa(e){return{width:e.right!==void 0&&e.left!==void 0?e.right-e.left:1/0,height:e.bottom!==void 0&&e.top!==void 0?e.bottom-e.top:1/0}}function kb(e,t){return te(te({},e),{minWidth:Math.min(t.width,e.minWidth),minHeight:Math.min(t.height,e.minHeight),maxWidth:Math.min(t.width,e.maxWidth),maxHeight:Math.min(t.height,e.maxHeight)})}function vh(e,t,n){n===void 0&&(n=!0);var s={};return Ft.forEach(function(i){var o=e[i],r=t[i];o!==void 0&&r!==void 0?s[i]=i==="left"||i==="top"?n?Math.max(o,r):Math.min(o,r):n?Math.min(o,r):Math.max(o,r):r!==void 0?s[i]=r:o!==void 0&&(s[i]=o)}),s}function or(e,t){return vh(e,t,!0)}function Ic(e){var t=e.size,n=e.aspectRatio,s=e.ignoreMinimum,i=e.sizeRestrictions;return!!((t.correctRatio||pe(t)>=n.minimum&&pe(t)<=n.maximum)&&t.height<=i.maxHeight&&t.width<=i.maxWidth&&t.width&&t.height&&(s||t.height>=i.minHeight&&t.width>=i.minWidth))}function Dc(e,t){return Math.pow(e.width-t.width,2)+Math.pow(e.height-t.height,2)}function tn(e){var t=e.width,n=e.height,s=e.sizeRestrictions,i={minimum:e.aspectRatio&&e.aspectRatio.minimum||0,maximum:e.aspectRatio&&e.aspectRatio.maximum||1/0},o={width:Math.max(s.minWidth,Math.min(s.maxWidth,t)),height:Math.max(s.minHeight,Math.min(s.maxHeight,n))};function r(c,u){return u===void 0&&(u=!1),c.reduce(function(d,h){return Ic({size:h,aspectRatio:i,sizeRestrictions:s,ignoreMinimum:u})&&(!d||Dc(h,{width:t,height:n})<Dc(d,{width:t,height:n}))?h:d},null)}var l=[];i&&[i.minimum,i.maximum].forEach(function(c){c&&l.push({width:o.width,height:o.width/c,correctRatio:!0},{width:o.height*c,height:o.height,correctRatio:!0})}),Ic({size:o,aspectRatio:i,sizeRestrictions:s})&&l.push(o);var a=r(l)||r(l,!0);return a&&{width:a.width,height:a.height}}function ma(e){var t=e.event,n=e.coordinates,s=e.positionRestrictions,i=s===void 0?{}:s,o=lt(n,t.directions);return lt(o,vs(o,i))}function Rb(e){var t=e.coordinates,n=e.transform,s=e.imageSize,i=e.sizeRestrictions,o=e.positionRestrictions,r=e.aspectRatio,l=e.visibleArea,a=function(u,d){return ma({coordinates:u,positionRestrictions:o,event:new Qa({left:d.left-u.left,top:d.top-u.top})})},c=te({},t);return(Array.isArray(n)?n:[n]).forEach(function(u){var d={};De((d=typeof u=="function"?u({coordinates:c,imageSize:s,visibleArea:l}):u).width)&&De(d.height)||(c=function(h,f){var p=te(te(te({},h),tn({width:f.width,height:f.height,sizeRestrictions:i,aspectRatio:r})),{left:0,top:0});return a(p,{left:h.left,top:h.top})}(c,te(te({},c),d))),De(d.left)&&De(d.top)||(c=a(c,te(te({},c),d)))}),c}function Ob(e){e.event;var t=e.getAreaRestrictions,n=e.boundaries,s=e.coordinates,i=e.visibleArea;e.aspectRatio;var o=e.stencilSize,r=e.sizeRestrictions,l=e.positionRestrictions;e.stencilReference;var a,c,u,d=te({},s),h=te({},i),f=te({},o);a=pe(f),c=pe(d),u===void 0&&(u=.001),(a===0||c===0?Math.abs(c-a)<u:Math.abs(c/a)<1+u&&Math.abs(c/a)>1-u)||(d=te(te({},d),tn({sizeRestrictions:r,width:d.width,height:d.height,aspectRatio:{minimum:pe(f),maximum:pe(f)}})));var p=ir(h=_t(h,d.width*n.width/(h.width*f.width)),t({visibleArea:h,type:"resize"}));return p!==1&&(h=_t(h,p),d=_t(d,p)),h=We(h=lt(h,ms(Fe(d),Fe(h))),t({visibleArea:h,type:"move"})),{coordinates:d=We(d,or(Ut(h),l)),visibleArea:h}}function Pb(e){var t=e.event,n=e.getAreaRestrictions,s=e.boundaries,i=e.coordinates,o=e.visibleArea;e.aspectRatio,e.stencilSize,e.sizeRestrictions;var r=e.positionRestrictions;e.stencilReference;var l=te({},i),a=te({},o);if(i&&o&&t.type!=="manipulateImage"){var c={width:0,height:0};a.width,s.width,pe(s)>pe(l)?(c.height=.8*s.height,c.width=c.height*pe(l)):(c.width=.8*s.width,c.height=c.width*pe(l));var u=ir(a=_t(a,l.width*s.width/(a.width*c.width)),n({visibleArea:a,type:"resize"}));a=_t(a,u),u!==1&&(c.height/=u,c.width/=u),a=We(a=lt(a,ms(Fe(l),Fe(a))),n({visibleArea:a,type:"move"})),l=We(l,or(Ut(a),r))}return{coordinates:l,visibleArea:a}}function $b(e){var t=e.event,n=e.coordinates,s=e.visibleArea,i=e.getAreaRestrictions,o=te({},s),r=te({},n);if(t.type==="setCoordinates"){var l=Math.max(0,r.width-o.width),a=Math.max(0,r.height-o.height);l>a?o=_t(o,Math.min(r.width/o.width,gs(o,i({visibleArea:o,type:"resize"})))):a>l&&(o=_t(o,Math.min(r.height/o.height,gs(o,i({visibleArea:o,type:"resize"}))))),o=We(o=lt(o,sr(vs(r,Ut(o)))),i({visibleArea:o,type:"move"}))}return{visibleArea:o,coordinates:r}}function Lb(e){var t=e.imageSize,n=e.visibleArea,s=e.coordinates,i=n||t;return{left:(n?n.left:0)+i.width/2-s.width/2,top:(n?n.top:0)+i.height/2-s.height/2}}function Ib(e){var t=e.imageSize,n=e.visibleArea,s=e.aspectRatio,i=e.sizeRestrictions,o=n||t,r=Math.min(s.maximum||1/0,Math.max(s.minimum||0,pe(o))),l=o.width<o.height?{width:.8*o.width,height:.8*o.width/r}:{height:.8*o.height,width:.8*o.height*r};return tn(te(te({},l),{aspectRatio:s,sizeRestrictions:i}))}function Db(e){var t,n,s=e.imageSize,i=e.visibleArea,o=e.boundaries,r=e.aspectRatio,l=e.sizeRestrictions,a=e.stencilSize,c=i||s;return pe(c)>pe(o)?n=(t=a.height*c.height/o.height)*pe(a):t=(n=a.width*c.width/o.width)/pe(a),tn({width:n,height:t,aspectRatio:r,sizeRestrictions:l})}function zb(e){var t=e.getAreaRestrictions,n=e.coordinates,s=e.imageSize,i=pe(e.boundaries);if(n){var o={height:Math.max(n.height,s.height),width:Math.max(n.width,s.width)},r=mh({width:pe(o)>i?o.width:o.height*i,height:pe(o)>i?o.width/i:o.height},pa(t())),l={left:n.left+n.width/2-r.width/2,top:n.top+n.height/2-r.height/2,width:r.width,height:r.height},a=Ei(n,Ut(te({left:0,top:0},s))),c={};return!a.left&&!a.right&&l.width<=s.width&&(c.left=0,c.right=s.width),!a.top&&!a.bottom&&l.height<=s.height&&(c.top=0,c.bottom=s.height),We(l,c)}var u=pe(s);return r={height:u>i?s.height:s.width/i,width:u>i?s.height*i:s.width},{left:s.width/2-r.width/2,top:s.height/2-r.height/2,width:r.width,height:r.height}}function Ki(e,t){return vh(e,Ut(t))}function jb(e){var t=e.event,n=e.coordinates,s=e.visibleArea,i=e.sizeRestrictions,o=e.getAreaRestrictions,r=e.positionRestrictions,l=e.adjustStencil,a=t.scale,c=t.move,u=te({},s),d=te({},n),h=1,f=1,p=a.factor&&Math.abs(a.factor-1)>.001;u=lt(u,{left:c.left||0,top:c.top||0});var m={stencil:{minimum:Math.max(i.minWidth?i.minWidth/d.width:0,i.minHeight?i.minHeight/d.height:0),maximum:Math.min(i.maxWidth?i.maxWidth/d.width:1/0,i.maxHeight?i.maxHeight/d.height:1/0,gs(d,r))},area:{maximum:gs(u,o({visibleArea:u,type:"resize"}))}};a.factor&&p&&(a.factor<1?(f=Math.max(a.factor,m.stencil.minimum))>1&&(f=1):a.factor>1&&(f=Math.min(a.factor,Math.min(m.area.maximum,m.stencil.maximum)))<1&&(f=1)),f&&(u=_t(u,f,a.center));var b=n.left-s.left,y=s.width+s.left-(n.width+n.left),S=n.top-s.top,E=s.height+s.top-(n.height+n.top);return u=We(u=lt(u,vs(u,{left:r.left!==void 0?r.left-b*f:void 0,top:r.top!==void 0?r.top-S*f:void 0,bottom:r.bottom!==void 0?r.bottom+E*f:void 0,right:r.right!==void 0?r.right+y*f:void 0})),o({visibleArea:u,type:"move"})),d.width=d.width*f,d.height=d.height*f,d.left=u.left+b*f,d.top=u.top+S*f,d=We(d,or(Ut(u),r)),a.factor&&p&&l&&(a.factor>1?h=Math.min(m.area.maximum,a.factor)/f:a.factor<1&&(h=Math.max(d.height/u.height,d.width/u.width,a.factor/f)),h!==1&&(u=lt(u=We(u=_t(u,h,a.factor>1?a.center:Fe(d)),o({visibleArea:u,type:"move"})),sr(vs(d,Ut(u)))))),{coordinates:d,visibleArea:u}}function Bb(e){var t=e.aspectRatio,n=e.getAreaRestrictions,s=e.coordinates,i=e.visibleArea,o=e.sizeRestrictions,r=e.positionRestrictions,l=e.imageSize,a=e.previousImageSize,c=e.angle,u=te({},s),d=te({},i),h=xn(Fe(te({left:0,top:0},a)),c);return(u=te(te({},tn({sizeRestrictions:o,aspectRatio:t,width:u.width,height:u.height})),xn(Fe(u),c))).left-=h.left-l.width/2+u.width/2,u.top-=h.top-l.height/2+u.height/2,d=_t(d,ir(d,n({visibleArea:d,type:"resize"}))),{coordinates:u=We(u,r),visibleArea:d=We(d=lt(d,ms(Fe(u),Fe(s))),n({visibleArea:d,type:"move"}))}}function Nb(e){var t=e.flip,n=e.previousFlip,s=e.rotate,i=e.getAreaRestrictions,o=e.coordinates,r=e.visibleArea,l=e.imageSize,a=te({},o),c=te({},r),u=n.horizontal!==t.horizontal,d=n.vertical!==t.vertical;if(u||d){var h=xn({left:l.width/2,top:l.height/2},-s),f=xn(Fe(a),-s),p=xn({left:u?h.left-(f.left-h.left):f.left,top:d?h.top-(f.top-h.top):f.top},s);a=lt(a,ms(p,Fe(a))),f=xn(Fe(c),-s),c=We(c=lt(c,ms(p=xn({left:u?h.left-(f.left-h.left):f.left,top:d?h.top-(f.top-h.top):f.top},s),Fe(c))),i({visibleArea:c,type:"move"}))}return{coordinates:a,visibleArea:c}}function zc(e){var t=e.directions,n=e.coordinates,s=e.positionRestrictions,i=s===void 0?{}:s,o=e.sizeRestrictions,r=e.preserveRatio,l=e.compensate,a=te({},t),c=Ht(n,a).width,u=Ht(n,a).height;c<0&&(a.left<0&&a.right<0?(a.left=-(n.width-o.minWidth)/(a.left/a.right),a.right=-(n.width-o.minWidth)/(a.right/a.left)):a.left<0?a.left=-(n.width-o.minWidth):a.right<0&&(a.right=-(n.width-o.minWidth))),u<0&&(a.top<0&&a.bottom<0?(a.top=-(n.height-o.minHeight)/(a.top/a.bottom),a.bottom=-(n.height-o.minHeight)/(a.bottom/a.top)):a.top<0?a.top=-(n.height-o.minHeight):a.bottom<0&&(a.bottom=-(n.height-o.minHeight)));var d=Ei(Ht(n,a),i);l&&(d.left&&d.left>0&&d.right===0?(a.right+=d.left,a.left-=d.left):d.right&&d.right>0&&d.left===0&&(a.left+=d.right,a.right-=d.right),d.top&&d.top>0&&d.bottom===0?(a.bottom+=d.top,a.top-=d.top):d.bottom&&d.bottom>0&&d.top===0&&(a.top+=d.bottom,a.bottom-=d.bottom),d=Ei(Ht(n,a),i));var h={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(Ft.forEach(function(m){var b=d[m];b&&a[m]&&(h[m]=Math.max(0,1-b/a[m]))}),r){var f=Math.min.apply(null,Ft.map(function(m){return h[m]}));f!==1/0&&Ft.forEach(function(m){a[m]*=f})}else Ft.forEach(function(m){h[m]!==1/0&&(a[m]*=h[m])});if(c=Ht(n,a).width,u=Ht(n,a).height,a.right+a.left&&(c>o.maxWidth?h.width=(o.maxWidth-n.width)/(a.right+a.left):c<o.minWidth&&(h.width=(o.minWidth-n.width)/(a.right+a.left))),a.bottom+a.top&&(u>o.maxHeight?h.height=(o.maxHeight-n.height)/(a.bottom+a.top):u<o.minHeight&&(h.height=(o.minHeight-n.height)/(a.bottom+a.top))),r){var p=Math.min(h.width,h.height);p!==1/0&&Ft.forEach(function(m){a[m]*=p})}else h.width!==1/0&&Cb.forEach(function(m){a[m]*=h.width}),h.height!==1/0&&Mb.forEach(function(m){a[m]*=h.height});return a}function qi(e,t,n){return t==0&&n==0?e/2:t==0?0:n==0?e:e*Math.abs(t/(t+n))}var Hb=xt("vue-simple-handler"),Fb=xt("vue-simple-handler-wrapper"),rr={name:"SimpleHandler",components:{HandlerWrapper:fh},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var e,t=(mt(e={},this.horizontalPosition,!!this.horizontalPosition),mt(e,this.verticalPosition,!!this.verticalPosition),mt(e,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),!!(this.verticalPosition&&this.horizontalPosition)),mt(e,"hover",this.hover),e);return{default:Oe(Hb(t),this.defaultClass,this.hover&&this.hoverClass),wrapper:Oe(Fb(t),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};rr.render=function(e,t,n,s,i,o){var r=yt("HandlerWrapper");return x(),K(r,{class:o.classes.wrapper,"vertical-position":n.verticalPosition,"horizontal-position":n.horizontalPosition,disabled:n.disabled,onDrag:o.onDrag,onDragEnd:o.onDragEnd,onEnter:o.onEnter,onLeave:o.onLeave},{default:Ee(function(){return[D("div",{class:o.classes.default},null,2)]}),_:1},8,["class","vertical-position","horizontal-position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var Wb=xt("vue-simple-line"),Vb=xt("vue-simple-line-wrapper"),ar={name:"SimpleLine",components:{LineWrapper:ph},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:Oe(Wb(mt({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:Oe(Vb(mt({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};ar.render=function(e,t,n,s,i,o){var r=yt("LineWrapper");return x(),K(r,{class:o.classes.wrapper,position:n.position,disabled:n.disabled,onDrag:o.onDrag,onDragEnd:o.onDragEnd,onEnter:o.onEnter,onLeave:o.onLeave},{default:Ee(function(){return[D("div",{class:o.classes.root},null,2)]}),_:1},8,["class","position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var zr=xt("vue-bounding-box"),Ub=["east","west",null],Yb=["south","north",null],tl={name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return rr}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return ar}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var e=[];return Ub.forEach(function(t){Yb.forEach(function(n){if(t!==n){var s=ch(t,n),i=s.name,o=s.classname;e.push({name:i,classname:o,verticalDirection:n,horizontalDirection:t})}})}),{points:e}},computed:{style:function(){var e={};return this.width&&this.height&&(e.width="".concat(this.width,"px"),e.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),e},classes:function(){var e=this.handlersClasses,t=this.handlersWrappersClasses,n=this.linesClasses,s=this.linesWrappersClasses;return{root:zr(),handlers:e,handlersWrappers:t,lines:n,linesWrappers:s}},lineNodes:function(){var e=this,t=[];return this.points.forEach(function(n){n.horizontalDirection&&n.verticalDirection||!e.lines[n.name]||t.push({name:n.name,component:e.linesComponent,class:Oe(e.classes.lines.default,e.classes.lines[n.name],!e.resizable&&e.classes.lines.disabled),wrapperClass:Oe(e.classes.linesWrappers.default,e.classes.linesWrappers[n.name],!e.resizable&&e.classes.linesWrappers.disabled),hoverClass:e.classes.lines.hover,verticalDirection:n.verticalDirection,horizontalDirection:n.horizontalDirection,disabled:!e.resizable})}),t},handlerNodes:function(){var e=this,t=[],n=this.width,s=this.height;return this.points.forEach(function(i){if(e.handlers[i.name]){var o={name:i.name,component:e.handlersComponent,class:Oe(e.classes.handlers.default,e.classes.handlers[i.name]),wrapperClass:Oe(e.classes.handlersWrappers.default,e.classes.handlersWrappers[i.name]),hoverClass:e.classes.handlers.hover,verticalDirection:i.verticalDirection,horizontalDirection:i.horizontalDirection,disabled:!e.resizable};if(n&&s){var r=i.horizontalDirection,l=i.verticalDirection,a=r==="east"?n:r==="west"?0:n/2,c=l==="south"?s:l==="north"?0:s/2;o.wrapperClass=zr("handler"),o.wrapperStyle={transform:"translate(".concat(a,"px, ").concat(c,"px)")},e.transitions&&e.transitions.enabled&&(o.wrapperStyle.transition="".concat(e.transitions.time,"ms ").concat(e.transitions.timingFunction))}else o.wrapperClass=zr("handler",mt({},i.classname,!0));t.push(o)}}),t}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(e,t,n){var s,i=e.shift(),o=i.left,r=i.top,l={left:0,right:0,top:0,bottom:0};t==="west"?l.left-=o:t==="east"&&(l.right+=o),n==="north"?l.top-=r:n==="south"&&(l.bottom+=r),!n&&t?s="width":n&&!t&&(s="height"),this.resizable&&this.$emit("resize",new Sb(l,{allowedDirections:{left:t==="west"||!t,right:t==="east"||!t,bottom:n==="south"||!n,top:n==="north"||!n},preserveAspectRatio:e.nativeEvent&&e.nativeEvent.shiftKey,respectDirection:s}))}},emits:["resize","resize-end"]};tl.render=function(e,t,n,s,i,o){return x(),K("div",{ref:"box",class:o.classes.root,style:o.style},[tt(e.$slots,"default"),D("div",null,[(x(!0),K(ke,null,An(o.lineNodes,function(r){return x(),K(vi(r.component),{key:r.name,"default-class":r.class,"hover-class":r.hoverClass,"wrapper-class":r.wrapperClass,position:r.name,disabled:r.disabled,onDrag:function(l){return o.onHandlerDrag(l,r.horizontalDirection,r.verticalDirection)},onDragEnd:t[1]||(t[1]=function(l){return o.onEnd()})},null,8,["default-class","hover-class","wrapper-class","position","disabled","onDrag"])}),128))]),(x(!0),K(ke,null,An(o.handlerNodes,function(r){return x(),K("div",{key:r.name,style:r.wrapperStyle,class:r.wrapperClass},[(x(),K(vi(r.component),{"default-class":r.class,"hover-class":r.hoverClass,"wrapper-class":r.wrapperClass,"horizontal-position":r.horizontalDirection,"vertical-position":r.verticalDirection,disabled:r.disabled,onDrag:function(l){return o.onHandlerDrag(l,r.horizontalDirection,r.verticalDirection)},onDragEnd:t[2]||(t[2]=function(l){return o.onEnd()})},null,8,["default-class","hover-class","wrapper-class","horizontal-position","vertical-position","disabled","onDrag"]))],6)}),128))],6)};var Xb=xt("vue-draggable-area"),nl={name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:Xb()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(e){if(e.cancelable){var t=this.movable&&e.touches.length===1;t&&(this.touches=Un(e.touches)),(this.touchStarted||t)&&(e.preventDefault(),e.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(e){this.touches.length>=1&&(this.touchStarted?(this.processMove(e,e.touches),e.preventDefault(),e.stopPropagation()):hh({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:e.touches[0].clientX,y:e.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(e){if(this.movable&&e.button===0){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.cancelable&&e.preventDefault(),e.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.container.getBoundingClientRect(),n=t.left,s=t.top;this.anchor={x:e.clientX-n,y:e.clientY-s}},processMove:function(e,t){var n=Un(t);if(this.touches.length){var s=this.$refs.container.getBoundingClientRect(),i=s.left,o=s.top;this.touches.length===1&&n.length===1&&this.$emit("move",new Qa({left:n[0].clientX-(i+this.anchor.x),top:n[0].clientY-(o+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}},emits:["move","move-end"]};nl.render=function(e,t,n,s,i,o){return x(),K("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return o.onTouchStart&&o.onTouchStart.apply(o,arguments)}),onMousedown:t[2]||(t[2]=function(){return o.onMouseDown&&o.onMouseDown.apply(o,arguments)})},[tt(e.$slots,"default")],544)};function jr(e){var t,n;return{rotate:e.rotate||0,flip:{horizontal:((t=e==null?void 0:e.flip)===null||t===void 0?void 0:t.horizontal)||!1,vertical:((n=e==null?void 0:e.flip)===null||n===void 0?void 0:n.vertical)||!1}}}function Kb(e){return new Promise(function(t,n){try{if(e)if(/^data:/i.test(e))t(function(a){a=a.replace(/^data:([^;]+);base64,/gim,"");for(var c=atob(a),u=c.length,d=new ArrayBuffer(u),h=new Uint8Array(d),f=0;f<u;f++)h[f]=c.charCodeAt(f);return d}(e));else if(/^blob:/i.test(e)){var s=new FileReader;s.onload=function(a){t(a.target.result)},o=e,r=function(a){s.readAsArrayBuffer(a)},(l=new XMLHttpRequest).open("GET",o,!0),l.responseType="blob",l.onload=function(){this.status!=200&&this.status!==0||r(this.response)},l.send()}else{var i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState===4&&(i.status===200||i.status===0?t(i.response):n("Warning: could not load an image to parse its orientation"),i=null)},i.onprogress=function(){i.getResponseHeader("content-type")!=="image/jpeg"&&i.abort()},i.withCredentials=!1,i.open("GET",e,!0),i.responseType="arraybuffer",i.send(null)}else n("Error: the image is empty")}catch(a){n(a)}var o,r,l})}function bh(e){var t=e.rotate,n=e.flip,s=e.scaleX,i=e.scaleY,o="";return o+=" rotate("+t+"deg) ",o+=" scaleX("+s*(n.horizontal?-1:1)+") ",o+=" scaleY("+i*(n.vertical?-1:1)+") "}function qb(e){try{var t,n=new DataView(e),s=void 0,i=void 0,o=void 0,r=void 0;if(n.getUint8(0)===255&&n.getUint8(1)===216)for(var l=n.byteLength,a=2;a+1<l;){if(n.getUint8(a)===255&&n.getUint8(a+1)===225){o=a;break}a++}if(o&&(s=o+10,function(f,p,m){var b,y="";for(b=p,m+=p;b<m;b++)y+=String.fromCharCode(f.getUint8(b));return y}(n,o+4,4)==="Exif")){var c=n.getUint16(s);if(((i=c===18761)||c===19789)&&n.getUint16(s+2,i)===42){var u=n.getUint32(s+4,i);u>=8&&(r=s+u)}}if(r){for(var d=n.getUint16(r,i),h=0;h<d;h++)if(a=r+12*h+2,n.getUint16(a,i)===274){a+=8,t=n.getUint16(a,i),n.setUint16(a,1,i);break}}return t}catch{return null}}function jc(e,t){var n=t.getBoundingClientRect(),s=n.left,i=n.top,o={left:0,top:0},r=0;return e.forEach(function(l){o.left+=(l.clientX-s)/e.length,o.top+=(l.clientY-i)/e.length}),e.forEach(function(l){r+=hh({x:o.left,y:o.top},{x:l.clientX-s,y:l.clientY-i})}),{centerMass:o,spread:r,count:e.length}}var yh={props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=ha(this.processEnd),this.touches=[]},methods:{processMove:function(e,t){if(this.touches.length){if(this.touches.length===1&&t.length===1)this.$emit("move",new hi({left:this.touches[0].clientX-t[0].clientX,top:this.touches[0].clientY-t[0].clientY}));else if(this.touches.length>1&&this.touchResize){var n=jc(t,this.$refs.container),s=this.oldGeometricProperties;s.count===n.count&&s.count>1&&this.$emit("resize",new hi({left:s.centerMass.left-n.centerMass.left,top:s.centerMass.top-n.centerMass.top},{factor:s.spread/n.spread,center:n.centerMass})),this.oldGeometricProperties=n}this.touches=t}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(e){return this.eventsFilter?this.eventsFilter(e,this.transforming)!==!1:(e.preventDefault(),e.stopPropagation(),!0)},onTouchStart:function(e){if(e.cancelable&&(this.touchMove||this.touchResize&&e.touches.length>1)&&this.processEvent(e)){var t=this.$refs.container,n=t.getBoundingClientRect(),s=n.left,i=n.top,o=n.bottom,r=n.right;this.touches=Un(e.touches).filter(function(l){return l.clientX>s&&l.clientX<r&&l.clientY>i&&l.clientY<o}),this.oldGeometricProperties=jc(this.touches,t)}},onTouchEnd:function(e){e.touches.length===0&&(this.touches=[],this.processEnd())},onTouchMove:function(e){var t=this;if(this.touches.length){var n=Un(e.touches).filter(function(s){return!s.identifier||t.touches.find(function(i){return i.identifier===s.identifier})});this.processEvent(e)&&(this.processMove(e,n),this.processStart())}},onMouseDown:function(e){if(this.mouseMove&&"buttons"in e&&e.buttons===1&&this.processEvent(e)){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.processStart()}},onMouseMove:function(e){this.touches.length&&this.processEvent(e)&&this.processMove(e,[{clientX:e.clientX,clientY:e.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(e){if(this.wheelResize&&this.processEvent(e)){var t=this.$refs.container.getBoundingClientRect(),n=t.left,s=t.top,i=1+this.wheelResize.ratio*(r=e.deltaY||e.detail||e.wheelDelta,(l=+r)==0||dh(l)?l:l>0?1:-1),o={left:e.clientX-n,top:e.clientY-s};this.$emit("resize",new hi({},{factor:i,center:o})),this.touches.length||this.debouncedProcessEnd()}var r,l}},emits:["resize","move","transform-end"]};yh.render=function(e,t,n,s,i,o){return x(),K("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return o.onTouchStart&&o.onTouchStart.apply(o,arguments)}),onMousedown:t[2]||(t[2]=function(){return o.onMouseDown&&o.onMouseDown.apply(o,arguments)}),onWheel:t[3]||(t[3]=function(){return o.onWheel&&o.onWheel.apply(o,arguments)})},[tt(e.$slots,"default")],544)};var ga={components:{TransformableImage:yh},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}},emits:["resize","move"]};ga.render=function(e,t,n,s,i,o){var r=yt("transformable-image");return x(),K(r,{"touch-move":n.touchMove,"touch-resize":n.touchResize,"mouse-move":n.mouseMove,"wheel-resize":n.wheelResize,onMove:t[1]||(t[1]=function(l){return e.$emit("move",l)}),onResize:t[2]||(t[2]=function(l){return e.$emit("resize",l)})},{default:Ee(function(){return[tt(e.$slots,"default")]}),_:3},8,["touch-move","touch-resize","mouse-move","wheel-resize"])};var Gi=xt("vue-preview"),wh={props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:Gi({fill:this.fill}),wrapper:Gi("wrapper"),imageWrapper:Gi("image-wrapper"),image:Oe(Gi("image"),this.imageClass)}},style:function(){if(this.fill)return{};var e={};return this.width&&(e.width="".concat(this.size.width,"px")),this.height&&(e.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},wrapperStyle:function(){var e={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},imageStyle:function(){if(this.coordinates&&this.image){var e=this.coordinates.width/this.size.width,t=fe(fe({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/e,scaleY:1/e}),n=this.imageSize.width,s=this.imageSize.height,i=gh({width:n,height:s},t.rotate),o={width:"".concat(n,"px"),height:"".concat(s,"px"),left:"0px",top:"0px"},r={rotate:{left:(n-i.width)*t.scaleX/2,top:(s-i.height)*t.scaleY/2},scale:{left:(1-t.scaleX)*n/2,top:(1-t.scaleY)*s/2}};return o.transform=`translate(
				`.concat(-this.coordinates.left/e-r.rotate.left-r.scale.left,"px,").concat(-this.coordinates.top/e-r.rotate.top-r.scale.top,"px) ")+bh(t),this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(e){(e.width||e.height)&&this.onChangeImage()}},mounted:function(){var e=this;this.onChangeImage(),this.$refs.image.addEventListener("load",function(){e.refreshImage()}),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var e=this.$refs.image;this.calculatedImageSize.height=e.naturalHeight,this.calculatedImageSize.width=e.naturalWidth},refresh:function(){var e=this.$refs.root;this.width||(this.calculatedSize.width=e.clientWidth),this.height||(this.calculatedSize.height=e.clientHeight)},onChangeImage:function(){var e=this.$refs.image;e&&e.complete&&this.refreshImage(),this.refresh()}}};wh.render=function(e,t,n,s,i,o){return x(),K("div",{ref:"root",class:o.classes.root,style:o.style},[D("div",{ref:"wrapper",class:o.classes.wrapper,style:o.wrapperStyle},[Oi(D("img",{ref:"image",src:n.image&&n.image.src,class:o.classes.image,style:o.imageStyle},null,14,["src"]),[[qa,n.image&&n.image.src]])],6)],6)};var sl={components:{Preview:wh},inheritAttrs:!1};sl.render=function(e,t,n,s,i,o){var r=yt("preview");return x(),K(r,Xa(e.$attrs,{fill:!0}),null,16)};var Br=xt("vue-rectangle-stencil"),_h={name:"RectangleStencil",components:{StencilPreview:sl,BoundingBox:tl,DraggableArea:nl},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return rr}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return ar}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:Oe(Br({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:Oe(Br("preview"),this.previewClass),boundingBox:Oe(Br("bounding-box"),this.boundingBoxClass)}},style:function(){var e=this.stencilCoordinates,t=e.height,n=e.width,s=e.left,i=e.top,o={width:"".concat(n,"px"),height:"".concat(t,"px"),transform:"translate(".concat(s,"px, ").concat(i,"px)")};return this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}},methods:{onMove:function(e){this.$emit("move",e),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(e){this.$emit("resize",e),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}},emits:["resize","resize-end","move","move-end"]};_h.render=function(e,t,n,s,i,o){var r=yt("stencil-preview"),l=yt("draggable-area"),a=yt("bounding-box");return x(),K("div",{class:o.classes.stencil,style:o.style},[D(a,{width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,transitions:n.transitions,class:o.classes.boundingBox,handlers:n.handlers,"handlers-component":n.handlersComponent,"handlers-classes":n.handlersClasses,"handlers-wrappers-classes":n.handlersWrappersClasses,lines:n.lines,"lines-component":n.linesComponent,"lines-classes":n.linesClasses,"lines-wrappers-classes":n.linesWrappersClasses,resizable:n.resizable,onResize:o.onResize,onResizeEnd:o.onResizeEnd},{default:Ee(function(){return[D(l,{movable:n.movable,onMove:o.onMove,onMoveEnd:o.onMoveEnd},{default:Ee(function(){return[D(r,{image:n.image,coordinates:n.coordinates,width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,class:o.classes.preview,transitions:n.transitions},null,8,["image","coordinates","width","height","class","transitions"])]}),_:1},8,["movable","onMove","onMoveEnd"])]}),_:1},8,["width","height","transitions","class","handlers","handlers-component","handlers-classes","handlers-wrappers-classes","lines","lines-component","lines-classes","lines-wrappers-classes","resizable","onResize","onResizeEnd"])],6)};var Nr=xt("vue-circle-stencil"),Sh={components:{StencilPreview:sl,BoundingBox:tl,DraggableArea:nl},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,westNorth:!0,westSouth:!0,eastSouth:!0}}},handlersComponent:{type:[Object,String],default:function(){return rr}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return ar}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:Oe(Nr({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:Oe(Nr("preview"),this.previewClass),boundingBox:Oe(Nr("bounding-box"),this.boundingBoxClass)}},style:function(){var e=this.stencilCoordinates,t=e.height,n=e.width,s=e.left,i=e.top,o={width:"".concat(n,"px"),height:"".concat(t,"px"),transform:"translate(".concat(s,"px, ").concat(i,"px)")};return this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}},methods:{onMove:function(e){this.$emit("move",e),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(e){this.$emit("resize",e),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:1,maximum:1}}},emits:["resize","resize-end","move","move-end"]};Sh.render=function(e,t,n,s,i,o){var r=yt("stencil-preview"),l=yt("draggable-area"),a=yt("bounding-box");return x(),K("div",{class:o.classes.stencil,style:o.style},[D(a,{width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,transitions:n.transitions,class:o.classes.boundingBox,handlers:n.handlers,"handlers-component":n.handlersComponent,"handlers-classes":n.handlersClasses,"handlers-wrappers-classes":n.handlersWrappersClasses,lines:n.lines,"lines-component":n.linesComponent,"lines-classes":n.linesClasses,"lines-wrappers-classes":n.linesWrappersClasses,resizable:n.resizable,onResize:o.onResize,onResizeEnd:o.onResizeEnd},{default:Ee(function(){return[D(l,{movable:n.movable,onMove:o.onMove,onMoveEnd:o.onMoveEnd},{default:Ee(function(){return[D(r,{image:n.image,coordinates:n.coordinates,width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,class:o.classes.preview,transitions:n.transitions},null,8,["image","coordinates","width","height","class","transitions"])]}),_:1},8,["movable","onMove","onMoveEnd"])]}),_:1},8,["width","height","transitions","class","handlers","handlers-component","handlers-classes","handlers-wrappers-classes","lines","lines-component","lines-classes","lines-wrappers-classes","resizable","onResize","onResizeEnd"])],6)};var Gb=["transitions"],Gt=xt("vue-advanced-cropper"),xh={name:"Cropper",components:{BackgroundWrapper:ga},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return _h}},backgroundWrapperComponent:{type:[Object,String],default:function(){return ga}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(e){return Tb.indexOf(e)!==-1}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object]},defaultVisibleArea:{type:[Function,Object]},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(e){return!(typeof e=="string"&&e!=="fill"&&e!=="fit")}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(e){var t=e.event,n=e.coordinates,s=e.aspectRatio,i=e.positionRestrictions,o=e.sizeRestrictions,r=te(te({},n),{right:n.left+n.width,bottom:n.top+n.height}),l=t.params||{},a=te({},t.directions),c=l.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};o.widthFrozen&&(a.left=0,a.right=0),o.heightFrozen&&(a.top=0,a.bottom=0),Ft.forEach(function(M){c[M]||(a[M]=0)});var u=Ht(r,a=zc({coordinates:r,directions:a,sizeRestrictions:o,positionRestrictions:i})).width,d=Ht(r,a).height,h=l.preserveRatio?pe(r):Dr(u/d,s);if(h){var f=l.respectDirection;if(f||(f=r.width>=r.height||h===1?"width":"height"),f==="width"){var p=u/h-r.height;if(c.top&&c.bottom){var m=a.top,b=a.bottom;a.bottom=qi(p,b,m),a.top=qi(p,m,b)}else c.bottom?a.bottom=p:c.top?a.top=p:c.right?a.right=0:c.left&&(a.left=0)}else if(f==="height"){var y=r.width-d*h;if(c.left&&c.right){var S=a.left,E=a.right;a.left=-qi(y,S,E),a.right=-qi(y,E,S)}else c.left?a.left=-y:c.right?a.right=-y:c.top?a.top=0:c.bottom&&(a.bottom=0)}a=zc({directions:a,coordinates:r,sizeRestrictions:o,positionRestrictions:i,preserveRatio:!0,compensate:l.compensate})}return u=Ht(r,a).width,d=Ht(r,a).height,(h=l.preserveRatio?pe(r):Dr(u/d,s))&&Math.abs(h-u/d)>.001&&Ft.forEach(function(M){c[M]||(a[M]=0)}),ma({event:new Qa({left:-a.left,top:-a.top}),coordinates:{width:n.width+a.right+a.left,height:n.height+a.top+a.bottom,left:n.left,top:n.top},positionRestrictions:i})}},moveAlgorithm:{type:Function,default:ma},initStretcher:{type:Function,default:function(e){var t=e.stretcher,n=e.imageSize,s=pe(n);t.style.width=n.width+"px",t.style.height=t.clientWidth/s+"px",t.style.width=t.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(e){var t=e.visibleArea,n=e.coordinates,s=e.aspectRatio,i=e.sizeRestrictions,o=e.positionRestrictions,r=te(te({},n),tn({width:n.width,height:n.height,aspectRatio:s,sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minHeight:Math.min(t.height,i.minHeight),minWidth:Math.min(t.width,i.minWidth)}}));return r=We(r=lt(r,ms(Fe(n),Fe(r))),or(Ut(t),o))}},fitVisibleArea:{type:Function,default:function(e){var t=e.visibleArea,n=e.boundaries,s=e.getAreaRestrictions,i=e.coordinates,o=te({},t);o.height=o.width/pe(n),o.top+=(t.height-o.height)/2,(i.height-o.height>0||i.width-o.width>0)&&(o=_t(o,Math.max(i.height/o.height,i.width/o.width)));var r=sr(vs(i,Ut(o=_t(o,ir(o,s({visibleArea:o,type:"resize"}))))));return o.width<i.width&&(r.left=0),o.height<i.height&&(r.top=0),o=We(o=lt(o,r),s({visibleArea:o,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.visibleArea,n=e.boundaries,s=e.imageSize,i=e.imageRestriction,o=e.type,r={};return i==="fill-area"?r={left:0,top:0,right:s.width,bottom:s.height}:i==="fit-area"&&(pe(n)>pe(s)?(r={top:0,bottom:s.height},t&&o==="move"&&(t.width>s.width?(r.left=-(t.width-s.width)/2,r.right=s.width-r.left):(r.left=0,r.right=s.width))):(r={left:0,right:s.width},t&&o==="move"&&(t.height>s.height?(r.top=-(t.height-s.height)/2,r.bottom=s.height-r.top):(r.top=0,r.bottom=s.height)))),r}},sizeRestrictionsAlgorithm:{type:Function,default:function(e){return{minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.imageSize,n={};return e.imageRestriction!=="none"&&(n={left:0,top:0,right:t.width,bottom:t.height}),n}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:null,src:null},defaultImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:fe({},$c)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var e=function(t){return t*Math.PI/180}(this.imageTransforms.rotate);return{width:Math.abs(this.imageAttributes.width*Math.cos(e))+Math.abs(this.imageAttributes.height*Math.sin(e)),height:Math.abs(this.imageAttributes.width*Math.sin(e))+Math.abs(this.imageAttributes.height*Math.cos(e))}},initialized:function(){return!!(this.visibleArea&&this.imageLoaded)},settings:function(){var e=fa(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:fa(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:e}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var e=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:De(this.minWidth)?0:Xi(this.minWidth),minHeight:De(this.minHeight)?0:Xi(this.minHeight),maxWidth:De(this.maxWidth)?1/0:Xi(this.maxWidth),maxHeight:De(this.maxHeight)?1/0:Xi(this.maxHeight)});if(e=function(s){var i=s.areaRestrictions,o=s.sizeRestrictions,r=s.boundaries,l=s.positionRestrictions,a=te(te({},o),{minWidth:o.minWidth!==void 0?o.minWidth:0,minHeight:o.minHeight!==void 0?o.minHeight:0,maxWidth:o.maxWidth!==void 0?o.maxWidth:1/0,maxHeight:o.maxHeight!==void 0?o.maxHeight:1/0});l.left!==void 0&&l.right!==void 0&&(a.maxWidth=Math.min(a.maxWidth,l.right-l.left)),l.bottom!==void 0&&l.top!==void 0&&(a.maxHeight=Math.min(a.maxHeight,l.bottom-l.top));var c=pa(i),u=mh(r,c);return c.width<1/0&&(!a.maxWidth||a.maxWidth>u.width)&&(a.maxWidth=Math.min(a.maxWidth,u.width)),c.height<1/0&&(!a.maxHeight||a.maxHeight>u.height)&&(a.maxHeight=Math.min(a.maxHeight,u.height)),a.minWidth>a.maxWidth&&(a.minWidth=a.maxWidth,a.widthFrozen=!0),a.minHeight>a.maxHeight&&(a.minHeight=a.maxHeight,a.heightFrozen=!0),a}({sizeRestrictions:e,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var t=this.getStencilSize(),n=pa(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));e.maxWidth=Math.min(e.maxWidth,n.width*t.width/this.boundaries.width),e.maxHeight=Math.min(e.maxHeight,n.height*t.height/this.boundaries.height),e.maxWidth<e.minWidth&&(e.minWidth=e.maxWidth),e.maxHeight<e.minHeight&&(e.minHeight=e.maxHeight)}return e}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:Gt(),image:Oe(Gt("image"),this.imageClass),stencil:Gt("stencil"),boundaries:Oe(Gt("boundaries"),this.boundariesClass),stretcher:Oe(Gt("stretcher")),background:Oe(Gt("background"),this.backgroundClass),foreground:Oe(Gt("foreground"),this.foregroundClass),imageWrapper:Oe(Gt("image-wrapper")),cropperWrapper:Oe(Gt("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var e=this.coordinates,t=e.width,n=e.height,s=e.left,i=e.top;return{width:t/this.coefficient,height:n/this.coefficient,left:(s-this.visibleArea.left)/this.coefficient,top:(i-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var e={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(e.opacity="0"),e},imageStyle:function(){var e=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},t={left:(e.width-this.imageSize.width)/(2*this.coefficient),top:(e.height-this.imageSize.height)/(2*this.coefficient)},n={left:(1-1/this.coefficient)*e.width/2,top:(1-1/this.coefficient)*e.height/2},s=fe(fe({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/e.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/e.height)}),i={width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-t.left-n.left-this.imageTransforms.translateX,"px, ").concat(-t.top-n.top-this.imageTransforms.translateY,"px)")+bh(s)};return this.transitionsOptions.enabled&&(i.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),i}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var e=this;this.$nextTick(function(){e.resetCoordinates(),e.runAutoZoom("setCoordinates"),e.onChange()})},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(e,t){["aspectRatio","minAspectRatio","maxAspectRatio"].find(function(n){return e[n]!==t[n]})&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=ha(this.update,this.debounce),this.debouncedDisableTransitions=ha(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.debouncedUpdate.clear(),this.debouncedDisableTransitions.clear()},methods:{getResult:function(){var e=this.initialized?this.prepareResult(fe({},this.coordinates)):this.defaultCoordinates(),t={rotate:this.imageTransforms.rotate%360,flip:fe({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var n=this;return{image:this.image,coordinates:e,visibleArea:this.visibleArea?fe({},this.visibleArea):null,imageTransforms:t,get canvas(){return n.canvas?n.getCanvas():void 0}}}return{image:this.image,coordinates:e,visibleArea:this.visibleArea?fe({},this.visibleArea):null,canvas:void 0,imageTransforms:t}},zoom:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.transitions,i=s===void 0||s;this.onManipulateImage(new hi({},{factor:1/e,center:t}),{normalize:!1,transitions:i})},move:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.transitions,i=s===void 0||s;this.onManipulateImage(new hi({left:e||0,top:t||0}),{normalize:!1,transitions:i})},setCoordinates:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.autoZoom,i=s===void 0||s,o=n.transitions,r=o===void 0||o;this.$nextTick(function(){t.imageLoaded?(t.transitionsActive||(r&&t.enableTransitions(),t.coordinates=t.applyTransform(e),i&&t.runAutoZoom("setCoordinates"),r&&t.debouncedDisableTransitions()),t.onChange()):t.delayedTransforms=e})},refresh:function(){var e=this,t=this.$refs.image;if(this.src&&t)return this.initialized?this.updateVisibleArea().then(function(){e.onChange()}):this.resetVisibleArea().then(function(){e.onChange()})},reset:function(){var e=this;return this.resetVisibleArea().then(function(){e.onChange(!1)})},awaitRender:function(e){var t=this;this.awaiting||(this.awaiting=!0,this.$nextTick(function(){e(),t.awaiting=!1}))},prepareResult:function(e){return this.roundResult?function(t){var n=t.coordinates,s=t.sizeRestrictions,i=t.positionRestrictions,o={width:Math.round(n.width),height:Math.round(n.height),left:Math.round(n.left),top:Math.round(n.top)};return o.width>s.maxWidth?o.width=Math.floor(n.width):o.width<s.minWidth&&(o.width=Math.ceil(n.width)),o.height>s.maxHeight?o.height=Math.floor(n.height):o.height<s.minHeight&&(o.height=Math.ceil(n.height)),We(o,i)}(fe(fe({},this.getPublicProperties()),{},{positionRestrictions:Ki(this.positionRestrictions,this.visibleArea),coordinates:e})):e},processAutoZoom:function(e,t,n,s){var i=this.autoZoomAlgorithm;i||(i=this.stencilSize?Ob:this.autoZoom?Pb:$b);var o=i({event:{type:e,params:s},visibleArea:t,coordinates:n,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return fe(fe({},o),{},{changed:!Lc(o.visibleArea,t)||!Lc(o.coordinates,n)})},runAutoZoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.transitions,s=n!==void 0&&n,i=wb(t,Gb),o=this.processAutoZoom(e,this.visibleArea,this.coordinates,i),r=o.visibleArea,l=o.coordinates,a=o.changed;s&&a&&this.enableTransitions(),this.visibleArea=r,this.coordinates=l,s&&a&&this.debouncedDisableTransitions()},normalizeEvent:function(e){return function(t){var n=t.event,s=t.visibleArea,i=t.coefficient;if(n.type==="manipulateImage")return te(te({},n),{move:{left:n.move&&n.move.left?i*n.move.left:0,top:n.move&&n.move.top?i*n.move.top:0},scale:{factor:n.scale&&n.scale.factor?n.scale.factor:1,center:n.scale&&n.scale.center?{left:n.scale.center.left*i+s.left,top:n.scale.center.top*i+s.top}:null}});if(n.type==="resize"){var o=te(te({},n),{directions:te({},n.directions)});return Ft.forEach(function(l){o.directions[l]*=i}),o}if(n.type==="move"){var r=te(te({},n),{directions:te({},n.directions)});return Ab.forEach(function(l){r.directions[l]*=i}),r}return n}(fe(fe({},this.getPublicProperties()),{},{event:e}))},getCanvas:function(){if(this.$refs.canvas){var e=this.$refs.canvas,t=this.$refs.image,n=this.imageTransforms.rotate!==0||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?function(l,a,c){var u=c.rotate,d=c.flip,h={width:a.naturalWidth,height:a.naturalHeight},f=gh(h,u),p=l.getContext("2d");l.height=f.height,l.width=f.width,p.save();var m=xn(Fe(te({left:0,top:0},h)),u);return p.translate(-(m.left-f.width/2),-(m.top-f.height/2)),p.rotate(u*Math.PI/180),p.translate(d.horizontal?h.width:0,d.vertical?h.height:0),p.scale(d.horizontal?-1:1,d.vertical?-1:1),p.drawImage(a,0,0,h.width,h.height),p.restore(),l}(this.$refs.sourceCanvas,t,this.imageTransforms):t,s=fe({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),i=function(l){return l.find(function(a){return c=a,!Number.isNaN(parseFloat(c))&&isFinite(c);var c})},o=tn({sizeRestrictions:{minWidth:i([s.width,s.minWidth])||0,minHeight:i([s.height,s.minHeight])||0,maxWidth:i([s.width,s.maxWidth])||1/0,maxHeight:i([s.height,s.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(s.maxArea&&o.width*o.height>s.maxArea){var r=Math.sqrt(s.maxArea/(o.width*o.height));o={width:Math.round(r*o.width),height:Math.round(r*o.height)}}return function(l,a,c,u,d){l.width=u?u.width:c.width,l.height=u?u.height:c.height;var h=l.getContext("2d");h.clearRect(0,0,l.width,l.height),d&&(d.imageSmoothingEnabled&&(h.imageSmoothingEnabled=d.imageSmoothingEnabled),d.imageSmoothingQuality&&(h.imageSmoothingQuality=d.imageSmoothingQuality),d.fillColor&&(h.fillStyle=d.fillColor,h.fillRect(0,0,l.width,l.height),h.save()));var f=c.left<0?-c.left:0,p=c.top<0?-c.top:0;h.drawImage(a,c.left+f,c.top+p,c.width,c.height,f*(l.width/c.width),p*(l.height/c.height),l.width,l.height)}(e,n,this.coordinates,o,s),e}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=this.visibleArea&&t?kb(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,s=this.visibleArea&&t?Ki(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return Rb({transform:e,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:n,positionRestrictions:s,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var e=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var t=this.defaultSize;t||(t=this.stencilSize?Db:Ib);var n=this.sizeRestrictions;n.minWidth,n.minHeight,n.maxWidth,n.maxHeight;var s=Jn(t)?t({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):t,i=this.defaultPosition||Lb,o=[s,function(r){var l=r.coordinates;return fe({},Jn(i)?i({coordinates:l,imageSize:e.imageSize,visibleArea:e.visibleArea}):e.defaultPosition)}];this.delayedTransforms&&o.push.apply(o,Un(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(o,!0),this.delayedTransforms=null}},clearImage:function(){var e=this;this.imageLoaded=!1,setTimeout(function(){var t=e.$refs.stretcher;t&&(t.style.height="auto",t.style.width="auto"),e.coordinates=e.defaultCoordinates(),e.boundaries={width:0,height:0}},this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var e=this,t=this.$refs.stretcher,n=this.$refs.cropper;return this.initStretcher({cropper:n,stretcher:t,imageSize:this.imageSize}),this.$nextTick().then(function(){var s={cropper:n,imageSize:e.imageSize};if(Jn(e.defaultBoundaries)?e.boundaries=e.defaultBoundaries(s):e.defaultBoundaries==="fit"?e.boundaries=function(i){var o=i.cropper,r=i.imageSize,l=o.clientHeight,a=o.clientWidth,c=l,u=r.width*l/r.height;return u>a&&(u=a,c=r.height*a/r.width),{width:u,height:c}}(s):e.boundaries=function(i){var o=i.cropper;return{width:o.clientWidth,height:o.clientHeight}}(s),!e.boundaries.width||!e.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")})},resetVisibleArea:function(){var e=this;return this.appliedImageTransforms=fe(fe({},this.defaultImageTransforms),{},{flip:fe({},this.defaultImageTransforms.flip)}),this.updateBoundaries().then(function(){e.priority!=="visible-area"&&(e.visibleArea=null,e.resetCoordinates());var t,n,s,i,o,r,l=e.defaultVisibleArea||zb;e.visibleArea=Jn(l)?l({imageSize:e.imageSize,boundaries:e.boundaries,coordinates:e.priority!=="visible-area"?e.coordinates:null,getAreaRestrictions:e.getAreaRestrictions,stencilSize:e.getStencilSize()}):e.defaultVisibleArea,e.visibleArea=(t={visibleArea:e.visibleArea,boundaries:e.boundaries,getAreaRestrictions:e.getAreaRestrictions},n=t.visibleArea,s=t.boundaries,i=t.getAreaRestrictions,o=te({},n),r=pe(s),o.width/o.height!==r&&(o.height=o.width/r),We(o,i({visibleArea:o,type:"move"}))),e.priority==="visible-area"?e.resetCoordinates():e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("resetVisibleArea")}).catch(function(){e.visibleArea=null})},updateVisibleArea:function(){var e=this;return this.updateBoundaries().then(function(){e.visibleArea=e.fitVisibleArea({imageSize:e.imageSize,boundaries:e.boundaries,visibleArea:e.visibleArea,coordinates:e.coordinates,getAreaRestrictions:e.getAreaRestrictions}),e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("updateVisibleArea")}).catch(function(){e.visibleArea=null})},onChange:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];e&&this.debounce?this.debouncedUpdate():this.update()},onChangeImage:function(){var e,t=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if(function(i){if(Oc(i))return!1;var o=window.location,r=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(i)||[],l={protocol:r[1]||"",host:r[2]||"",port:r[3]||""},a=function(c){return c.port||((c.protocol||o.protocol)==="http"?80:433)};return!(!l.protocol&&!l.host&&!l.port||l.protocol&&l.protocol==o.protocol&&l.host&&l.host==o.host&&l.host&&a(l)==a(o))}(this.src)){var n=De(this.crossOrigin)?this.canvas:this.crossOrigin;n===!0&&(n="anonymous"),this.imageAttributes.crossOrigin=n||null}if(this.checkOrientation){var s=(e=this.src,new Promise(function(i){Kb(e).then(function(o){var r=qb(o);i(o?{source:e,arrayBuffer:o,orientation:r}:{source:e,arrayBuffer:null,orientation:null})}).catch(function(o){console.warn(o),i({source:e,arrayBuffer:null,orientation:null})})}));setTimeout(function(){s.then(t.onParseImage)},this.transitionTime)}else setTimeout(function(){t.onParseImage({source:t.src})},this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var e=this,t=this.$refs.image;t&&!this.imageLoaded&&(this.imageAttributes.height=t.naturalHeight,this.imageAttributes.width=t.naturalWidth,this.imageLoaded=!0,this.resetVisibleArea().then(function(){e.$emit("ready"),e.onChange(!1)}))},onParseImage:function(e){var t=this,n=e.source,s=e.arrayBuffer,i=e.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,s&&i&&i>1?uh(n)||!Oc(n)?(this.imageAttributes.src=URL.createObjectURL(new Blob([s])),this.imageAttributes.revoke=!0):this.imageAttributes.src=function(o){for(var r=[],l=new Uint8Array(o);l.length>0;){var a=l.subarray(0,8192);r.push(String.fromCharCode.apply(null,Array.from?Array.from(a):a.slice())),l=l.subarray(8192)}return"data:image/jpeg;base64,"+btoa(r.join(""))}(s):this.imageAttributes.src=n,Jn(this.defaultTransforms)?this.appliedImageTransforms=jr(this.defaultTransforms()):mo(this.defaultTransforms)?this.appliedImageTransforms=jr(this.defaultTransforms):this.appliedImageTransforms=function(o){var r=jr({});if(o)switch(o){case 2:r.flip.horizontal=!0;break;case 3:r.rotate=-180;break;case 4:r.flip.vertical=!0;break;case 5:r.rotate=90,r.flip.vertical=!0;break;case 6:r.rotate=90;break;case 7:r.rotate=90,r.flip.horizontal=!0;break;case 8:r.rotate=-90}return r}(i),this.defaultImageTransforms=fe(fe({},this.appliedImageTransforms),{},{flip:fe({},this.appliedImageTransforms.flip)}),this.$nextTick(function(){var o=t.$refs.image;o&&o.complete&&(function(r){return!!r.naturalWidth}(o)?t.onSuccessLoadImage():t.onFailLoadImage())})},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(e){var t=this;this.transitionsOptions.enabled||this.awaitRender(function(){t.coordinates=t.moveAlgorithm(fe(fe({},t.getPublicProperties()),{},{positionRestrictions:Ki(t.positionRestrictions,t.visibleArea),coordinates:t.coordinates,event:t.normalizeEvent(e)})),t.onChange()})},onResize:function(e){var t=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender(function(){var n=t.sizeRestrictions,s=Math.min(t.coordinates.width,t.coordinates.height,20*t.coefficient);t.coordinates=t.resizeAlgorithm(fe(fe({},t.getPublicProperties()),{},{positionRestrictions:Ki(t.positionRestrictions,t.visibleArea),sizeRestrictions:{maxWidth:Math.min(n.maxWidth,t.visibleArea.width),maxHeight:Math.min(n.maxHeight,t.visibleArea.height),minWidth:Math.max(n.minWidth,s),minHeight:Math.max(n.minHeight,s)},event:t.normalizeEvent(e)})),t.onChange(),t.ticking=!1})},onManipulateImage:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.transitionsOptions.enabled){var n=t.transitions,s=n!==void 0&&n,i=t.normalize,o=i===void 0||i;s&&this.enableTransitions();var r=jb(fe(fe({},this.getPublicProperties()),{},{event:o?this.normalizeEvent(e):e,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),l=r.visibleArea,a=r.coordinates;this.visibleArea=l,this.coordinates=a,this.runAutoZoom("manipulateImage"),this.onChange(),s&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.visibleArea,n=e.type,s=n===void 0?"move":n;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:t,type:s})},getAspectRatio:function(e){var t,n,s=this.stencilProps,i=s.aspectRatio,o=s.minAspectRatio,r=s.maxAspectRatio;if(this.$refs.stencil&&this.$refs.stencil.aspectRatios){var l=this.$refs.stencil.aspectRatios();t=l.minimum,n=l.maximum}if(De(t)&&(t=De(i)?o:i),De(n)&&(n=De(i)?r:i),!e&&(De(t)||De(n))){var a=this.getStencilSize(),c=a?pe(a):null;De(t)&&(t=Pc(c)?c:void 0),De(n)&&(n=Pc(c)?c:void 0)}return{minimum:t,maximum:n}},getStencilSize:function(){if(this.stencilSize)return e={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)},t=e.boundaries,n=e.stencilSize,s=e.aspectRatio,Dr(pe(i=Jn(n)?n({boundaries:t,aspectRatio:s}):n),s)&&(i=tn({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:i.width,height:i.height,aspectRatio:{minimum:s.minimum,maximum:s.maximum}})),(i.width>t.width||i.height>t.height)&&(i=tn({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:i.width,height:i.height,aspectRatio:{minimum:pe(i),maximum:pe(i)}})),i;var e,t,n,s,i},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return fe({},$c)},flip:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.transitions,i=s===void 0||s;if(!this.transitionsActive){i&&this.enableTransitions();var o=fe({},this.imageTransforms.flip),r=Nb({flip:{horizontal:e?!o.horizontal:o.horizontal,vertical:t?!o.vertical:o.vertical},previousFlip:o,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),l=r.visibleArea,a=r.coordinates;e&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),t&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=l,this.coordinates=a,this.onChange(),i&&this.debouncedDisableTransitions()}},rotate:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.transitions,s=n===void 0||n;if(!this.transitionsActive){s&&this.enableTransitions();var i=fe({},this.imageSize);this.appliedImageTransforms.rotate+=e;var o=Bb({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:i,imageSize:this.imageSize,angle:e,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),r=o.visibleArea,l=o.coordinates,a=this.processAutoZoom("rotateImage",r,l);r=a.visibleArea,l=a.coordinates,this.visibleArea=r,this.coordinates=l,this.onChange(),s&&this.debouncedDisableTransitions()}}},emits:["change","error","ready"]},Jb={key:0,ref:"canvas",style:{display:"none"}},Zb={key:1,ref:"sourceCanvas",style:{display:"none"}};xh.render=function(e,t,n,s,i,o){return x(),K("div",{ref:"cropper",class:o.classes.cropper},[D("div",{ref:"stretcher",class:o.classes.stretcher},null,2),D("div",{class:o.classes.boundaries,style:o.boundariesStyle},[(x(),K(vi(n.backgroundWrapperComponent),{class:o.classes.cropperWrapper,"wheel-resize":o.settings.resizeImage.wheel,"touch-resize":o.settings.resizeImage.touch,"touch-move":o.settings.moveImage.touch,"mouse-move":o.settings.moveImage.mouse,onMove:o.onManipulateImage,onResize:o.onManipulateImage},{default:Ee(function(){return[D("div",{class:o.classes.background,style:o.boundariesStyle},null,6),D("div",{class:o.classes.imageWrapper},[D("img",{ref:"image",crossorigin:i.imageAttributes.crossOrigin,src:i.imageAttributes.src,class:o.classes.image,style:o.imageStyle,onMousedown:t[1]||(t[1]=_i(function(){},["prevent"]))},null,46,["crossorigin","src"])],2),D("div",{class:o.classes.foreground,style:o.boundariesStyle},null,6),Oi((x(),K(vi(n.stencilComponent),Xa({ref:"stencil",image:o.image,coordinates:i.coordinates,"stencil-coordinates":o.stencilCoordinates,transitions:o.transitionsOptions},n.stencilProps,{onResize:o.onResize,onResizeEnd:o.onResizeEnd,onMove:o.onMove,onMoveEnd:o.onMoveEnd}),null,16,["image","coordinates","stencil-coordinates","transitions","onResize","onResizeEnd","onMove","onMoveEnd"])),[[qa,i.imageLoaded]]),n.canvas?(x(),K("canvas",Jb,null,512)):Te("",!0),n.canvas?(x(),K("canvas",Zb,null,512)):Te("",!0)]}),_:1},8,["class","wheel-resize","touch-resize","touch-move","mouse-move","onMove","onResize"]))],6)],2)};const Qb={class:"avatar"},ey={key:0,class:"avatar__cropper"},ty={key:0,class:"avatar__cropper-loader"},ny={class:"avatar__cropper-actions"},sy={key:1,class:"avatar__preview"},iy=["src"],oy={key:1,class:"avatar__preview-avatar default"},ry={__name:"Avatar",setup(e){const t=Ii(),n=bt("file"),s=F(!1),i=F(!1),o=F(t.avatar),r=F(null),l=F(null),a=()=>n.value.click(),c=f=>{const p=f.target.files[0],m=new FileReader;m.readAsDataURL(p),m.onload=()=>{r.value=URL.createObjectURL(p),s.value=!0,setTimeout(()=>i.value=!0,1e3)}},u=({canvas:f})=>{f.toBlob(p=>{l.value=p})},d=()=>{s.value=!1,i.value=!1},h=async()=>{await t.changeAvatar(l.value),o.value=t.avatar,d()};return(f,p)=>(x(),N("div",Qb,[D(Ka,{name:"avatar-transition",mode:"out-in"},{default:Ee(()=>[s.value?(x(),N("div",ey,[i.value?Te("",!0):(x(),N("div",ty,[D(lh,{size:50})])),T("div",ny,[D(rt,{class:"avatar__cropper-reject",icon:"xmark",type:"danger",onClick:d}),D(rt,{class:"avatar__cropper-approve",icon:"check",onClick:h})]),D(B(xh),{class:"avatar__cropper-element","stencil-component":B(Sh),src:r.value,onChange:u},null,8,["stencil-component","src"])])):(x(),N("div",sy,[o.value?(x(),N("img",{key:0,class:"avatar__preview-avatar",src:o.value},null,8,iy)):(x(),N("div",oy)),D(rt,{class:"avatar__preview-uploader",icon:"arrow-up-from-bracket",onClick:a}),T("input",{class:"avatar__preview-uploader-file",ref_key:"file",ref:n,type:"file",onChange:c},null,544)]))]),_:1})]))}},ay=ve(ry,[["__scopeId","data-v-fb53ce22"]]),ly={class:"user-panel"},cy=["src"],uy={key:1,class:"user-panel__user-avatar default"},dy=["src"],hy={key:1,class:"user-panel__user-avatar default"},fy={class:"user-panel__user-name"},py={key:2,class:"user-panel__logout"},my={class:"profile"},gy={class:"profile__avatar"},vy={class:"profile__email"},by={class:"profile__form"},yy={key:0,class:"profile__logout"},wy={__name:"UserPanel",setup(e){const t=Rt(),n=Ii(),s=I(()=>n.user),i=F(!1),o=F(!1),r=F(s.value.name),l=F(""),a=I(()=>l.value.length<6),c=()=>i.value=!0,u=()=>n.update({name:r.value}),d=async()=>{o.value=!0,await n.update({password:l.value}),o.value=!1,l.value=""},h=()=>{i.value=!1,n.logout()};return(f,p)=>(x(),N("div",ly,[B(t).isSmall?(x(),N("div",{key:0,class:"user-panel__user",onClick:c},[B(n).avatar?(x(),N("img",{key:0,class:"user-panel__user-avatar",src:B(n).avatar},null,8,cy)):(x(),N("div",uy))])):(x(),N("div",{key:1,class:"user-panel__user",onClick:c},[B(n).avatar?(x(),N("img",{key:0,class:"user-panel__user-avatar",src:B(n).avatar},null,8,dy)):(x(),N("div",hy)),T("div",fy,ye(s.value.name),1)])),B(t).isSmall?Te("",!0):(x(),N("div",py,[D(rt,{icon:"right-from-bracket",onClick:B(n).logout},null,8,["onClick"])])),D(nr,{modelValue:i.value,"onUpdate:modelValue":p[2]||(p[2]=m=>i.value=m),title:"Профиль",center:!0},{default:Ee(()=>[T("div",my,[T("div",gy,[D(ay)]),D(Za,{class:"profile__name",modelValue:r.value,"onUpdate:modelValue":p[0]||(p[0]=m=>r.value=m),max:20,onChange:u},null,8,["modelValue"]),T("div",vy,ye(s.value.email),1),T("form",by,[D(ua,{modelValue:l.value,"onUpdate:modelValue":p[1]||(p[1]=m=>l.value=m),"with-checker":!0,placeholder:"Новый пароль"},null,8,["modelValue"]),D(ht,{disabled:a.value,text:"Сохранить пароль",loading:o.value,onClick:d},null,8,["disabled","loading"])]),B(t).isSmall?(x(),N("div",yy,[D(ht,{type:"danger",text:"Выйти",onClick:h})])):Te("",!0)])]),_:1},8,["modelValue"])]))}},_y=ve(wy,[["__scopeId","data-v-55630d76"]]),Sy={class:"header"},xy={class:"header-left"},Ey={class:"header-center"},Cy={class:"header-right"},My={__name:"Header",setup(e){const t=Rt(),n=Di(),s=I(()=>!t.isSmall&&n.statusBar);return(i,o)=>(x(),N("header",Sy,[T("div",xy,[D(Jv),D(tb)]),T("div",Ey,[s.value?(x(),K(Ja,{key:0,class:"status",nowrap:"",icon:B(n).statusBar.icon,text:B(n).statusBar.title},null,8,["icon","text"])):Te("",!0)]),T("div",Cy,[D(_y)])]))}},Ay=ve(My,[["__scopeId","data-v-82aeae17"]]),Ty={class:"ui-skeleton__item"},ky={__name:"Skeleton",props:{type:{type:String,default:"lines"},itemsNum:{type:Number,default:6}},setup(e){const t=e;return(n,s)=>(x(),N("div",{class:ge(["ui-skeleton",t.type])},[(x(!0),N(ke,null,An(t.itemsNum,i=>(x(),N("div",Ty))),256))],2))}},il=ve(ky,[["__scopeId","data-v-6cac4761"]]),Ry=["href","onClick"],Oy={class:"sidebar-link__icon"},Py={class:"sidebar-link__text"},Ji={__name:"SidebarLink",props:{route:Object,text:String,icon:String},setup(e){const t=e,n=I(()=>`fas fa-${t.icon}`);return(s,i)=>(x(),K(B(ih),{to:t.route,custom:""},{default:Ee(({isActive:o,href:r,navigate:l})=>[T("a",{class:ge(["sidebar-link",o?"active":""]),href:r,onClick:l},[T("span",Oy,[T("i",{class:ge(n.value)},null,2)]),T("span",Py,ye(t.text),1)],10,Ry)]),_:1},8,["to"]))}},$y={class:"ui-light-input"},Ly=["placeholder","maxlength"],Iy={__name:"LightInput",props:je({fieldClass:{type:String,default:""},placeholder:{type:String,default:""},focused:{type:Boolean,default:!1},max:{type:Number,default:255}},{modelValue:{},modelModifiers:{}}),emits:je(["update","save"],["update:modelValue"]),setup(e,{emit:t}){const n=e,s=At(e,"modelValue"),i=t,o=bt("input"),r=$e("createDeferredTimer")(),l=()=>{i("update",s.value),r.start(1e3,()=>i("save",s.value))};return St(()=>{on(()=>n.focused&&o.value.focus())}),(a,c)=>(x(),N("div",$y,[Oi(T("input",{ref_key:"input",ref:o,class:ge(["ui-light-input__field",n.fieldClass]),type:"text","onUpdate:modelValue":c[0]||(c[0]=u=>s.value=u),placeholder:n.placeholder,maxlength:n.max,onInput:l},null,42,Ly),[[sa,s.value]])]))}},Dy=ve(Iy,[["__scopeId","data-v-3799e031"]]),zy={class:"create-topic"},jy={__name:"CreateTopic",emits:["created"],setup(e,{emit:t}){const{woojStore:n,createTopic:s}=Xn(),i=t,o=F(""),r=I(()=>!o.value.length),l=async()=>{await s({name:o.value}),i("created")};return(a,c)=>(x(),N("div",zy,[D(Dy,{type:"text",placeholder:"Название топика",fieldClass:"create-topic__field",max:20,focused:!0,modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=u=>o.value=u)},null,8,["modelValue"]),D(ht,{class:"create-topic__button",text:"Создать",icon:"plus",disabled:r.value,loading:B(n).isCreatingTopic,onClick:l},null,8,["disabled","loading"])]))}},By={class:"sidebar"},Ny={class:"sidebar__menu"},Hy={class:"sidebar__menu-item"},Fy={class:"sidebar__menu-item"},Wy={class:"sidebar__menu-item"},Vy={key:0,class:"sidebar__menu"},Uy={class:"sidebar__menu-item"},Yy={class:"sidebar__item plus-topic-item"},Xy={__name:"Sidebar",setup(e){const t=F(!1),n=Rt(),s=tr(),i=()=>t.value=!0,o=()=>t.value=!1;return(r,l)=>(x(),N("aside",By,[l[1]||(l[1]=T("p",{class:"sidebar__label"},"Вуджи",-1)),T("ul",Ny,[T("li",Hy,[D(Ji,{route:{name:"Index"},text:"Все",icon:"tags"})]),T("li",Fy,[D(Ji,{route:{name:"Pinned"},text:"Закрепленные",icon:"thumbtack"})]),T("li",Wy,[D(Ji,{route:{name:"Trash"},text:"Корзина",icon:"trash"})])]),l[2]||(l[2]=T("p",{class:"sidebar__label"},"Топики",-1)),B(s).isLoadedTopics?(x(),N("ul",Vy,[(x(!0),N(ke,null,An(B(s).customTopics,a=>(x(),N("li",Uy,[D(Ji,{route:{name:"Topic",params:{topicId:a.id}},text:a.name,icon:"tag"},null,8,["route","text"])]))),256))])):(x(),K(il,{key:1})),T("div",Yy,[D(ht,{text:"Топик",icon:"plus",onClick:i})]),D(nr,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=a=>t.value=a),title:"Новый топик",center:B(n).isSmall},{default:Ee(()=>[D(jy,{onCreated:o})]),_:1},8,["modelValue","center"])]))}},Ky=ve(Xy,[["__scopeId","data-v-d98ad4ff"]]),qy={class:"layout-main"},Gy={class:"layout-main__header-content"},Jy={class:"layout-main__body"},Zy={__name:"Main",setup(e){const t=Di(),n=bt("header"),s=bt("sidebar"),i=bt("content"),{lockTouchMove:o}=rh();return St(()=>{t.setContentElement(i.value),o(n.value),o(s.value)}),(r,l)=>(x(),N("div",qy,[T("div",{ref_key:"header",ref:n,class:"layout-main__header"},[T("div",Gy,[D(Ay)])],512),T("div",Jy,[T("div",{ref_key:"sidebar",ref:s,class:ge(["layout-main__body-sidebar",{aired:B(t).isAired,hovered:B(t).isHoveredSidebar}]),onMouseover:l[0]||(l[0]=(...a)=>B(t).onOverSidebar&&B(t).onOverSidebar(...a))},[l[2]||(l[2]=T("div",{class:"layout-main__body-sidebar-separator"},null,-1)),D(Ky)],34),T("div",{ref_key:"content",ref:i,class:ge(["layout-main__body-content",{aired:B(t).isAired}]),onMouseover:l[1]||(l[1]=(...a)=>B(t).onLeaveSidebar&&B(t).onLeaveSidebar(...a))},[D(Ka,{name:"view-transition",mode:"out-in"},{default:Ee(()=>[tt(r.$slots,"default",{},void 0,!0)]),_:3})],34)])]))}},Qy=ve(Zy,[["__scopeId","data-v-96799407"]]),ew={class:"view-verify"},tw={class:"view-verify__buttons"},nw={__name:"Verify",setup(e){const t=Ii(),n=()=>t.resend(),s=()=>t.logout();return St(()=>t.startResendTimer()),(i,o)=>(x(),N("div",ew,[o[0]||(o[0]=us(" Подтверди свою почту ")),T("b",null,ye(B(t).user.email),1),T("div",tw,[B(t).resendTimer?(x(),K(ht,{key:0,disabled:"",text:`Повторно отправить через ${B(t).resendTimer} сек.`},null,8,["text"])):(x(),K(ht,{key:1,class:"view-verify__button",text:"Выслать письмо повторно",onClick:n})),D(ht,{class:"view-verify__button",type:"default",text:"Выйти",onClick:s})])]))}},sw=ve(nw,[["__scopeId","data-v-d5b0ca5a"]]),iw={class:"auth-tabs"},ow={class:"auth-form__field"},rw={class:"auth-form__field"},aw={class:"auth-form__field"},lw={class:"auth-form__field"},cw={class:"auth-form__field"},uw={class:"auth-form__field"},dw={__name:"Auth",setup(e){const t=Ii(),n=Vt({email:"",password:""}),s=Vt({email:"",password:""}),i=F(!0),o=I(()=>!i.value),r=I(()=>!n.email||!n.password),l=I(()=>!s.email||!s.password),a=I(()=>i.value?"login":"register"),c=()=>t.login(n),u=()=>t.register(s);return(d,h)=>(x(),N("div",{class:"view-auth auth",key:a.value},[T("div",iw,[T("a",{class:ge(["auth-tabs__item",{active:i.value}]),onClick:h[0]||(h[0]=f=>i.value=!0)}," Войти ",2),T("a",{class:ge(["auth-tabs__item",{active:o.value}]),onClick:h[1]||(h[1]=f=>i.value=!1)}," Зарегистрироваться ",2)]),i.value?(x(),N("form",{key:0,class:"auth-form",novalidate:"",onSubmit:_i(c,["prevent"])},[T("div",ow,[D(ca,{type:"email",placeholder:"Email",modelValue:n.email,"onUpdate:modelValue":h[2]||(h[2]=f=>n.email=f)},null,8,["modelValue"])]),T("div",rw,[D(ua,{placeholder:"Пароль","with-checker":!1,modelValue:n.password,"onUpdate:modelValue":h[3]||(h[3]=f=>n.password=f),autocomplete:""},null,8,["modelValue"])]),T("div",aw,[D(ht,{class:"auth-form__button",text:"Войти",disabled:r.value},null,8,["disabled"])])],32)):o.value?(x(),N("form",{key:1,class:"auth-form",novalidate:"",onSubmit:_i(u,["prevent"])},[T("div",lw,[D(ca,{type:"email",placeholder:"Email",modelValue:s.email,"onUpdate:modelValue":h[4]||(h[4]=f=>s.email=f)},null,8,["modelValue"])]),T("div",cw,[D(ua,{placeholder:"Пароль","with-checker":!0,modelValue:s.password,"onUpdate:modelValue":h[5]||(h[5]=f=>s.password=f),autocomplete:""},null,8,["modelValue"])]),T("div",uw,[D(ht,{class:"auth-form__button",text:"Зарегистрироваться",disabled:l.value},null,8,["disabled"])])],32)):Te("",!0)]))}},hw=ve(dw,[["__scopeId","data-v-a1603423"]]),fw={class:"view-loading"},pw={__name:"Loading",setup(e){return(t,n)=>(x(),N("div",fw,n[0]||(n[0]=[T("div",{class:"view-loading__center"},null,-1)])))}},mw=ve(pw,[["__scopeId","data-v-0b61a2ef"]]),gw={class:"toasts"},vw=["innerHTML","onMousedown","onTouchstart"],bw={__name:"Toasts",setup(e){const{toasts:t,remove:n}=er(),s=i=>n(i);return(i,o)=>(x(),N("div",gw,[D(gg,{name:"toast-transition"},{default:Ee(()=>[(x(!0),N(ke,null,An(B(t),r=>(x(),N("div",{key:r.id,class:ge(["toasts__toast",r.type]),innerHTML:r.message,onMousedown:l=>s(r.id),onTouchstart:l=>s(r.id)},null,42,vw))),128))]),_:1})]))}},yw=ve(bw,[["__scopeId","data-v-c0ec7e93"]]),ww={__name:"Counter",setup(e){return function(t,n,s,i,o,r,l){t[o]=t[o]||function(){(t[o].a=t[o].a||[]).push(arguments)},t[o].l=1*new Date;for(var a=0;a<document.scripts.length;a++)if(document.scripts[a].src===i)return;r=n.createElement(s),l=n.getElementsByTagName(s)[0],r.async=1,r.src=i,l.parentNode.insertBefore(r,l)}(window,document,"script","https://mc.yandex.ru/metrika/tag.js?id=103580720","ym"),ym(103580720,"init",{ssr:!0,webvisor:!0,trackHash:!0,clickmap:!0,ecommerce:"dataLayer",accurateTrackBounce:!0,trackLinks:!0}),(t,n)=>(x(),N("noscript",null,n[0]||(n[0]=[T("div",null,[T("img",{src:"https://mc.yandex.ru/watch/103580720",style:{position:"absolute",left:"-9999px"},alt:""})],-1)])))}},IE={__name:"App",setup(e){const t=Ii(),n=tr(),s=F(!1),i=I(()=>t.isLogged),o=I(()=>t.isVerified);return Yn(async()=>{await t.check(),s.value=!0}),Ua(()=>{t.isLogged&&t.isVerified&&n.fetchAll()}),(r,l)=>(x(),N(ke,null,[(x(),K(ww,{key:0})),D(yw),s.value?(x(),N(ke,{key:1},[i.value&&o.value?(x(),K(B(oh),{key:0},{default:Ee(({Component:a})=>[D(Qy,null,{default:Ee(()=>[(x(),K(vi(a)))]),_:2},1024)]),_:1})):(x(),K(Uv,{key:1},{default:Ee(()=>[i.value?(x(),K(sw,{key:1})):(x(),K(hw,{key:0}))]),_:1}))],64)):(x(),K(mw,{key:2}))],64))}},_w={class:"ui-swiper"},Sw=["id"],xw={class:"ui-swiper__item-content"},Bc="#d4ff38",Ew="#d5dce5",DE={__name:"Swiper",props:{id:String,itemsNum:Number,options:{type:Object,default:null}},setup(e){const t=e;return St(()=>{const s=t.options||{},i=document.querySelector(`#${t.id}`);Object.assign(i,{slidesPerView:1,spaceBetween:10,grabCursor:!0,pagination:{clickable:!0},injectStyles:[`
      .swiper-pagination {
        position: relative;
        margin-top: 40px;
      }
      .swiper-pagination-bullet {
        width: 12px;
        height: 12px;
        opacity: 1;
        background: ${Ew};
        border: 5px solid transparent;
        transition: all .3s;
      }
      .swiper-pagination-bullet:hover {
        border-color: ${Bc};
      }
      .swiper-pagination-bullet-active {
        background: ${Bc};
      }
    `],breakpoints:{940:{slidesPerView:2},1330:{slidesPerView:3},1690:{slidesPerView:4},2500:{slidesPerView:5},3e3:{slidesPerView:6}},...s,on:{init(){}}}),i.initialize()}),(s,i)=>(x(),N("div",_w,[T("swiper-container",{id:e.id,class:"ui-swiper__items",init:"false"},[(x(!0),N(ke,null,An(t.itemsNum,o=>(x(),N("swiper-slide",{key:o,class:"ui-swiper__item"},[T("div",xw,[tt(s.$slots,"item",{index:o-1})])]))),128))],8,Sw)]))}};class Ot{constructor(t){this._canceled=!1,this.data=t}get type(){return this.constructor.type}get cancelable(){return this.constructor.cancelable}cancel(){this._canceled=!0}canceled(){return this._canceled}clone(t){return new this.constructor({...this.data,...t})}}Ot.type="event";Ot.cancelable=!1;class un{constructor(t){this.draggable=t}attach(){throw new Error("Not Implemented")}detach(){throw new Error("Not Implemented")}}const Zn={mouse:0,drag:0,touch:100};class Eh{constructor(t=[],n={}){this.containers=[...t],this.options={...n},this.dragging=!1,this.currentContainer=null,this.originalSource=null,this.startEvent=null,this.delay=Cw(n.delay)}attach(){return this}detach(){return this}addContainer(...t){this.containers=[...this.containers,...t]}removeContainer(...t){this.containers=this.containers.filter(n=>!t.includes(n))}trigger(t,n){const s=document.createEvent("Event");return s.detail=n,s.initEvent(n.type,!0,!0),t.dispatchEvent(s),this.lastEvent=n,n}}function Cw(e){const t={};if(e===void 0)return{...Zn};if(typeof e=="number"){for(const n in Zn)Object.prototype.hasOwnProperty.call(Zn,n)&&(t[n]=e);return t}for(const n in Zn)Object.prototype.hasOwnProperty.call(Zn,n)&&(e[n]===void 0?t[n]=Zn[n]:t[n]=e[n]);return t}function gt(e,t){if(e==null)return null;function n(i){return i==null||t==null?!1:Mw(t)?Element.prototype.matches.call(i,t):Aw(t)?[...t].includes(i):Tw(t)?t===i:kw(t)?t(i):!1}let s=e;do{if(s=s.correspondingUseElement||s.correspondingElement||s,n(s))return s;s=(s==null?void 0:s.parentNode)||null}while(s!=null&&s!==document.body&&s!==document);return null}function Mw(e){return typeof e=="string"}function Aw(e){return e instanceof NodeList||e instanceof Array}function Tw(e){return e instanceof Node}function kw(e){return typeof e=="function"}function Ch(e,t,n,s){return Math.sqrt((n-e)**2+(s-t)**2)}class lr extends Ot{get originalEvent(){return this.data.originalEvent}get clientX(){return this.data.clientX}get clientY(){return this.data.clientY}get target(){return this.data.target}get container(){return this.data.container}get originalSource(){return this.data.originalSource}get pressure(){return this.data.pressure}}class ol extends lr{}ol.type="drag:start";class rl extends lr{}rl.type="drag:move";class al extends lr{}al.type="drag:stop";class Rw extends lr{}Rw.type="drag:pressure";const ks=Symbol("onContextMenuWhileDragging"),Rs=Symbol("onMouseDown"),Os=Symbol("onMouseMove"),Ps=Symbol("onMouseUp"),Zi=Symbol("startDrag"),mn=Symbol("onDistanceChange");class Ow extends Eh{constructor(t=[],n={}){super(t,n),this.mouseDownTimeout=null,this.pageX=null,this.pageY=null,this[ks]=this[ks].bind(this),this[Rs]=this[Rs].bind(this),this[Os]=this[Os].bind(this),this[Ps]=this[Ps].bind(this),this[Zi]=this[Zi].bind(this),this[mn]=this[mn].bind(this)}attach(){document.addEventListener("mousedown",this[Rs],!0)}detach(){document.removeEventListener("mousedown",this[Rs],!0)}[Rs](t){if(t.button!==0||t.ctrlKey||t.metaKey)return;const n=gt(t.target,this.containers);if(!n||this.options.handle&&t.target&&!gt(t.target,this.options.handle))return;const s=gt(t.target,this.options.draggable);if(!s)return;const{delay:i}=this,{pageX:o,pageY:r}=t;Object.assign(this,{pageX:o,pageY:r}),this.onMouseDownAt=Date.now(),this.startEvent=t,this.currentContainer=n,this.originalSource=s,document.addEventListener("mouseup",this[Ps]),document.addEventListener("dragstart",Nc),document.addEventListener("mousemove",this[mn]),this.mouseDownTimeout=window.setTimeout(()=>{this[mn]({pageX:this.pageX,pageY:this.pageY})},i.mouse)}[Zi](){const t=this.startEvent,n=this.currentContainer,s=this.originalSource,i=new ol({clientX:t.clientX,clientY:t.clientY,target:t.target,container:n,originalSource:s,originalEvent:t});this.trigger(this.currentContainer,i),this.dragging=!i.canceled(),this.dragging&&(document.addEventListener("contextmenu",this[ks],!0),document.addEventListener("mousemove",this[Os]))}[mn](t){const{pageX:n,pageY:s}=t,{distance:i}=this.options,{startEvent:o,delay:r}=this;if(Object.assign(this,{pageX:n,pageY:s}),!this.currentContainer)return;const l=Date.now()-this.onMouseDownAt,a=Ch(o.pageX,o.pageY,n,s)||0;clearTimeout(this.mouseDownTimeout),l<r.mouse?document.removeEventListener("mousemove",this[mn]):a>=i&&(document.removeEventListener("mousemove",this[mn]),this[Zi]())}[Os](t){if(!this.dragging)return;const n=document.elementFromPoint(t.clientX,t.clientY),s=new rl({clientX:t.clientX,clientY:t.clientY,target:n,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,s)}[Ps](t){if(clearTimeout(this.mouseDownTimeout),t.button!==0||(document.removeEventListener("mouseup",this[Ps]),document.removeEventListener("dragstart",Nc),document.removeEventListener("mousemove",this[mn]),!this.dragging))return;const n=document.elementFromPoint(t.clientX,t.clientY),s=new al({clientX:t.clientX,clientY:t.clientY,target:n,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,s),document.removeEventListener("contextmenu",this[ks],!0),document.removeEventListener("mousemove",this[Os]),this.currentContainer=null,this.dragging=!1,this.startEvent=null}[ks](t){t.preventDefault()}}function Nc(e){e.preventDefault()}function Qn(e){const{touches:t,changedTouches:n}=e;return t&&t[0]||n&&n[0]}const $s=Symbol("onTouchStart"),In=Symbol("onTouchEnd"),Ls=Symbol("onTouchMove"),Qi=Symbol("startDrag"),gn=Symbol("onDistanceChange");let go=!1;window.addEventListener("touchmove",e=>{go&&e.preventDefault()},{passive:!1});class Pw extends Eh{constructor(t=[],n={}){super(t,n),this.currentScrollableParent=null,this.tapTimeout=null,this.touchMoved=!1,this.pageX=null,this.pageY=null,this[$s]=this[$s].bind(this),this[In]=this[In].bind(this),this[Ls]=this[Ls].bind(this),this[Qi]=this[Qi].bind(this),this[gn]=this[gn].bind(this)}attach(){document.addEventListener("touchstart",this[$s])}detach(){document.removeEventListener("touchstart",this[$s])}[$s](t){const n=gt(t.target,this.containers);if(!n||this.options.handle&&t.target&&!gt(t.target,this.options.handle))return;const s=gt(t.target,this.options.draggable);if(!s)return;const{distance:i=0}=this.options,{delay:o}=this,{pageX:r,pageY:l}=Qn(t);Object.assign(this,{pageX:r,pageY:l}),this.onTouchStartAt=Date.now(),this.startEvent=t,this.currentContainer=n,this.originalSource=s,document.addEventListener("touchend",this[In]),document.addEventListener("touchcancel",this[In]),document.addEventListener("touchmove",this[gn]),n.addEventListener("contextmenu",Hc),i&&(go=!0),this.tapTimeout=window.setTimeout(()=>{this[gn]({touches:[{pageX:this.pageX,pageY:this.pageY}]})},o.touch)}[Qi](){const t=this.startEvent,n=this.currentContainer,s=Qn(t),i=this.originalSource,o=new ol({clientX:s.pageX,clientY:s.pageY,target:t.target,container:n,originalSource:i,originalEvent:t});this.trigger(this.currentContainer,o),this.dragging=!o.canceled(),this.dragging&&document.addEventListener("touchmove",this[Ls]),go=this.dragging}[gn](t){const{distance:n}=this.options,{startEvent:s,delay:i}=this,o=Qn(s),r=Qn(t),l=Date.now()-this.onTouchStartAt,a=Ch(o.pageX,o.pageY,r.pageX,r.pageY);Object.assign(this,r),clearTimeout(this.tapTimeout),l<i.touch?document.removeEventListener("touchmove",this[gn]):a>=n&&(document.removeEventListener("touchmove",this[gn]),this[Qi]())}[Ls](t){if(!this.dragging)return;const{pageX:n,pageY:s}=Qn(t),i=document.elementFromPoint(n-window.scrollX,s-window.scrollY),o=new rl({clientX:n,clientY:s,target:i,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,o)}[In](t){if(clearTimeout(this.tapTimeout),go=!1,document.removeEventListener("touchend",this[In]),document.removeEventListener("touchcancel",this[In]),document.removeEventListener("touchmove",this[gn]),this.currentContainer&&this.currentContainer.removeEventListener("contextmenu",Hc),!this.dragging)return;document.removeEventListener("touchmove",this[Ls]);const{pageX:n,pageY:s}=Qn(t),i=document.elementFromPoint(n-window.scrollX,s-window.scrollY);t.preventDefault();const o=new al({clientX:n,clientY:s,target:i,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,o),this.currentContainer=null,this.dragging=!1,this.startEvent=null}}function Hc(e){e.preventDefault(),e.stopPropagation()}class ll extends Ot{constructor(t){super(t),this.data=t}get dragEvent(){return this.data.dragEvent}}ll.type="collidable";class $w extends ll{get collidingElement(){return this.data.collidingElement}}$w.type="collidable:in";class Lw extends ll{get collidingElement(){return this.data.collidingElement}}Lw.type="collidable:out";function Mh(e,t){return function(n){Dw(t,"addInitializer"),vo(n,"An initializer"),e.push(n)}}function Hr(e,t){if(!e(t))throw new TypeError("Attempted to access private element on non-instance")}function Iw(e,t,n,s,i,o,r,l,a,c,u){var d;switch(o){case 1:d="accessor";break;case 2:d="method";break;case 3:d="getter";break;case 4:d="setter";break;default:d="field"}var h,f,p={kind:d,name:l?"#"+n:n,static:r,private:l,metadata:u},m={v:!1};if(o!==0&&(p.addInitializer=Mh(i,m)),l||o!==0&&o!==2)if(o===2)h=function(S){return Hr(c,S),s.value};else{var b=o===0||o===1;(b||o===3)&&(h=l?function(S){return Hr(c,S),s.get.call(S)}:function(S){return s.get.call(S)}),(b||o===4)&&(f=l?function(S,E){Hr(c,S),s.set.call(S,E)}:function(S,E){s.set.call(S,E)})}else h=function(S){return S[n]},o===0&&(f=function(S,E){S[n]=E});var y=l?c.bind():function(S){return n in S};p.access=h&&f?{get:h,set:f,has:y}:h?{get:h,has:y}:{set:f,has:y};try{return e.call(t,a,p)}finally{m.v=!0}}function Dw(e,t){if(e.v)throw new Error("attempted to call "+t+" after decoration was finished")}function vo(e,t){if(typeof e!="function")throw new TypeError(t+" must be a function")}function Ah(e,t){var n=typeof t;if(e===1){if(n!=="object"||t===null)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0");t.get!==void 0&&vo(t.get,"accessor.get"),t.set!==void 0&&vo(t.set,"accessor.set"),t.init!==void 0&&vo(t.init,"accessor.init")}else if(n!=="function"){var s;throw s=e===0?"field":e===5?"class":"method",new TypeError(s+" decorators must return a function or void 0")}}function zw(e){return function(){return e(this)}}function jw(e){return function(t){e(this,t)}}function Bw(e,t,n,s,i,o,r,l,a,c,u){var d,h,f,p,m,b,y=n[0];s||Array.isArray(y)||(y=[y]),l?d=o===0||o===1?{get:zw(n[3]),set:jw(n[4])}:o===3?{get:n[3]}:o===4?{set:n[3]}:{value:n[3]}:o!==0&&(d=Object.getOwnPropertyDescriptor(t,i)),o===1?f={get:d.get,set:d.set}:o===2?f=d.value:o===3?f=d.get:o===4&&(f=d.set);for(var S=s?2:1,E=y.length-1;E>=0;E-=S){var M;(p=Iw(y[E],s?y[E-1]:void 0,i,d,a,o,r,l,f,c,u))!==void 0&&(Ah(o,p),o===0?M=p:o===1?(M=p.init,m=p.get||f.get,b=p.set||f.set,f={get:m,set:b}):f=p,M!==void 0&&(h===void 0?h=M:typeof h=="function"?h=[h,M]:h.push(M)))}if(o===0||o===1){if(h===void 0)h=function(z,j){return j};else if(typeof h!="function"){var P=h;h=function(z,j){for(var $=j,Z=P.length-1;Z>=0;Z--)$=P[Z].call(z,$);return $}}else{var H=h;h=function(z,j){return H.call(z,j)}}e.push(h)}o!==0&&(o===1?(d.get=f.get,d.set=f.set):o===2?d.value=f:o===3?d.get=f:o===4&&(d.set=f),l?o===1?(e.push(function(z,j){return f.get.call(z,j)}),e.push(function(z,j){return f.set.call(z,j)})):o===2?e.push(f):e.push(function(z,j){return f.call(z,j)}):Object.defineProperty(t,i,d))}function Nw(e,t,n,s){for(var i,o,r,l=[],a=new Map,c=new Map,u=0;u<t.length;u++){var d=t[u];if(Array.isArray(d)){var h,f,p=d[1],m=d[2],b=d.length>3,y=16&p,S=!!(8&p),E=n;if(p&=7,S?(h=e,p!==0&&(f=o=o||[]),b&&!r&&(r=function(H){return Fw(H)===e}),E=r):(h=e.prototype,p!==0&&(f=i=i||[])),p!==0&&!b){var M=S?c:a,P=M.get(m)||0;if(P===!0||P===3&&p!==4||P===4&&p!==3)throw new Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+m);M.set(m,!(!P&&p>2)||p)}Bw(l,h,d,y,m,p,S,b,f,E,s)}}return Fc(l,i),Fc(l,o),l}function Fc(e,t){t&&e.push(function(n){for(var s=0;s<t.length;s++)t[s].call(n);return n})}function Hw(e,t,n,s){if(t.length){for(var i=[],o=e,r=e.name,l=1,a=t.length-1;a>=0;a-=l){var c={v:!1};try{var u=t[a].call(n?t[a-1]:void 0,o,{kind:"class",name:r,addInitializer:Mh(i,c),metadata:s})}finally{c.v=!0}u!==void 0&&(Ah(5,u),o=u)}return[Th(o,s),function(){for(var d=0;d<i.length;d++)i[d].call(o)}]}}function Th(e,t){return Object.defineProperty(e,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:t})}function kh(e,t,n,s,i,o){if(arguments.length>=6)var r=o[Symbol.metadata||Symbol.for("Symbol.metadata")];var l=Object.create(r===void 0?null:r),a=Nw(e,t,i,l);return n.length||Th(e,l),{e:a,get c(){return Hw(e,n,s,l)}}}function Fw(e){if(Object(e)!==e)throw TypeError("right-hand side of 'in' should be an object, got "+(e!==null?typeof e:"null"));return e}function bo(e,{name:t,addInitializer:n}){n(function(){this[t]=e.bind(this)})}function Ww(e){return requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Xt=class extends Ot{constructor(t){super(t),this.data=t}get source(){return this.data.source}get originalSource(){return this.data.originalSource}get mirror(){return this.data.mirror}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}};Xt.type="drag";class cl extends Xt{}cl.type="drag:start";cl.cancelable=!0;class Rh extends Xt{}Rh.type="drag:move";class cr extends Xt{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}cr.type="drag:over";cr.cancelable=!0;function Vw(e){return e.type===cr.type}class Oh extends Xt{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}Oh.type="drag:out";class Ph extends Xt{get overContainer(){return this.data.overContainer}}Ph.type="drag:over:container";class $h extends Xt{get overContainer(){return this.data.overContainer}}$h.type="drag:out:container";class Lh extends Xt{get pressure(){return this.data.pressure}}Lh.type="drag:pressure";class ul extends Xt{}ul.type="drag:stop";ul.cancelable=!0;class Ih extends Xt{}Ih.type="drag:stopped";var Dh,zh;class Uw extends un{constructor(t){Dh(super(t)),this.lastWidth=0,this.lastHeight=0,this.mirror=null}attach(){this.draggable.on("mirror:created",this.onMirrorCreated).on("drag:over",this.onDragOver).on("drag:over:container",this.onDragOver)}detach(){this.draggable.off("mirror:created",this.onMirrorCreated).off("mirror:destroy",this.onMirrorDestroy).off("drag:over",this.onDragOver).off("drag:over:container",this.onDragOver)}getOptions(){return this.draggable.options.resizeMirror||{}}onMirrorCreated({mirror:t}){this.mirror=t}onMirrorDestroy(){this.mirror=null}onDragOver(t){this.resize(t)}resize(t){requestAnimationFrame(()=>{let n=null;const{overContainer:s}=t;if(this.mirror==null||this.mirror.parentNode==null)return;this.mirror.parentNode!==s&&s.appendChild(this.mirror),Vw(t)&&(n=t.over);const i=n||this.draggable.getDraggableElementsForContainer(s)[0];i&&Ww(()=>{const o=i.getBoundingClientRect();this.mirror==null||this.lastHeight===o.height&&this.lastWidth===o.width||(this.mirror.style.width=`${o.width}px`,this.mirror.style.height=`${o.height}px`,this.lastWidth=o.width,this.lastHeight=o.height)})})}}zh=Uw;[Dh]=kh(zh,[[bo,2,"onMirrorCreated"],[bo,2,"onMirrorDestroy"],[bo,2,"onDragOver"]],[],0,void 0,un).e;class dl extends Ot{get dragEvent(){return this.data.dragEvent}get snappable(){return this.data.snappable}}dl.type="snap";class jh extends dl{}jh.type="snap:in";jh.cancelable=!0;class Bh extends dl{}Bh.type="snap:out";Bh.cancelable=!0;var Nh,Hh;const Yw={duration:150,easingFunction:"ease-in-out",horizontal:!1};class Xw extends un{constructor(t){Nh(super(t)),this.options={...Yw,...this.getOptions()},this.lastAnimationFrame=null}attach(){this.draggable.on("sortable:sorted",this.onSortableSorted)}detach(){this.draggable.off("sortable:sorted",this.onSortableSorted)}getOptions(){return this.draggable.options.swapAnimation||{}}onSortableSorted({oldIndex:t,newIndex:n,dragEvent:s}){const{source:i,over:o}=s;this.lastAnimationFrame&&cancelAnimationFrame(this.lastAnimationFrame),this.lastAnimationFrame=requestAnimationFrame(()=>{t>=n?Wc(i,o,this.options):Wc(o,i,this.options)})}}Hh=Xw;[Nh]=kh(Hh,[[bo,2,"onSortableSorted"]],[],0,void 0,un).e;function Wc(e,t,{duration:n,easingFunction:s,horizontal:i}){for(const o of[e,t])o.style.pointerEvents="none";if(i){const o=e.offsetWidth;e.style.transform=`translate3d(${o}px, 0, 0)`,t.style.transform=`translate3d(-${o}px, 0, 0)`}else{const o=e.offsetHeight;e.style.transform=`translate3d(0, ${o}px, 0)`,t.style.transform=`translate3d(0, -${o}px, 0)`}requestAnimationFrame(()=>{for(const o of[e,t])o.addEventListener("transitionend",Fh),o.style.transition=`transform ${n}ms ${s}`,o.style.transform=""})}function Fh(e){e.target==null||!Kw(e.target)||(e.target.style.transition="",e.target.style.pointerEvents="",e.target.removeEventListener("transitionend",Fh))}function Kw(e){return"style"in e}const Is=Symbol("onSortableSorted"),Ds=Symbol("onSortableSort"),qw={duration:150,easingFunction:"ease-in-out"};class Gw extends un{constructor(t){super(t),this.options={...qw,...this.getOptions()},this.lastAnimationFrame=null,this.lastElements=[],this[Is]=this[Is].bind(this),this[Ds]=this[Ds].bind(this)}attach(){this.draggable.on("sortable:sort",this[Ds]),this.draggable.on("sortable:sorted",this[Is])}detach(){this.draggable.off("sortable:sort",this[Ds]),this.draggable.off("sortable:sorted",this[Is])}getOptions(){return this.draggable.options.sortAnimation||{}}[Ds]({dragEvent:t}){const{sourceContainer:n}=t,s=this.draggable.getDraggableElementsForContainer(n);this.lastElements=Array.from(s).map(i=>({domEl:i,offsetTop:i.offsetTop,offsetLeft:i.offsetLeft}))}[Is]({oldIndex:t,newIndex:n}){if(t===n)return;const s=[];let i,o,r;t>n?(i=n,o=t-1,r=1):(i=t+1,o=n,r=-1);for(let l=i;l<=o;l++){const a=this.lastElements[l],c=this.lastElements[l+r];s.push({from:a,to:c})}cancelAnimationFrame(this.lastAnimationFrame),this.lastAnimationFrame=requestAnimationFrame(()=>{s.forEach(l=>Jw(l,this.options))})}}function Jw({from:e,to:t},{duration:n,easingFunction:s}){const i=e.domEl,o=e.offsetLeft-t.offsetLeft,r=e.offsetTop-t.offsetTop;i.style.pointerEvents="none",i.style.transform=`translate3d(${o}px, ${r}px, 0)`,requestAnimationFrame(()=>{i.addEventListener("transitionend",Wh),i.style.transition=`transform ${n}ms ${s}`,i.style.transform=""})}function Wh(e){e.target.style.transition="",e.target.style.pointerEvents="",e.target.removeEventListener("transitionend",Wh)}const eo=Symbol("onInitialize"),to=Symbol("onDestroy"),Vc=Symbol("announceEvent"),Fr=Symbol("announceMessage"),Zw="aria-relevant",Qw="aria-atomic",e_="aria-live",t_="role",n_={expire:7e3};class s_ extends un{constructor(t){super(t),this.options={...n_,...this.getOptions()},this.originalTriggerMethod=this.draggable.trigger,this[eo]=this[eo].bind(this),this[to]=this[to].bind(this)}attach(){this.draggable.on("draggable:initialize",this[eo])}detach(){this.draggable.off("draggable:destroy",this[to])}getOptions(){return this.draggable.options.announcements||{}}[Vc](t){const n=this.options[t.type];n&&typeof n=="string"&&this[Fr](n),n&&typeof n=="function"&&this[Fr](n(t))}[Fr](t){i_(t,{expire:this.options.expire})}[eo](){this.draggable.trigger=t=>{try{this[Vc](t)}finally{this.originalTriggerMethod.call(this.draggable,t)}}}[to](){this.draggable.trigger=this.originalTriggerMethod}}const va=o_();function i_(e,{expire:t}){const n=document.createElement("div");return n.textContent=e,va.appendChild(n),setTimeout(()=>{va.removeChild(n)},t)}function o_(){const e=document.createElement("div");return e.setAttribute("id","draggable-live-region"),e.setAttribute(Zw,"additions"),e.setAttribute(Qw,"true"),e.setAttribute(e_,"assertive"),e.setAttribute(t_,"log"),e.style.position="fixed",e.style.width="1px",e.style.height="1px",e.style.top="-1px",e.style.overflow="hidden",e}document.addEventListener("DOMContentLoaded",()=>{document.body.appendChild(va)});const zs=Symbol("onInitialize"),es=Symbol("onDestroy"),r_={};class a_ extends un{constructor(t){super(t),this.options={...r_,...this.getOptions()},this[zs]=this[zs].bind(this),this[es]=this[es].bind(this)}attach(){this.draggable.on("draggable:initialize",this[zs]).on("draggable:destroy",this[es])}detach(){this.draggable.off("draggable:initialize",this[zs]).off("draggable:destroy",this[es]),this[es]()}getOptions(){return this.draggable.options.focusable||{}}getElements(){return[...this.draggable.containers,...this.draggable.getDraggableElements()]}[zs](){requestAnimationFrame(()=>{this.getElements().forEach(t=>l_(t))})}[es](){requestAnimationFrame(()=>{this.getElements().forEach(t=>c_(t))})}}const ba=[];function l_(e){!e.getAttribute("tabindex")&&e.tabIndex===-1&&(ba.push(e),e.tabIndex=0)}function c_(e){const t=ba.indexOf(e);t!==-1&&(e.tabIndex=-1,ba.splice(t,1))}class Ss extends Ot{constructor(t){super(t),this.data=t}get source(){return this.data.source}get originalSource(){return this.data.originalSource}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get dragEvent(){return this.data.dragEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}class Vh extends Ss{}Vh.type="mirror:create";class Uh extends Ss{get mirror(){return this.data.mirror}}Uh.type="mirror:created";class Yh extends Ss{get mirror(){return this.data.mirror}}Yh.type="mirror:attached";class hl extends Ss{get mirror(){return this.data.mirror}get passedThreshX(){return this.data.passedThreshX}get passedThreshY(){return this.data.passedThreshY}}hl.type="mirror:move";hl.cancelable=!0;class Xh extends Ss{get mirror(){return this.data.mirror}get passedThreshX(){return this.data.passedThreshX}get passedThreshY(){return this.data.passedThreshY}}Xh.type="mirror:moved";class fl extends Ss{get mirror(){return this.data.mirror}}fl.type="mirror:destroy";fl.cancelable=!0;const js=Symbol("onDragStart"),Bs=Symbol("onDragMove"),Ns=Symbol("onDragStop"),Hs=Symbol("onMirrorCreated"),Fs=Symbol("onMirrorMove"),Ws=Symbol("onScroll"),Uc=Symbol("getAppendableContainer"),u_={constrainDimensions:!1,xAxis:!0,yAxis:!0,cursorOffsetX:null,cursorOffsetY:null,thresholdX:null,thresholdY:null};class d_ extends un{constructor(t){super(t),this.options={...u_,...this.getOptions()},this.scrollOffset={x:0,y:0},this.initialScrollOffset={x:window.scrollX,y:window.scrollY},this[js]=this[js].bind(this),this[Bs]=this[Bs].bind(this),this[Ns]=this[Ns].bind(this),this[Hs]=this[Hs].bind(this),this[Fs]=this[Fs].bind(this),this[Ws]=this[Ws].bind(this)}attach(){this.draggable.on("drag:start",this[js]).on("drag:move",this[Bs]).on("drag:stop",this[Ns]).on("mirror:created",this[Hs]).on("mirror:move",this[Fs])}detach(){this.draggable.off("drag:start",this[js]).off("drag:move",this[Bs]).off("drag:stop",this[Ns]).off("mirror:created",this[Hs]).off("mirror:move",this[Fs])}getOptions(){return this.draggable.options.mirror||{}}[js](t){if(t.canceled())return;"ontouchstart"in window&&document.addEventListener("scroll",this[Ws],!0),this.initialScrollOffset={x:window.scrollX,y:window.scrollY};const{source:n,originalSource:s,sourceContainer:i,sensorEvent:o}=t;this.lastMirrorMovedClient={x:o.clientX,y:o.clientY};const r=new Vh({source:n,originalSource:s,sourceContainer:i,sensorEvent:o,dragEvent:t});if(this.draggable.trigger(r),v_(o)||r.canceled())return;const l=this[Uc](n)||i;this.mirror=n.cloneNode(!0);const a=new Uh({source:n,originalSource:s,sourceContainer:i,sensorEvent:o,dragEvent:t,mirror:this.mirror}),c=new Yh({source:n,originalSource:s,sourceContainer:i,sensorEvent:o,dragEvent:t,mirror:this.mirror});this.draggable.trigger(a),l.appendChild(this.mirror),this.draggable.trigger(c)}[Bs](t){if(!this.mirror||t.canceled())return;const{source:n,originalSource:s,sourceContainer:i,sensorEvent:o}=t;let r=!0,l=!0;if(this.options.thresholdX||this.options.thresholdY){const{x:c,y:u}=this.lastMirrorMovedClient;if(Math.abs(c-o.clientX)<this.options.thresholdX?r=!1:this.lastMirrorMovedClient.x=o.clientX,Math.abs(u-o.clientY)<this.options.thresholdY?l=!1:this.lastMirrorMovedClient.y=o.clientY,!r&&!l)return}const a=new hl({source:n,originalSource:s,sourceContainer:i,sensorEvent:o,dragEvent:t,mirror:this.mirror,passedThreshX:r,passedThreshY:l});this.draggable.trigger(a)}[Ns](t){if("ontouchstart"in window&&document.removeEventListener("scroll",this[Ws],!0),this.initialScrollOffset={x:0,y:0},this.scrollOffset={x:0,y:0},!this.mirror)return;const{source:n,sourceContainer:s,sensorEvent:i}=t,o=new fl({source:n,mirror:this.mirror,sourceContainer:s,sensorEvent:i,dragEvent:t});this.draggable.trigger(o),o.canceled()||this.mirror.remove()}[Ws](){this.scrollOffset={x:window.scrollX-this.initialScrollOffset.x,y:window.scrollY-this.initialScrollOffset.y}}[Hs]({mirror:t,source:n,sensorEvent:s}){const i=this.draggable.getClassNamesFor("mirror"),o=({mirrorOffset:l,initialX:a,initialY:c,...u})=>(this.mirrorOffset=l,this.initialX=a,this.initialY=c,this.lastMovedX=a,this.lastMovedY=c,{mirrorOffset:l,initialX:a,initialY:c,...u});t.style.display="none";const r={mirror:t,source:n,sensorEvent:s,mirrorClasses:i,scrollOffset:this.scrollOffset,options:this.options,passedThreshX:!0,passedThreshY:!0};return Promise.resolve(r).then(h_).then(f_).then(p_).then(m_).then(Yc({initial:!0})).then(g_).then(o)}[Fs](t){if(t.canceled())return null;const n=({lastMovedX:o,lastMovedY:r,...l})=>(this.lastMovedX=o,this.lastMovedY=r,{lastMovedX:o,lastMovedY:r,...l}),s=o=>{const r=new Xh({source:t.source,originalSource:t.originalSource,sourceContainer:t.sourceContainer,sensorEvent:t.sensorEvent,dragEvent:t.dragEvent,mirror:this.mirror,passedThreshX:t.passedThreshX,passedThreshY:t.passedThreshY});return this.draggable.trigger(r),o},i={mirror:t.mirror,sensorEvent:t.sensorEvent,mirrorOffset:this.mirrorOffset,options:this.options,initialX:this.initialX,initialY:this.initialY,scrollOffset:this.scrollOffset,passedThreshX:t.passedThreshX,passedThreshY:t.passedThreshY,lastMovedX:this.lastMovedX,lastMovedY:this.lastMovedY};return Promise.resolve(i).then(Yc({})).then(n).then(s)}[Uc](t){const n=this.options.appendTo;return typeof n=="string"?document.querySelector(n):n instanceof HTMLElement?n:typeof n=="function"?n(t):t.parentNode}}function h_({source:e,...t}){return xs(n=>{const s=e.getBoundingClientRect();n({source:e,sourceRect:s,...t})})}function f_({sensorEvent:e,sourceRect:t,options:n,...s}){return xs(i=>{const o=n.cursorOffsetY===null?e.clientY-t.top:n.cursorOffsetY,r=n.cursorOffsetX===null?e.clientX-t.left:n.cursorOffsetX;i({sensorEvent:e,sourceRect:t,mirrorOffset:{top:o,left:r},options:n,...s})})}function p_({mirror:e,source:t,options:n,...s}){return xs(i=>{let o,r;if(n.constrainDimensions){const l=getComputedStyle(t);o=l.getPropertyValue("height"),r=l.getPropertyValue("width")}e.style.display=null,e.style.position="fixed",e.style.pointerEvents="none",e.style.top=0,e.style.left=0,e.style.margin=0,n.constrainDimensions&&(e.style.height=o,e.style.width=r),i({mirror:e,source:t,options:n,...s})})}function m_({mirror:e,mirrorClasses:t,...n}){return xs(s=>{e.classList.add(...t),s({mirror:e,mirrorClasses:t,...n})})}function g_({mirror:e,...t}){return xs(n=>{e.removeAttribute("id"),delete e.id,n({mirror:e,...t})})}function Yc({withFrame:e=!1,initial:t=!1}={}){return({mirror:n,sensorEvent:s,mirrorOffset:i,initialY:o,initialX:r,scrollOffset:l,options:a,passedThreshX:c,passedThreshY:u,lastMovedX:d,lastMovedY:h,...f})=>xs(p=>{const m={mirror:n,sensorEvent:s,mirrorOffset:i,options:a,...f};if(i){const b=c?Math.round((s.clientX-i.left-l.x)/(a.thresholdX||1))*(a.thresholdX||1):Math.round(d),y=u?Math.round((s.clientY-i.top-l.y)/(a.thresholdY||1))*(a.thresholdY||1):Math.round(h);a.xAxis&&a.yAxis||t?n.style.transform=`translate3d(${b}px, ${y}px, 0)`:a.xAxis&&!a.yAxis?n.style.transform=`translate3d(${b}px, ${o}px, 0)`:a.yAxis&&!a.xAxis&&(n.style.transform=`translate3d(${r}px, ${y}px, 0)`),t&&(m.initialX=b,m.initialY=y),m.lastMovedX=b,m.lastMovedY=y}p(m)},{})}function xs(e,{raf:t=!1}={}){return new Promise((n,s)=>{t?requestAnimationFrame(()=>{e(n,s)}):e(n,s)})}function v_(e){return/^drag/.test(e.originalEvent.type)}const Vs=Symbol("onDragStart"),Us=Symbol("onDragMove"),Ys=Symbol("onDragStop"),Xs=Symbol("scroll"),b_={speed:6,sensitivity:50,scrollableElements:[]};class y_ extends un{constructor(t){super(t),this.options={...b_,...this.getOptions()},this.currentMousePosition=null,this.scrollAnimationFrame=null,this.scrollableElement=null,this.findScrollableElementFrame=null,this[Vs]=this[Vs].bind(this),this[Us]=this[Us].bind(this),this[Ys]=this[Ys].bind(this),this[Xs]=this[Xs].bind(this)}attach(){this.draggable.on("drag:start",this[Vs]).on("drag:move",this[Us]).on("drag:stop",this[Ys])}detach(){this.draggable.off("drag:start",this[Vs]).off("drag:move",this[Us]).off("drag:stop",this[Ys])}getOptions(){return this.draggable.options.scrollable||{}}getScrollableElement(t){return this.hasDefinedScrollableElements()?gt(t,this.options.scrollableElements)||document.documentElement:S_(t)}hasDefinedScrollableElements(){return this.options.scrollableElements.length!==0}[Vs](t){this.findScrollableElementFrame=requestAnimationFrame(()=>{this.scrollableElement=this.getScrollableElement(t.source)})}[Us](t){if(this.findScrollableElementFrame=requestAnimationFrame(()=>{this.scrollableElement=this.getScrollableElement(t.sensorEvent.target)}),!this.scrollableElement)return;const n=t.sensorEvent,s={x:0,y:0};"ontouchstart"in window&&(s.y=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,s.x=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),this.currentMousePosition={clientX:n.clientX-s.x,clientY:n.clientY-s.y},this.scrollAnimationFrame=requestAnimationFrame(this[Xs])}[Ys](){cancelAnimationFrame(this.scrollAnimationFrame),cancelAnimationFrame(this.findScrollableElementFrame),this.scrollableElement=null,this.scrollAnimationFrame=null,this.findScrollableElementFrame=null,this.currentMousePosition=null}[Xs](){if(!this.scrollableElement||!this.currentMousePosition)return;cancelAnimationFrame(this.scrollAnimationFrame);const{speed:t,sensitivity:n}=this.options,s=this.scrollableElement.getBoundingClientRect(),i=s.bottom>window.innerHeight,r=s.top<0||i,l=ya(),a=this.scrollableElement,c=this.currentMousePosition.clientX,u=this.currentMousePosition.clientY;if(a!==document.body&&a!==document.documentElement&&!r){const{offsetHeight:d,offsetWidth:h}=a;s.top+d-u<n?a.scrollTop+=t:u-s.top<n&&(a.scrollTop-=t),s.left+h-c<n?a.scrollLeft+=t:c-s.left<n&&(a.scrollLeft-=t)}else{const{innerHeight:d,innerWidth:h}=window;u<n?l.scrollTop-=t:d-u<n&&(l.scrollTop+=t),c<n?l.scrollLeft-=t:h-c<n&&(l.scrollLeft+=t)}this.scrollAnimationFrame=requestAnimationFrame(this[Xs])}}function w_(e){const t=/(auto|scroll)/,n=getComputedStyle(e,null),s=n.getPropertyValue("overflow")+n.getPropertyValue("overflow-y")+n.getPropertyValue("overflow-x");return t.test(s)}function __(e){return getComputedStyle(e).getPropertyValue("position")==="static"}function S_(e){if(!e)return ya();const t=getComputedStyle(e).getPropertyValue("position"),n=t==="absolute",s=gt(e,i=>n&&__(i)?!1:w_(i));return t==="fixed"||!s?ya():s}function ya(){return document.scrollingElement||document.documentElement}class x_{constructor(){this.callbacks={}}on(t,...n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(...n),this}off(t,n){if(!this.callbacks[t])return null;const s=this.callbacks[t].slice(0);for(let i=0;i<s.length;i++)n===s[i]&&this.callbacks[t].splice(i,1);return this}trigger(t){if(!this.callbacks[t.type])return null;const n=[...this.callbacks[t.type]],s=[];for(let i=n.length-1;i>=0;i--){const o=n[i];try{o(t)}catch(r){s.push(r)}}return s.length&&console.error(`Draggable caught errors while triggering '${t.type}'`,s),this}}class pl extends Ot{get draggable(){return this.data.draggable}}pl.type="draggable";class Kh extends pl{}Kh.type="draggable:initialize";class qh extends pl{}qh.type="draggable:destroy";const Ks=Symbol("onDragStart"),ts=Symbol("onDragMove"),qs=Symbol("onDragStop"),Gs=Symbol("onDragPressure"),Js=Symbol("dragStop"),E_={"drag:start":e=>`Picked up ${e.source.textContent.trim()||e.source.id||"draggable element"}`,"drag:stop":e=>`Released ${e.source.textContent.trim()||e.source.id||"draggable element"}`},C_={"container:dragging":"draggable-container--is-dragging","source:dragging":"draggable-source--is-dragging","source:placed":"draggable-source--placed","container:placed":"draggable-container--placed","body:dragging":"draggable--is-dragging","draggable:over":"draggable--over","container:over":"draggable-container--over","source:original":"draggable--original",mirror:"draggable-mirror"},M_={draggable:".draggable-source",handle:null,delay:{},distance:0,placedTimeout:800,plugins:[],sensors:[],exclude:{plugins:[],sensors:[]}};class bs{constructor(t=[document.body],n={}){if(t instanceof NodeList||t instanceof Array)this.containers=[...t];else if(t instanceof HTMLElement)this.containers=[t];else throw new Error("Draggable containers are expected to be of type `NodeList`, `HTMLElement[]` or `HTMLElement`");this.options={...M_,...n,classes:{...C_,...n.classes||{}},announcements:{...E_,...n.announcements||{}},exclude:{plugins:n.exclude&&n.exclude.plugins||[],sensors:n.exclude&&n.exclude.sensors||[]}},this.emitter=new x_,this.dragging=!1,this.plugins=[],this.sensors=[],this[Ks]=this[Ks].bind(this),this[ts]=this[ts].bind(this),this[qs]=this[qs].bind(this),this[Gs]=this[Gs].bind(this),this[Js]=this[Js].bind(this),document.addEventListener("drag:start",this[Ks],!0),document.addEventListener("drag:move",this[ts],!0),document.addEventListener("drag:stop",this[qs],!0),document.addEventListener("drag:pressure",this[Gs],!0);const s=Object.values(bs.Plugins).filter(r=>!this.options.exclude.plugins.includes(r)),i=Object.values(bs.Sensors).filter(r=>!this.options.exclude.sensors.includes(r));this.addPlugin(...s,...this.options.plugins),this.addSensor(...i,...this.options.sensors);const o=new Kh({draggable:this});this.on("mirror:created",({mirror:r})=>this.mirror=r),this.on("mirror:destroy",()=>this.mirror=null),this.trigger(o)}destroy(){document.removeEventListener("drag:start",this[Ks],!0),document.removeEventListener("drag:move",this[ts],!0),document.removeEventListener("drag:stop",this[qs],!0),document.removeEventListener("drag:pressure",this[Gs],!0);const t=new qh({draggable:this});this.trigger(t),this.removePlugin(...this.plugins.map(n=>n.constructor)),this.removeSensor(...this.sensors.map(n=>n.constructor))}addPlugin(...t){const n=t.map(s=>new s(this));return n.forEach(s=>s.attach()),this.plugins=[...this.plugins,...n],this}removePlugin(...t){return this.plugins.filter(s=>t.includes(s.constructor)).forEach(s=>s.detach()),this.plugins=this.plugins.filter(s=>!t.includes(s.constructor)),this}addSensor(...t){const n=t.map(s=>new s(this.containers,this.options));return n.forEach(s=>s.attach()),this.sensors=[...this.sensors,...n],this}removeSensor(...t){return this.sensors.filter(s=>t.includes(s.constructor)).forEach(s=>s.detach()),this.sensors=this.sensors.filter(s=>!t.includes(s.constructor)),this}addContainer(...t){return this.containers=[...this.containers,...t],this.sensors.forEach(n=>n.addContainer(...t)),this}removeContainer(...t){return this.containers=this.containers.filter(n=>!t.includes(n)),this.sensors.forEach(n=>n.removeContainer(...t)),this}on(t,...n){return this.emitter.on(t,...n),this}off(t,n){return this.emitter.off(t,n),this}trigger(t){return this.emitter.trigger(t),this}getClassNameFor(t){return this.getClassNamesFor(t)[0]}getClassNamesFor(t){const n=this.options.classes[t];return n instanceof Array?n:typeof n=="string"||n instanceof String?[n]:[]}isDragging(){return!!this.dragging}getDraggableElements(){return this.containers.reduce((t,n)=>[...t,...this.getDraggableElementsForContainer(n)],[])}getDraggableElementsForContainer(t){return[...t.querySelectorAll(this.options.draggable)].filter(s=>s!==this.originalSource&&s!==this.mirror)}cancel(){this[Js]()}[Ks](t){const n=no(t),{target:s,container:i,originalSource:o}=n;if(!this.containers.includes(i))return;if(this.options.handle&&s&&!gt(s,this.options.handle)){n.cancel();return}this.originalSource=o,this.sourceContainer=i,this.lastPlacedSource&&this.lastPlacedContainer&&(clearTimeout(this.placedTimeoutID),this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed")),this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed"))),this.source=this.originalSource.cloneNode(!0),this.originalSource.parentNode.insertBefore(this.source,this.originalSource),this.originalSource.style.display="none";const r=new cl({source:this.source,originalSource:this.originalSource,sourceContainer:i,sensorEvent:n});if(this.trigger(r),this.dragging=!r.canceled(),r.canceled()){this.source.remove(),this.originalSource.style.display=null;return}this.originalSource.classList.add(...this.getClassNamesFor("source:original")),this.source.classList.add(...this.getClassNamesFor("source:dragging")),this.sourceContainer.classList.add(...this.getClassNamesFor("container:dragging")),document.body.classList.add(...this.getClassNamesFor("body:dragging")),Xc(document.body,"none"),requestAnimationFrame(()=>{const a=no(t).clone({target:this.source});this[ts]({...t,detail:a})})}[ts](t){if(!this.dragging)return;const n=no(t),{container:s}=n;let i=n.target;const o=new Rh({source:this.source,originalSource:this.originalSource,sourceContainer:s,sensorEvent:n});this.trigger(o),o.canceled()&&n.cancel(),i=gt(i,this.options.draggable);const r=gt(n.target,this.containers),l=n.overContainer||r,a=this.currentOverContainer&&l!==this.currentOverContainer,c=this.currentOver&&i!==this.currentOver,u=l&&this.currentOverContainer!==l,d=r&&i&&this.currentOver!==i;if(c){const h=new Oh({source:this.source,originalSource:this.originalSource,sourceContainer:s,sensorEvent:n,over:this.currentOver,overContainer:this.currentOverContainer});this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over")),this.currentOver=null,this.trigger(h)}if(a){const h=new $h({source:this.source,originalSource:this.originalSource,sourceContainer:s,sensorEvent:n,overContainer:this.currentOverContainer});this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over")),this.currentOverContainer=null,this.trigger(h)}if(u){l.classList.add(...this.getClassNamesFor("container:over"));const h=new Ph({source:this.source,originalSource:this.originalSource,sourceContainer:s,sensorEvent:n,overContainer:l});this.currentOverContainer=l,this.trigger(h)}if(d){i.classList.add(...this.getClassNamesFor("draggable:over"));const h=new cr({source:this.source,originalSource:this.originalSource,sourceContainer:s,sensorEvent:n,overContainer:l,over:i});this.currentOver=i,this.trigger(h)}}[Js](t){if(!this.dragging)return;this.dragging=!1;const n=new ul({source:this.source,originalSource:this.originalSource,sensorEvent:t?t.sensorEvent:null,sourceContainer:this.sourceContainer});this.trigger(n),n.canceled()||this.source.parentNode.insertBefore(this.originalSource,this.source),this.source.remove(),this.originalSource.style.display="",this.source.classList.remove(...this.getClassNamesFor("source:dragging")),this.originalSource.classList.remove(...this.getClassNamesFor("source:original")),this.originalSource.classList.add(...this.getClassNamesFor("source:placed")),this.sourceContainer.classList.add(...this.getClassNamesFor("container:placed")),this.sourceContainer.classList.remove(...this.getClassNamesFor("container:dragging")),document.body.classList.remove(...this.getClassNamesFor("body:dragging")),Xc(document.body,""),this.currentOver&&this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over")),this.currentOverContainer&&this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over")),this.lastPlacedSource=this.originalSource,this.lastPlacedContainer=this.sourceContainer,this.placedTimeoutID=setTimeout(()=>{this.lastPlacedSource&&this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed")),this.lastPlacedContainer&&this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed")),this.lastPlacedSource=null,this.lastPlacedContainer=null},this.options.placedTimeout);const s=new Ih({source:this.source,originalSource:this.originalSource,sensorEvent:t?t.sensorEvent:null,sourceContainer:this.sourceContainer});this.trigger(s),this.source=null,this.originalSource=null,this.currentOverContainer=null,this.currentOver=null,this.sourceContainer=null}[qs](t){this[Js](t)}[Gs](t){if(!this.dragging)return;const n=no(t),s=this.source||gt(n.originalEvent.target,this.options.draggable),i=new Lh({sensorEvent:n,source:s,pressure:n.pressure});this.trigger(i)}}bs.Plugins={Announcement:s_,Focusable:a_,Mirror:d_,Scrollable:y_};bs.Sensors={MouseSensor:Ow,TouchSensor:Pw};function no(e){return e.detail}function Xc(e,t){e.style.webkitUserSelect=t,e.style.mozUserSelect=t,e.style.msUserSelect=t,e.style.oUserSelect=t,e.style.userSelect=t}class zi extends Ot{constructor(t){super(t),this.data=t}get dragEvent(){return this.data.dragEvent}}zi.type="droppable";class Gh extends zi{get dropzone(){return this.data.dropzone}}Gh.type="droppable:start";Gh.cancelable=!0;class Jh extends zi{get dropzone(){return this.data.dropzone}}Jh.type="droppable:dropped";Jh.cancelable=!0;class Zh extends zi{get dropzone(){return this.data.dropzone}}Zh.type="droppable:returned";Zh.cancelable=!0;class Qh extends zi{get dropzone(){return this.data.dropzone}}Qh.type="droppable:stop";Qh.cancelable=!0;class ji extends Ot{constructor(t){super(t),this.data=t}get dragEvent(){return this.data.dragEvent}}ji.type="swappable";class ef extends ji{}ef.type="swappable:start";ef.cancelable=!0;class tf extends ji{get over(){return this.data.over}get overContainer(){return this.data.overContainer}}tf.type="swappable:swap";tf.cancelable=!0;class A_ extends ji{get swappedElement(){return this.data.swappedElement}}A_.type="swappable:swapped";class T_ extends ji{}T_.type="swappable:stop";class Bi extends Ot{constructor(t){super(t),this.data=t}get dragEvent(){return this.data.dragEvent}}Bi.type="sortable";class ml extends Bi{get startIndex(){return this.data.startIndex}get startContainer(){return this.data.startContainer}}ml.type="sortable:start";ml.cancelable=!0;class Po extends Bi{get currentIndex(){return this.data.currentIndex}get over(){return this.data.over}get overContainer(){return this.data.dragEvent.overContainer}}Po.type="sortable:sort";Po.cancelable=!0;class wa extends Bi{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}wa.type="sortable:sorted";class nf extends Bi{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}nf.type="sortable:stop";const Zs=Symbol("onDragStart"),Qs=Symbol("onDragOverContainer"),ei=Symbol("onDragOver"),ti=Symbol("onDragStop");function k_({dragEvent:e}){const t=e.source.textContent.trim()||e.source.id||"sortable element";if(e.over){const n=e.over.textContent.trim()||e.over.id||"sortable element";return e.source.compareDocumentPosition(e.over)&Node.DOCUMENT_POSITION_FOLLOWING?`Placed ${t} after ${n}`:`Placed ${t} before ${n}`}else return`Placed ${t} into a different container`}const R_={"sortable:sorted":k_};class O_ extends bs{constructor(t=[],n={}){super(t,{...n,announcements:{...R_,...n.announcements||{}}}),this.startIndex=null,this.startContainer=null,this[Zs]=this[Zs].bind(this),this[Qs]=this[Qs].bind(this),this[ei]=this[ei].bind(this),this[ti]=this[ti].bind(this),this.on("drag:start",this[Zs]).on("drag:over:container",this[Qs]).on("drag:over",this[ei]).on("drag:stop",this[ti])}destroy(){super.destroy(),this.off("drag:start",this[Zs]).off("drag:over:container",this[Qs]).off("drag:over",this[ei]).off("drag:stop",this[ti])}index(t){return this.getSortableElementsForContainer(t.parentNode).indexOf(t)}getSortableElementsForContainer(t){return[...t.querySelectorAll(this.options.draggable)].filter(s=>s!==this.originalSource&&s!==this.mirror&&s.parentNode===t)}[Zs](t){this.startContainer=t.source.parentNode,this.startIndex=this.index(t.source);const n=new ml({dragEvent:t,startIndex:this.startIndex,startContainer:this.startContainer});this.trigger(n),n.canceled()&&t.cancel()}[Qs](t){if(t.canceled())return;const{source:n,over:s,overContainer:i}=t,o=this.index(n),r=new Po({dragEvent:t,currentIndex:o,source:n,over:s});if(this.trigger(r),r.canceled())return;const l=this.getSortableElementsForContainer(i),a=qc({source:n,over:s,overContainer:i,children:l});if(!a)return;const{oldContainer:c,newContainer:u}=a,d=this.index(t.source),h=new wa({dragEvent:t,oldIndex:o,newIndex:d,oldContainer:c,newContainer:u});this.trigger(h)}[ei](t){if(t.over===t.originalSource||t.over===t.source)return;const{source:n,over:s,overContainer:i}=t,o=this.index(n),r=new Po({dragEvent:t,currentIndex:o,source:n,over:s});if(this.trigger(r),r.canceled())return;const l=this.getDraggableElementsForContainer(i),a=qc({source:n,over:s,overContainer:i,children:l});if(!a)return;const{oldContainer:c,newContainer:u}=a,d=this.index(n),h=new wa({dragEvent:t,oldIndex:o,newIndex:d,oldContainer:c,newContainer:u});this.trigger(h)}[ti](t){const n=new nf({dragEvent:t,oldIndex:this.startIndex,newIndex:this.index(t.source),oldContainer:this.startContainer,newContainer:t.source.parentNode});this.trigger(n),this.startIndex=null,this.startContainer=null}}function Kc(e){return Array.prototype.indexOf.call(e.parentNode.children,e)}function qc({source:e,over:t,overContainer:n,children:s}){const i=!s.length,o=e.parentNode!==n,r=t&&e.parentNode===t.parentNode;return i?P_(e,n):r?$_(e,t):o?L_(e,t,n):null}function P_(e,t){const n=e.parentNode;return t.appendChild(e),{oldContainer:n,newContainer:t}}function $_(e,t){const n=Kc(e),s=Kc(t);return n<s?e.parentNode.insertBefore(e,t.nextElementSibling):e.parentNode.insertBefore(e,t),{oldContainer:e.parentNode,newContainer:e.parentNode}}function L_(e,t,n){const s=e.parentNode;return t?t.parentNode.insertBefore(e,t):n.appendChild(e),{oldContainer:s,newContainer:e.parentNode}}const I_={class:"ui-dialog__wrapper"},D_={class:"ui-dialog__content"},z_={class:"ui-dialog__buttons"},j_={__name:"Dialog",props:je({title:{type:String,default:""},type:{type:String,default:"primary"},center:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:je(["approve"],["update:modelValue"]),setup(e,{emit:t}){const n=At(e,"modelValue"),s=t,i=e,o=()=>n.value=!1,r=()=>{s("approve"),o()};return(l,a)=>(x(),K(nr,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=c=>n.value=c),title:e.title,center:e.center,class:"ui-dialog"},{default:Ee(()=>[T("div",I_,[T("div",D_,[tt(l.$slots,"default",{},void 0,!0)]),T("div",z_,[D(ht,{text:"Да",type:i.type,onClick:r},null,8,["type"]),D(ht,{text:"Нет",type:"default",onClick:o})])])]),_:3},8,["modelValue","title","center"]))}},sf=ve(j_,[["__scopeId","data-v-9964e8b4"]]),B_=(e,{onTap:t,onLongTap:n,delay:s})=>{t=t||(()=>{}),n=n||(()=>{}),s=s||600;let i=null,o=!1;const r=()=>{const c=()=>(o=!0)&&n();o=!1,i=setTimeout(c,s)},l=()=>{i&&(clearTimeout(i),i=null),o||t()},a=()=>{i&&(clearTimeout(i),i=null),o=!0};e.addEventListener("touchstart",r,{passive:!0}),e.addEventListener("touchend",l),e.addEventListener("touchmove",a,{passive:!0}),cn(()=>{e.removeEventListener("touchstart",r),e.removeEventListener("touchend",l),e.removeEventListener("touchmove",a)})},N_={key:0,class:"wooj-card__panel"},H_={key:0,class:"wooj-card__panel-locker"},F_={class:"wooj-card__title"},W_=["innerHTML"],V_={__name:"WoojCard",props:{data:Object,hasMove:{type:Boolean,default:!0},hasPin:{type:Boolean,default:!0},hasEdit:{type:Boolean,default:!0},hasRemove:{type:Boolean,default:!0},hasRestore:{type:Boolean,default:!1}},emits:["move","edit","pin","remove","restore","active","deactive"],setup(e,{emit:t}){const n=t,s=e,i=Rt(),o=bt("card"),r=bt("wrapper"),l=F(!1),a=I(()=>s.data||{}),c=I(()=>a.value.title||"Новый WOOJ"),u=I(()=>a.value.content||"Пока еще пусто..."),d=I(()=>s.hasMove||s.hasPin||s.hasRemove||s.hasRestore),h=I(()=>i.isTouched),f=I(()=>!i.isTouched),p=I(()=>!i.isTouched&&s.hasMove),m=()=>(l.value=!0)&&n("active",a.value),b=()=>(l.value=!1)&&n("deactive",a.value),y=()=>i.isTouched&&n("edit",a.value),S=()=>i.isTouched||n("edit",a.value),E=()=>i.isTouched||m();return St(()=>{B_(r.value,{onTap:()=>y(),onLongTap:()=>m()})}),(M,P)=>(x(),N("div",{ref_key:"card",ref:o,class:ge(["wooj-card",{touched:h.value,clicked:f.value,active:l.value}]),onMouseover:E,onMouseleave:b},[d.value?(x(),N("div",N_,[l.value?Te("",!0):(x(),N("div",H_)),p.value?(x(),N("span",{key:1,class:"wooj-card__panel-button icon wooj-card__mover",onMousedown:P[0]||(P[0]=H=>n("move",a.value))},P[4]||(P[4]=[T("i",{class:"fas fa-arrows-up-down-left-right"},null,-1)]),32)):Te("",!0),e.hasPin?(x(),N("span",{key:2,class:"wooj-card__panel-button icon",onClick:P[1]||(P[1]=_i(H=>n("pin",a.value),["stop"]))},[T("i",{class:ge(["fas",a.value.is_pinned?"fa-thumbtack-slash":"fa-thumbtack"])},null,2)])):Te("",!0),e.hasRemove?(x(),N("span",{key:3,class:"wooj-card__panel-button icon",onClick:P[2]||(P[2]=H=>n("remove",a.value))},P[5]||(P[5]=[T("i",{class:"fas fa-trash"},null,-1)]))):Te("",!0),e.hasRestore?(x(),N("span",{key:4,class:"wooj-card__panel-button icon",onClick:P[3]||(P[3]=H=>n("restore",a.value))},P[6]||(P[6]=[T("i",{class:"fa fa-undo"},null,-1)]))):Te("",!0)])):Te("",!0),T("div",{ref_key:"wrapper",ref:r,class:ge(["wooj-card__wrapper",{pinned:a.value.is_pinned,editable:e.hasEdit}]),onClick:S},[T("div",F_,ye(c.value),1),T("div",{class:"wooj-card__content wooj-content",innerHTML:u.value},null,8,W_)],2)],34))}},U_=ve(V_,[["__scopeId","data-v-ce763bc1"]]),Y_={class:"empty"},X_={class:"empty__wrapper"},K_={class:"empty__title"},q_={class:"empty__text"},G_={__name:"Empty",props:{title:{type:String,default:"Тут пусто"},text:{type:String,default:"Вуджей же нет"}},setup(e){const t=e;return(n,s)=>(x(),N("div",Y_,[T("div",X_,[T("p",K_,ye(t.title),1),T("p",q_,ye(t.text),1)])]))}},of=ve(G_,[["__scopeId","data-v-ddca4205"]]),J_={class:"wooj-list"},Z_={class:"wooj-list__header"},Q_={class:"wooj-list__header-panel"},eS={key:0,class:"wooj-list__header-panel-edit"},tS={key:1,class:"wooj-list__board"},nS=["data-id"],sS={__name:"WoojList",props:{id:String,title:String,woojs:Array,emptyText:{type:String,default:"Тут пусто"},loaded:{type:Boolean,default:!0},hasEditableTopic:{type:Boolean,default:!1},hasSort:{type:Boolean,default:!0},hasMove:{type:Boolean,default:!0},hasPin:{type:Boolean,default:!0},hasEdit:{type:Boolean,default:!0},hasRemove:{type:Boolean,default:!0},hasRestore:{type:Boolean,default:!1}},emits:["sort","pin","edit","remove","restore","update-topic","delete-topic"],setup(e,{emit:t}){let n=null;const s=e,i=Rt(),o=bt("items"),r=t,l=H=>{if(!i.isSmall)return null;if(i.width<=300)return{"min-width":"100%","max-width":"100%"};const $=i.width/2-25+"px";return{width:$,"max-width":$}},a=F(s.title),c=F(!1),u=F(!1),d=F([]),h=I(()=>s.title),f=I(()=>s.woojs),p=I(()=>f.value.length),m=I(()=>s.loaded&&!p.value),b=I(()=>f.value.reduce((H,z)=>(H[z.id]=l(z.id),H),{})),y=()=>{os.isEqual(a.value,h.value)||r("update-topic",{name:a.value})},S=()=>r("delete-topic"),E=()=>c.value=!0,M=()=>u.value=!0,P=()=>{const H=()=>(o.value?Array.from(o.value.querySelectorAll(".wooj-list__item")):[]).map(j=>parseInt(j.dataset.id));n=new O_(document.querySelectorAll(".wooj-list__items"),{draggable:".wooj-list__item",handle:i.isTouched?".wooj-card":".wooj-card__mover",sortAnimation:{duration:200,easingFunction:"ease-in-out"},classes:{"source:dragging":["dragging"],mirror:["dragging-mirror"]},delay:i.isTouched?600:0,plugins:[Gw]}),n.on("sortable:stop",()=>{on(()=>d.value=H())}),d.value=H()};return Ve(()=>s.loaded,H=>on(()=>{H&&s.hasSort&&P()})),Ve(()=>s.title,H=>a.value=H),Ve(()=>d.value,(H,z)=>{!s.hasSort||!z.length||os.isEqual(H,z)||r("sort",H)}),St(()=>s.hasSort&&s.loaded&&P()),cn(()=>n&&n.destroy()),(H,z)=>(x(),N("div",J_,[T("div",Z_,[(x(),K(Za,{class:"wooj-list__header-title",key:a.value,modelValue:a.value,"onUpdate:modelValue":z[0]||(z[0]=j=>a.value=j),focused:c.value,"onUpdate:focused":z[1]||(z[1]=j=>c.value=j),locked:!e.hasEditableTopic,max:20,onChange:y},null,8,["modelValue","focused","locked"])),p.value?(x(),K(Ja,{key:0},{default:Ee(()=>[us(ye(p.value),1)]),_:1})):Te("",!0),T("div",Q_,[e.hasEditableTopic?(x(),N("div",eS,[D(rt,{icon:"pencil",onClick:E}),D(rt,{icon:"xmark",type:"danger",onClick:M})])):Te("",!0),tt(H.$slots,"panel",{isEmpty:m.value},void 0,!0)])]),m.value?(x(),K(of,{key:0,title:s.emptyText},null,8,["title"])):e.loaded?(x(),N("div",tS,[T("div",{class:ge(["wooj-list__items",{sortable:s.hasSort}]),ref_key:"items",ref:o},[(x(!0),N(ke,null,An(f.value,j=>(x(),N("div",{class:"wooj-list__item",key:j.id,"data-id":j.id,style:Rn(b.value[j.id])},[D(U_,{data:j,hasMove:s.hasMove,hasPin:s.hasPin,hasEdit:s.hasEdit,hasRemove:s.hasRemove,hasRestore:s.hasRestore,onPin:z[2]||(z[2]=$=>r("pin",$)),onEdit:z[3]||(z[3]=$=>r("edit",$)),onRemove:z[4]||(z[4]=$=>r("remove",$)),onRestore:z[5]||(z[5]=$=>r("restore",$))},null,8,["data","hasMove","hasPin","hasEdit","hasRemove","hasRestore"])],12,nS))),128))],2)])):(x(),K(il,{key:2,type:"blocks",itemsNum:8})),D(sf,{modelValue:u.value,"onUpdate:modelValue":z[6]||(z[6]=j=>u.value=j),title:"Удалить топик",type:"danger",center:B(i).isSmall,onApprove:S},{default:Ee(()=>z[7]||(z[7]=[us(" Ты действительно хочешь сделать это? ")])),_:1,__:[7]},8,["modelValue","center"])]))}},ur=ve(sS,[["__scopeId","data-v-44c3e2a3"]]),iS={class:"view-all"},oS={__name:"All",setup(e){const{topicParamsMap:t,setRouteListeners:n}=Xn(),s=I(()=>t.value.all);return Yn(()=>n()),(i,o)=>(x(),N("div",iS,[(x(),K(ur,{id:s.value.id,key:s.value.id,title:s.value.title,woojs:s.value.woojs,loaded:s.value.isLoaded,onSort:s.value.sort,onPin:s.value.togglePin,onEdit:s.value.edit,onRemove:s.value.remove},null,8,["id","title","woojs","loaded","onSort","onPin","onEdit","onRemove"]))]))}},jE=Object.freeze(Object.defineProperty({__proto__:null,default:oS},Symbol.toStringTag,{value:"Module"})),rS={class:"view-pinned"},aS={__name:"Pinned",setup(e){const{topicParamsMap:t,setRouteListeners:n}=Xn(),s=I(()=>t.value.pinned);return Yn(()=>n()),(i,o)=>(x(),N("div",rS,[(x(),K(ur,{id:s.value.id,key:s.value.id,title:s.value.title,woojs:s.value.woojs,loaded:s.value.isLoaded,onSort:s.value.sort,onPin:s.value.togglePin,onEdit:s.value.edit,onRemove:s.value.remove},null,8,["id","title","woojs","loaded","onSort","onPin","onEdit","onRemove"]))]))}},BE=Object.freeze(Object.defineProperty({__proto__:null,default:aS},Symbol.toStringTag,{value:"Module"})),lS={class:"view-index"},cS={class:"box"},uS={class:"media-detector"},dS={__name:"Debug",setup(e){const t=Di(),n=Rt(),s=er(),i=()=>{const o=os.random(0,2);os.random(0,2),os.random(0,2);const r=["info","success","alert"];s.add({message:"Новое уведомление",type:r[o],duration:10})};return St(async()=>{t.setStatusBar({title:"DEBUG",icon:"gauge"})}),cn(()=>t.unsetStatusBar()),(o,r)=>(x(),N("div",lS,[T("div",cS,[D(ht,{text:"Вызвать тост",onClick:i})]),r[0]||(r[0]=T("div",{class:"box"},[T("input",{type:"text"})],-1)),T("div",uS,[T("div",null,"Width: "+ye(B(n).width),1),T("div",null,"Height: "+ye(B(n).height),1),T("div",null,"Viewport Width: "+ye(B(n).vpWidth),1),T("div",null,"Viewport Height: "+ye(B(n).vpHeight),1),T("div",null,"isTouched: "+ye(B(n).isTouched),1),T("div",null,"isPortrait: "+ye(B(n).isPortrait),1),T("div",null,"isLandscape: "+ye(B(n).isLandscape),1),T("div",null,"isMobile: "+ye(B(n).isMobile),1),T("div",null,"isTablet: "+ye(B(n).isTablet),1),T("div",null,"isDesctop: "+ye(B(n).isDesctop),1),T("div",null,"isXs: "+ye(B(n).isXs),1),T("div",null,"isSmall: "+ye(B(n).isSmall),1),T("div",null,"isMiddle: "+ye(B(n).isMiddle),1),T("div",null,"isLarge: "+ye(B(n).isLarge),1),T("div",null,"isXl: "+ye(B(n).isXl),1)])]))}},hS=ve(dS,[["__scopeId","data-v-b565f152"]]),NE=Object.freeze(Object.defineProperty({__proto__:null,default:hS},Symbol.toStringTag,{value:"Module"})),fS={class:"view-trash"},pS={__name:"Trash",setup(e){const t=Rt(),{topicParamsMap:n,setRouteListeners:s}=Xn(),i=I(()=>n.value.trash),o=I(()=>i.value.woojs.length),r=F(!1),l=()=>r.value=!0;return Yn(()=>s()),(a,c)=>(x(),N("div",fS,[(x(),K(ur,{id:i.value.id,key:i.value.id,title:i.value.title,woojs:i.value.woojs,loaded:i.value.isLoaded,hasSort:!1,hasMove:!1,hasPin:!1,hasEdit:!1,hasRemove:!1,hasRestore:!0,emptyText:"Корзина пуста",onRestore:i.value.restore},{panel:Ee(()=>[o.value?(x(),K(ht,{key:0,text:B(t).isSmall?"Очистить":"Очистить корзину",size:B(t).isSmall?"small":"default",icon:B(t).isSmall?null:"times",type:"danger",onClick:l},null,8,["text","size","icon"])):Te("",!0),D(sf,{modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=u=>r.value=u),title:"Очистить корзину",type:"danger",center:B(t).isSmall,onApprove:i.value.clearTrash},{default:Ee(()=>c[1]||(c[1]=[us(" Ты действительно хочешь очистить корзину? ")])),_:1,__:[1]},8,["modelValue","center","onApprove"])]),_:1},8,["id","title","woojs","loaded","onRestore"]))]))}},HE=Object.freeze(Object.defineProperty({__proto__:null,default:pS},Symbol.toStringTag,{value:"Module"})),mS={class:"view-topic"},gS={__name:"Topic",props:["topicId"],setup(e){const t=e,{topicParamsMap:n,onLoaded:s,setRouteListeners:i}=Xn(),o=tr(),r=I(()=>n.value.custom),l=()=>o.isLoaded&&o.activateTopic(t.topicId);return Ve(()=>t.topicId,()=>l()),s(()=>l()),Yn(()=>{l(),i()}),(a,c)=>(x(),N("div",mS,[(x(),K(ur,{id:r.value.id,key:r.value.id,title:r.value.title,woojs:r.value.woojs,loaded:r.value.isLoaded,hasEditableTopic:!0,onSort:r.value.sort,onPin:r.value.togglePin,onEdit:r.value.edit,onRemove:r.value.remove,onUpdateTopic:r.value.update,onDeleteTopic:r.value.delete},null,8,["id","title","woojs","loaded","onSort","onPin","onEdit","onRemove","onUpdateTopic","onDeleteTopic"]))]))}},FE=Object.freeze(Object.defineProperty({__proto__:null,default:gS},Symbol.toStringTag,{value:"Module"}));function dr(e){const{state:t,transaction:n}=e;let{selection:s}=n,{doc:i}=n,{storedMarks:o}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return s},get doc(){return i},get tr(){return s=n.selection,i=n.doc,o=n.storedMarks,n}}}class hr{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:s}=this,{view:i}=n,{tr:o}=s,r=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([l,a])=>[l,(...u)=>{const d=a(...u)(r);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:s,editor:i,state:o}=this,{view:r}=i,l=[],a=!!t,c=t||o.tr,u=()=>(!a&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(c),l.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(s).map(([h,f])=>[h,(...m)=>{const b=this.buildProps(c,n),y=f(...m)(b);return l.push(y),d}])),run:u};return d}createCan(t){const{rawCommands:n,state:s}=this,i=!1,o=t||s.tr,r=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([a,c])=>[a,(...u)=>c(...u)({...r,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(t,n=!0){const{rawCommands:s,editor:i,state:o}=this,{view:r}=i,l={tr:t,editor:i,view:r,state:dr({state:o,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(s).map(([a,c])=>[a,(...u)=>c(...u)(l)]))}};return l}}class vS{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const s=this.callbacks[t];return s&&s.forEach(i=>i.apply(this,n)),this}off(t,n){const s=this.callbacks[t];return s&&(n?this.callbacks[t]=s.filter(i=>i!==n):delete this.callbacks[t]),this}once(t,n){const s=(...i)=>{this.off(t,s),n.apply(this,i)};return this.on(t,s)}removeAllListeners(){this.callbacks={}}}function q(e,t,n){return e.config[t]===void 0&&e.parent?q(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?q(e.parent,t,n):null}):e.config[t]}function fr(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),s=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:s}}function rf(e){const t=[],{nodeExtensions:n,markExtensions:s}=fr(e),i=[...n,...s],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(r=>{const l={name:r.name,options:r.options,storage:r.storage,extensions:i},a=q(r,"addGlobalAttributes",l);if(!a)return;a().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([h,f])=>{t.push({type:d,name:h,attribute:{...o,...f}})})})})}),i.forEach(r=>{const l={name:r.name,options:r.options,storage:r.storage},a=q(r,"addAttributes",l);if(!a)return;const c=a();Object.entries(c).forEach(([u,d])=>{const h={...o,...d};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,t.push({type:r.name,name:u,attribute:h})})}),t}function Be(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function Ue(...e){return e.filter(t=>!!t).reduce((t,n)=>{const s={...t};return Object.entries(n).forEach(([i,o])=>{if(!s[i]){s[i]=o;return}if(i==="class"){const l=o?String(o).split(" "):[],a=s[i]?s[i].split(" "):[],c=l.filter(u=>!a.includes(u));s[i]=[...a,...c].join(" ")}else if(i==="style"){const l=o?o.split(";").map(u=>u.trim()).filter(Boolean):[],a=s[i]?s[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;a.forEach(u=>{const[d,h]=u.split(":").map(f=>f.trim());c.set(d,h)}),l.forEach(u=>{const[d,h]=u.split(":").map(f=>f.trim());c.set(d,h)}),s[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else s[i]=o}),s},{})}function _a(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,s)=>Ue(n,s),{})}function af(e){return typeof e=="function"}function re(e,t=void 0,...n){return af(e)?t?e.bind(t)(...n):e(...n):e}function bS(e={}){return Object.keys(e).length===0&&e.constructor===Object}function yS(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function Gc(e,t){return"style"in e?e:{...e,getAttrs:n=>{const s=e.getAttrs?e.getAttrs(n):e.attrs;if(s===!1)return!1;const i=t.reduce((o,r)=>{const l=r.attribute.parseHTML?r.attribute.parseHTML(n):yS(n.getAttribute(r.name));return l==null?o:{...o,[r.name]:l}},{});return{...s,...i}}}}function Jc(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&bS(n)?!1:n!=null))}function wS(e,t){var n;const s=rf(e),{nodeExtensions:i,markExtensions:o}=fr(e),r=(n=i.find(c=>q(c,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(i.map(c=>{const u=s.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},h=e.reduce((y,S)=>{const E=q(S,"extendNodeSchema",d);return{...y,...E?E(c):{}}},{}),f=Jc({...h,content:re(q(c,"content",d)),marks:re(q(c,"marks",d)),group:re(q(c,"group",d)),inline:re(q(c,"inline",d)),atom:re(q(c,"atom",d)),selectable:re(q(c,"selectable",d)),draggable:re(q(c,"draggable",d)),code:re(q(c,"code",d)),whitespace:re(q(c,"whitespace",d)),linebreakReplacement:re(q(c,"linebreakReplacement",d)),defining:re(q(c,"defining",d)),isolating:re(q(c,"isolating",d)),attrs:Object.fromEntries(u.map(y=>{var S;return[y.name,{default:(S=y==null?void 0:y.attribute)===null||S===void 0?void 0:S.default}]}))}),p=re(q(c,"parseHTML",d));p&&(f.parseDOM=p.map(y=>Gc(y,u)));const m=q(c,"renderHTML",d);m&&(f.toDOM=y=>m({node:y,HTMLAttributes:_a(y,u)}));const b=q(c,"renderText",d);return b&&(f.toText=b),[c.name,f]})),a=Object.fromEntries(o.map(c=>{const u=s.filter(b=>b.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},h=e.reduce((b,y)=>{const S=q(y,"extendMarkSchema",d);return{...b,...S?S(c):{}}},{}),f=Jc({...h,inclusive:re(q(c,"inclusive",d)),excludes:re(q(c,"excludes",d)),group:re(q(c,"group",d)),spanning:re(q(c,"spanning",d)),code:re(q(c,"code",d)),attrs:Object.fromEntries(u.map(b=>{var y;return[b.name,{default:(y=b==null?void 0:b.attribute)===null||y===void 0?void 0:y.default}]}))}),p=re(q(c,"parseHTML",d));p&&(f.parseDOM=p.map(b=>Gc(b,u)));const m=q(c,"renderHTML",d);return m&&(f.toDOM=b=>m({mark:b,HTMLAttributes:_a(b,u)})),[c.name,f]}));return new uu({topNode:r,nodes:l,marks:a})}function Wr(e,t){return t.nodes[e]||t.marks[e]||null}function Zc(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function gl(e,t){const n=qf.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}const _S=(e,t=500)=>{let n="";const s=e.parentOffset;return e.parent.nodesBetween(Math.max(0,s-t),s,(i,o,r,l)=>{var a,c;const u=((c=(a=i.type.spec).toText)===null||c===void 0?void 0:c.call(a,{node:i,pos:o,parent:r,index:l}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,s-o))}),n};function vl(e){return Object.prototype.toString.call(e)==="[object RegExp]"}class pr{constructor(t){this.find=t.find,this.handler=t.handler}}const SS=(e,t)=>{if(vl(t))return t.exec(e);const n=t(e);if(!n)return null;const s=[n.text];return s.index=n.index,s.input=e,s.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),s.push(n.replaceWith)),s};function so(e){var t;const{editor:n,from:s,to:i,text:o,rules:r,plugin:l}=e,{view:a}=n;if(a.composing)return!1;const c=a.state.doc.resolve(s);if(c.parent.type.spec.code||!((t=c.nodeBefore||c.nodeAfter)===null||t===void 0)&&t.marks.find(h=>h.type.spec.code))return!1;let u=!1;const d=_S(c)+o;return r.forEach(h=>{if(u)return;const f=SS(d,h.find);if(!f)return;const p=a.state.tr,m=dr({state:a.state,transaction:p}),b={from:s-(f[0].length-o.length),to:i},{commands:y,chain:S,can:E}=new hr({editor:n,state:m});h.handler({state:m,range:b,match:f,commands:y,chain:S,can:E})===null||!p.steps.length||(p.setMeta(l,{transform:p,from:s,to:i,text:o}),a.dispatch(p),u=!0)}),u}function xS(e){const{editor:t,rules:n}=e,s=new kt({state:{init(){return null},apply(i,o,r){const l=i.getMeta(s);if(l)return l;const a=i.getMeta("applyInputRules");return!!a&&setTimeout(()=>{let{text:u}=a;typeof u=="string"?u=u:u=gl(En.from(u),r.schema);const{from:d}=a,h=d+u.length;so({editor:t,from:d,to:h,text:u,rules:n,plugin:s})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,r,l){return so({editor:t,from:o,to:r,text:l,rules:n,plugin:s})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&so({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:s})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:r}=i.state.selection;return r?so({editor:t,from:r.pos,to:r.pos,text:`
`,rules:n,plugin:s}):!1}},isInputRules:!0});return s}function ES(e){return Object.prototype.toString.call(e).slice(8,-1)}function io(e){return ES(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function mr(e,t){const n={...e};return io(e)&&io(t)&&Object.keys(t).forEach(s=>{io(t[s])&&io(e[s])?n[s]=mr(e[s],t[s]):n[s]=t[s]}),n}class Yt{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=re(q(this,"addOptions",{name:this.name}))),this.storage=re(q(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Yt(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>mr(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new Yt(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=re(q(n,"addOptions",{name:n.name})),n.storage=re(q(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:t,mark:n}){const{tr:s}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const r=i.marks();if(!!!r.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const a=r.find(c=>(c==null?void 0:c.type.name)===n.name);return a&&s.removeStoredMark(a),s.insertText(" ",i.pos),t.view.dispatch(s),!0}return!1}}function CS(e){return typeof e=="number"}class MS{constructor(t){this.find=t.find,this.handler=t.handler}}const AS=(e,t,n)=>{if(vl(t))return[...e.matchAll(t)];const s=t(e,n);return s?s.map(i=>{const o=[i.text];return o.index=i.index,o.input=e,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function TS(e){const{editor:t,state:n,from:s,to:i,rule:o,pasteEvent:r,dropEvent:l}=e,{commands:a,chain:c,can:u}=new hr({editor:t,state:n}),d=[];return n.doc.nodesBetween(s,i,(f,p)=>{if(!f.isTextblock||f.type.spec.code)return;const m=Math.max(s,p),b=Math.min(i,p+f.content.size),y=f.textBetween(m-p,b-p,void 0,"￼");AS(y,o.find,r).forEach(E=>{if(E.index===void 0)return;const M=m+E.index+1,P=M+E[0].length,H={from:n.tr.mapping.map(M),to:n.tr.mapping.map(P)},z=o.handler({state:n,range:H,match:E,commands:a,chain:c,can:u,pasteEvent:r,dropEvent:l});d.push(z)})}),d.every(f=>f!==null)}let oo=null;const kS=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)===null||t===void 0||t.setData("text/html",e),n};function RS(e){const{editor:t,rules:n}=e;let s=null,i=!1,o=!1,r=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const a=({state:u,from:d,to:h,rule:f,pasteEvt:p})=>{const m=u.tr,b=dr({state:u,transaction:m});if(!(!TS({editor:t,state:b,from:Math.max(d-1,0),to:h.b-1,rule:f,pasteEvent:p,dropEvent:l})||!m.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return r=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m}};return n.map(u=>new kt({view(d){const h=p=>{var m;s=!((m=d.dom.parentElement)===null||m===void 0)&&m.contains(p.target)?d.dom.parentElement:null,s&&(oo=t)},f=()=>{oo&&(oo=null)};return window.addEventListener("dragstart",h),window.addEventListener("dragend",f),{destroy(){window.removeEventListener("dragstart",h),window.removeEventListener("dragend",f)}}},props:{handleDOMEvents:{drop:(d,h)=>{if(o=s===d.dom.parentElement,l=h,!o){const f=oo;f&&setTimeout(()=>{const p=f.state.selection;p&&f.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(d,h)=>{var f;const p=(f=h.clipboardData)===null||f===void 0?void 0:f.getData("text/html");return r=h,i=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(d,h,f)=>{const p=d[0],m=p.getMeta("uiEvent")==="paste"&&!i,b=p.getMeta("uiEvent")==="drop"&&!o,y=p.getMeta("applyPasteRules"),S=!!y;if(!m&&!b&&!S)return;if(S){let{text:P}=y;typeof P=="string"?P=P:P=gl(En.from(P),f.schema);const{from:H}=y,z=H+P.length,j=kS(P);return a({rule:u,state:f,from:H,to:{b:z},pasteEvt:j})}const E=h.doc.content.findDiffStart(f.doc.content),M=h.doc.content.findDiffEnd(f.doc.content);if(!(!CS(E)||!M||E===M.b))return a({rule:u,state:f,from:E,to:M,pasteEvt:r})}}))}function OS(e){const t=e.filter((n,s)=>e.indexOf(n)!==s);return Array.from(new Set(t))}class is{constructor(t,n){this.splittableMarks=[],this.editor=n,this.extensions=is.resolve(t),this.schema=wS(this.extensions,n),this.setupExtensions()}static resolve(t){const n=is.sort(is.flatten(t)),s=OS(n.map(i=>i.name));return s.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${s.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(t){return t.map(n=>{const s={name:n.name,options:n.options,storage:n.storage},i=q(n,"addExtensions",s);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(t){return t.sort((s,i)=>{const o=q(s,"priority")||100,r=q(i,"priority")||100;return o>r?-1:o<r?1:0})}get commands(){return this.extensions.reduce((t,n)=>{const s={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Wr(n.name,this.schema)},i=q(n,"addCommands",s);return i?{...t,...i()}:t},{})}get plugins(){const{editor:t}=this,n=is.sort([...this.extensions].reverse()),s=[],i=[],o=n.map(r=>{const l={name:r.name,options:r.options,storage:r.storage,editor:t,type:Wr(r.name,this.schema)},a=[],c=q(r,"addKeyboardShortcuts",l);let u={};if(r.type==="mark"&&q(r,"exitable",l)&&(u.ArrowRight=()=>Yt.handleExit({editor:t,mark:r})),c){const m=Object.fromEntries(Object.entries(c()).map(([b,y])=>[b,()=>y({editor:t})]));u={...u,...m}}const d=Kf(u);a.push(d);const h=q(r,"addInputRules",l);Zc(r,t.options.enableInputRules)&&h&&s.push(...h());const f=q(r,"addPasteRules",l);Zc(r,t.options.enablePasteRules)&&f&&i.push(...f());const p=q(r,"addProseMirrorPlugins",l);if(p){const m=p();a.push(...m)}return a}).flat();return[xS({editor:t,rules:s}),...RS({editor:t,rules:i}),...o]}get attributes(){return rf(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:n}=fr(this.extensions);return Object.fromEntries(n.filter(s=>!!q(s,"addNodeView")).map(s=>{const i=this.attributes.filter(a=>a.type===s.name),o={name:s.name,options:s.options,storage:s.storage,editor:t,type:Be(s.name,this.schema)},r=q(s,"addNodeView",o);if(!r)return[];const l=(a,c,u,d,h)=>{const f=_a(a,i);return r()({node:a,view:c,getPos:u,decorations:d,innerDecorations:h,editor:t,extension:s,HTMLAttributes:f})};return[s.name,l]}))}setupExtensions(){this.extensions.forEach(t=>{var n;this.editor.extensionStorage[t.name]=t.storage;const s={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Wr(t.name,this.schema)};t.type==="mark"&&(!((n=re(q(t,"keepOnSplit",s)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(t.name);const i=q(t,"onBeforeCreate",s),o=q(t,"onCreate",s),r=q(t,"onUpdate",s),l=q(t,"onSelectionUpdate",s),a=q(t,"onTransaction",s),c=q(t,"onFocus",s),u=q(t,"onBlur",s),d=q(t,"onDestroy",s);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),r&&this.editor.on("update",r),l&&this.editor.on("selectionUpdate",l),a&&this.editor.on("transaction",a),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}class Ye{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=re(q(this,"addOptions",{name:this.name}))),this.storage=re(q(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Ye(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>mr(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new Ye({...this.config,...t});return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=re(q(n,"addOptions",{name:n.name})),n.storage=re(q(n,"addStorage",{name:n.name,options:n.options})),n}}function lf(e,t,n){const{from:s,to:i}=t,{blockSeparator:o=`

`,textSerializers:r={}}=n||{};let l="";return e.nodesBetween(s,i,(a,c,u,d)=>{var h;a.isBlock&&c>s&&(l+=o);const f=r==null?void 0:r[a.type.name];if(f)return u&&(l+=f({node:a,pos:c,parent:u,index:d,range:t})),!1;a.isText&&(l+=(h=a==null?void 0:a.text)===null||h===void 0?void 0:h.slice(Math.max(s,c)-c,i-c))}),l}function cf(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}const PS=Ye.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new kt({key:new rn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:s,selection:i}=t,{ranges:o}=i,r=Math.min(...o.map(u=>u.$from.pos)),l=Math.max(...o.map(u=>u.$to.pos)),a=cf(n);return lf(s,{from:r,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:a})}}})]}}),$S=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),LS=(e=!1)=>({commands:t})=>t.setContent("",e),IS=()=>({state:e,tr:t,dispatch:n})=>{const{selection:s}=t,{ranges:i}=s;return n&&i.forEach(({$from:o,$to:r})=>{e.doc.nodesBetween(o.pos,r.pos,(l,a)=>{if(l.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(a)),h=c.resolve(u.map(a+l.nodeSize)),f=d.blockRange(h);if(!f)return;const p=Ff(f);if(l.type.isTextblock){const{defaultType:m}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(f.start,m)}(p||p===0)&&t.lift(f,p)})}),!0},DS=e=>t=>e(t),zS=()=>({state:e,dispatch:t})=>Hf(e,t),jS=(e,t)=>({editor:n,tr:s})=>{const{state:i}=n,o=i.doc.slice(e.from,e.to);s.deleteRange(e.from,e.to);const r=s.mapping.map(t);return s.insert(r,o.content),s.setSelection(new at(s.doc.resolve(r-1))),!0},BS=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,s=n.$anchor.node();if(s.content.size>0)return!1;const i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s.type){if(t){const l=i.before(o),a=i.after(o);e.delete(l,a).scrollIntoView()}return!0}return!1},NS=e=>({tr:t,state:n,dispatch:s})=>{const i=Be(e,n.schema),o=t.selection.$anchor;for(let r=o.depth;r>0;r-=1)if(o.node(r).type===i){if(s){const a=o.before(r),c=o.after(r);t.delete(a,c).scrollIntoView()}return!0}return!1},HS=e=>({tr:t,dispatch:n})=>{const{from:s,to:i}=e;return n&&t.delete(s,i),!0},FS=()=>({state:e,dispatch:t})=>Nf(e,t),WS=()=>({commands:e})=>e.keyboardShortcut("Enter"),VS=()=>({state:e,dispatch:t})=>Bf(e,t);function $o(e,t,n={strict:!0}){const s=Object.keys(t);return s.length?s.every(i=>n.strict?t[i]===e[i]:vl(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function uf(e,t,n={}){return e.find(s=>s.type===t&&$o(Object.fromEntries(Object.keys(n).map(i=>[i,s.attrs[i]])),n))}function Qc(e,t,n={}){return!!uf(e,t,n)}function bl(e,t,n){var s;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===t)||(n=n||((s=i.node.marks[0])===null||s===void 0?void 0:s.attrs),!uf([...i.node.marks],t,n)))return;let r=i.index,l=e.start()+i.offset,a=r+1,c=l+i.node.nodeSize;for(;r>0&&Qc([...e.parent.child(r-1).marks],t,n);)r-=1,l-=e.parent.child(r).nodeSize;for(;a<e.parent.childCount&&Qc([...e.parent.child(a).marks],t,n);)c+=e.parent.child(a).nodeSize,a+=1;return{from:l,to:c}}function On(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}const US=(e,t={})=>({tr:n,state:s,dispatch:i})=>{const o=On(e,s.schema),{doc:r,selection:l}=n,{$from:a,from:c,to:u}=l;if(i){const d=bl(a,o,t);if(d&&d.from<=c&&d.to>=u){const h=at.create(r,d.from,d.to);n.setSelection(h)}}return!0},YS=e=>t=>{const n=typeof e=="function"?e(t):e;for(let s=0;s<n.length;s+=1)if(n[s](t))return!0;return!1};function df(e){return e instanceof at}function Bn(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function hf(e,t=null){if(!t)return null;const n=Nn.atStart(e),s=Nn.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return s;const i=n.from,o=s.to;return t==="all"?at.create(e,Bn(0,i,o),Bn(e.content.size,i,o)):at.create(e,Bn(t,i,o),Bn(t,i,o))}function XS(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function yl(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const KS=(e=null,t={})=>({editor:n,view:s,tr:i,dispatch:o})=>{t={scrollIntoView:!0,...t};const r=()=>{(yl()||XS())&&s.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(s.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(s.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!df(n.state.selection))return r(),!0;const l=hf(i.doc,e)||n.state.selection,a=n.state.selection.eq(l);return o&&(a||i.setSelection(l),a&&i.storedMarks&&i.setStoredMarks(i.storedMarks),r()),!0},qS=(e,t)=>n=>e.every((s,i)=>t(s,{...n,index:i})),GS=(e,t)=>({tr:n,commands:s})=>s.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),ff=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const s=t[n];s.nodeType===3&&s.nodeValue&&/^(\n\s\s|\n)$/.test(s.nodeValue)?e.removeChild(s):s.nodeType===1&&ff(s)}return e};function ro(e){const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return ff(n)}function Ci(e,t,n){if(e instanceof Wf||e instanceof En)return e;n={slice:!0,parseOptions:{},...n};const s=typeof e=="object"&&e!==null,i=typeof e=="string";if(s)try{if(Array.isArray(e)&&e.length>0)return En.fromArray(e.map(l=>t.nodeFromJSON(l)));const r=t.nodeFromJSON(e);return n.errorOnInvalidContent&&r.check(),r}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",o),Ci("",t,n)}if(i){if(n.errorOnInvalidContent){let r=!1,l="";const a=new uu({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(r=!0,l=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?br.fromSchema(a).parseSlice(ro(e),n.parseOptions):br.fromSchema(a).parse(ro(e),n.parseOptions),n.errorOnInvalidContent&&r)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const o=br.fromSchema(t);return n.slice?o.parseSlice(ro(e),n.parseOptions).content:o.parse(ro(e),n.parseOptions)}return Ci("",t,n)}function JS(e,t,n){const s=e.steps.length-1;if(s<t)return;const i=e.steps[s];if(!(i instanceof Vf||i instanceof Uf))return;const o=e.mapping.maps[s];let r=0;o.forEach((l,a,c,u)=>{r===0&&(r=u)}),e.setSelection(Nn.near(e.doc.resolve(r),n))}const ZS=e=>!("type"in e),QS=(e,t,n)=>({tr:s,dispatch:i,editor:o})=>{var r;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const a=b=>{o.emit("contentError",{editor:o,error:b,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Ci(t,o.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(b){a(b)}try{l=Ci(t,o.schema,{parseOptions:c,errorOnInvalidContent:(r=n.errorOnInvalidContent)!==null&&r!==void 0?r:o.options.enableContentCheck})}catch(b){return a(b),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},h=!0,f=!0;if((ZS(l)?l:[l]).forEach(b=>{b.check(),h=h?b.isText&&b.marks.length===0:!1,f=f?b.isBlock:!1}),u===d&&f){const{parent:b}=s.doc.resolve(u);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(u-=1,d+=1)}let m;if(h){if(Array.isArray(t))m=t.map(b=>b.text||"").join("");else if(t instanceof En){let b="";t.forEach(y=>{y.text&&(b+=y.text)}),m=b}else typeof t=="object"&&t&&t.text?m=t.text:m=t;s.insertText(m,u,d)}else m=l,s.replaceWith(u,d,m);n.updateSelection&&JS(s,s.steps.length-1,-1),n.applyInputRules&&s.setMeta("applyInputRules",{from:u,text:m}),n.applyPasteRules&&s.setMeta("applyPasteRules",{from:u,text:m})}return!0},e0=()=>({state:e,dispatch:t})=>$f(e,t),t0=()=>({state:e,dispatch:t})=>zf(e,t),n0=()=>({state:e,dispatch:t})=>jf(e,t),s0=()=>({state:e,dispatch:t})=>Df(e,t),i0=()=>({state:e,dispatch:t,tr:n})=>{try{const s=cu(e.doc,e.selection.$from.pos,-1);return s==null?!1:(n.join(s,2),t&&t(n),!0)}catch{return!1}},o0=()=>({state:e,dispatch:t,tr:n})=>{try{const s=cu(e.doc,e.selection.$from.pos,1);return s==null?!1:(n.join(s,2),t&&t(n),!0)}catch{return!1}},r0=()=>({state:e,dispatch:t})=>If(e,t),a0=()=>({state:e,dispatch:t})=>Lf(e,t);function pf(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function l0(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let s,i,o,r;for(let l=0;l<t.length-1;l+=1){const a=t[l];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))s=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else if(/^mod$/i.test(a))yl()||pf()?r=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return s&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),r&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const c0=e=>({editor:t,view:n,tr:s,dispatch:i})=>{const o=l0(e).split(/-(?!$)/),r=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),l=new KeyboardEvent("keydown",{key:r==="Space"?" ":r,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),a=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,l))});return a==null||a.steps.forEach(c=>{const u=c.map(s.mapping);u&&i&&s.maybeStep(u)}),!0};function Mi(e,t,n={}){const{from:s,to:i,empty:o}=e.selection,r=t?Be(t,e.schema):null,l=[];e.doc.nodesBetween(s,i,(d,h)=>{if(d.isText)return;const f=Math.max(s,h),p=Math.min(i,h+d.nodeSize);l.push({node:d,from:f,to:p})});const a=i-s,c=l.filter(d=>r?r.name===d.node.type.name:!0).filter(d=>$o(d.node.attrs,n,{strict:!1}));return o?!!c.length:c.reduce((d,h)=>d+h.to-h.from,0)>=a}const u0=(e,t={})=>({state:n,dispatch:s})=>{const i=Be(e,n.schema);return Mi(n,i,t)?Pf(n,s):!1},d0=()=>({state:e,dispatch:t})=>Of(e,t),h0=e=>({state:t,dispatch:n})=>{const s=Be(e,t.schema);return Rf(s)(t,n)},f0=()=>({state:e,dispatch:t})=>kf(e,t);function gr(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function eu(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((s,i)=>(n.includes(i)||(s[i]=e[i]),s),{})}const p0=(e,t)=>({tr:n,state:s,dispatch:i})=>{let o=null,r=null;const l=gr(typeof e=="string"?e:e.name,s.schema);return l?(l==="node"&&(o=Be(e,s.schema)),l==="mark"&&(r=On(e,s.schema)),i&&n.selection.ranges.forEach(a=>{s.doc.nodesBetween(a.$from.pos,a.$to.pos,(c,u)=>{o&&o===c.type&&n.setNodeMarkup(u,void 0,eu(c.attrs,t)),r&&c.marks.length&&c.marks.forEach(d=>{r===d.type&&n.addMark(u,u+c.nodeSize,r.create(eu(d.attrs,t)))})})}),!0):!1},m0=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),g0=()=>({tr:e,dispatch:t})=>{if(t){const n=new Tf(e.doc);e.setSelection(n)}return!0},v0=()=>({state:e,dispatch:t})=>Af(e,t),b0=()=>({state:e,dispatch:t})=>Mf(e,t),y0=()=>({state:e,dispatch:t})=>Cf(e,t),w0=()=>({state:e,dispatch:t})=>Ef(e,t),_0=()=>({state:e,dispatch:t})=>xf(e,t);function Sa(e,t,n={},s={}){return Ci(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:s.errorOnInvalidContent})}const S0=(e,t=!1,n={},s={})=>({editor:i,tr:o,dispatch:r,commands:l})=>{var a,c;const{doc:u}=o;if(n.preserveWhitespace!=="full"){const d=Sa(e,i.schema,n,{errorOnInvalidContent:(a=s.errorOnInvalidContent)!==null&&a!==void 0?a:i.options.enableContentCheck});return r&&o.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!t),!0}return r&&o.setMeta("preventUpdate",!t),l.insertContentAt({from:0,to:u.content.size},e,{parseOptions:n,errorOnInvalidContent:(c=s.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function mf(e,t){const n=On(t,e.schema),{from:s,to:i,empty:o}=e.selection,r=[];o?(e.storedMarks&&r.push(...e.storedMarks),r.push(...e.selection.$head.marks())):e.doc.nodesBetween(s,i,a=>{r.push(...a.marks)});const l=r.find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}function x0(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function E0(e,t){for(let n=e.depth;n>0;n-=1){const s=e.node(n);if(t(s))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:s}}}function wl(e){return t=>E0(t.$from,e)}function C0(e,t){const n={from:0,to:e.content.size};return lf(e,n,t)}function M0(e,t){const n=Be(t,e.schema),{from:s,to:i}=e.selection,o=[];e.doc.nodesBetween(s,i,l=>{o.push(l)});const r=o.reverse().find(l=>l.type.name===n.name);return r?{...r.attrs}:{}}function A0(e,t){const n=gr(typeof t=="string"?t:t.name,e.schema);return n==="node"?M0(e,t):n==="mark"?mf(e,t):{}}function gf(e,t,n){const s=[];return e===t?n.resolve(e).marks().forEach(i=>{const o=n.resolve(e),r=bl(o,i.type);r&&s.push({mark:i,...r})}):n.nodesBetween(e,t,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||s.push(...i.marks.map(r=>({from:o,to:o+i.nodeSize,mark:r})))}),s}function yo(e,t,n){return Object.fromEntries(Object.entries(n).filter(([s])=>{const i=e.find(o=>o.type===t&&o.name===s);return i?i.attribute.keepOnSplit:!1}))}function xa(e,t,n={}){const{empty:s,ranges:i}=e.selection,o=t?On(t,e.schema):null;if(s)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>$o(d.attrs,n,{strict:!1}));let r=0;const l=[];if(i.forEach(({$from:d,$to:h})=>{const f=d.pos,p=h.pos;e.doc.nodesBetween(f,p,(m,b)=>{if(!m.isText&&!m.marks.length)return;const y=Math.max(f,b),S=Math.min(p,b+m.nodeSize),E=S-y;r+=E,l.push(...m.marks.map(M=>({mark:M,from:y,to:S})))})}),r===0)return!1;const a=l.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>$o(d.mark.attrs,n,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),c=l.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,h)=>d+h.to-h.from,0);return(a>0?a+c:a)>=r}function T0(e,t,n={}){if(!t)return Mi(e,null,n)||xa(e,null,n);const s=gr(t,e.schema);return s==="node"?Mi(e,t,n):s==="mark"?xa(e,t,n):!1}function tu(e,t){const{nodeExtensions:n}=fr(t),s=n.find(r=>r.name===e);if(!s)return!1;const i={name:s.name,options:s.options,storage:s.storage},o=re(q(s,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function vr(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var s;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((s=e.text)!==null&&s!==void 0?s:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(o=>{i!==!1&&(vr(o,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function k0(e){return e instanceof Ti}function R0(e,t,n){var s;const{selection:i}=t;let o=null;if(df(i)&&(o=i.$cursor),o){const l=(s=e.storedMarks)!==null&&s!==void 0?s:o.marks();return!!n.isInSet(l)||!l.some(a=>a.type.excludes(n))}const{ranges:r}=i;return r.some(({$from:l,$to:a})=>{let c=l.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(l.pos,a.pos,(u,d,h)=>{if(c)return!1;if(u.isInline){const f=!h||h.type.allowsMarkType(n),p=!!n.isInSet(u.marks)||!u.marks.some(m=>m.type.excludes(n));c=f&&p}return!c}),c})}const O0=(e,t={})=>({tr:n,state:s,dispatch:i})=>{const{selection:o}=n,{empty:r,ranges:l}=o,a=On(e,s.schema);if(i)if(r){const c=mf(s,a);n.addStoredMark(a.create({...c,...t}))}else l.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;s.doc.nodesBetween(u,d,(h,f)=>{const p=Math.max(f,u),m=Math.min(f+h.nodeSize,d);h.marks.find(y=>y.type===a)?h.marks.forEach(y=>{a===y.type&&n.addMark(p,m,a.create({...y.attrs,...t}))}):n.addMark(p,m,a.create(t))})});return R0(s,n,a)},P0=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),$0=(e,t={})=>({state:n,dispatch:s,chain:i})=>{const o=Be(e,n.schema);let r;return n.selection.$anchor.sameParent(n.selection.$head)&&(r=n.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:l})=>xl(o,{...r,...t})(n)?!0:l.clearNodes()).command(({state:l})=>xl(o,{...r,...t})(l,s)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},L0=e=>({tr:t,dispatch:n})=>{if(n){const{doc:s}=t,i=Bn(e,0,s.content.size),o=Ti.create(s,i);t.setSelection(o)}return!0},I0=e=>({tr:t,dispatch:n})=>{if(n){const{doc:s}=t,{from:i,to:o}=typeof e=="number"?{from:e,to:e}:e,r=at.atStart(s).from,l=at.atEnd(s).to,a=Bn(i,r,l),c=Bn(o,r,l),u=at.create(s,a,c);t.setSelection(u)}return!0},D0=e=>({state:t,dispatch:n})=>{const s=Be(e,t.schema);return Sf(s)(t,n)};function nu(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const s=n.filter(i=>t==null?void 0:t.includes(i.type.name));e.tr.ensureMarks(s)}}const z0=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:s,editor:i})=>{const{selection:o,doc:r}=t,{$from:l,$to:a}=o,c=i.extensionManager.attributes,u=yo(c,l.node().type.name,l.node().attrs);if(o instanceof Ti&&o.node.isBlock)return!l.parentOffset||!ao(r,l.pos)?!1:(s&&(e&&nu(n,i.extensionManager.splittableMarks),t.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const d=a.parentOffset===a.parent.content.size,h=l.depth===0?void 0:x0(l.node(-1).contentMatchAt(l.indexAfter(-1)));let f=d&&h?[{type:h,attrs:u}]:void 0,p=ao(t.doc,t.mapping.map(l.pos),1,f);if(!f&&!p&&ao(t.doc,t.mapping.map(l.pos),1,h?[{type:h}]:void 0)&&(p=!0,f=h?[{type:h,attrs:u}]:void 0),s){if(p&&(o instanceof at&&t.deleteSelection(),t.split(t.mapping.map(l.pos),1,f),h&&!d&&!l.parentOffset&&l.parent.type!==h)){const m=t.mapping.map(l.before()),b=t.doc.resolve(m);l.node(-1).canReplaceWith(b.index(),b.index()+1,h)&&t.setNodeMarkup(t.mapping.map(l.before()),h)}e&&nu(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return p},j0=(e,t={})=>({tr:n,state:s,dispatch:i,editor:o})=>{var r;const l=Be(e,s.schema),{$from:a,$to:c}=s.selection,u=s.selection.node;if(u&&u.isBlock||a.depth<2||!a.sameParent(c))return!1;const d=a.node(-1);if(d.type!==l)return!1;const h=o.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==l||a.index(-2)!==a.node(-2).childCount-1)return!1;if(i){let y=En.empty;const S=a.index(-1)?1:a.index(-2)?2:3;for(let j=a.depth-S;j>=a.depth-3;j-=1)y=En.from(a.node(j).copy(y));const E=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,M={...yo(h,a.node().type.name,a.node().attrs),...t},P=((r=l.contentMatch.defaultType)===null||r===void 0?void 0:r.createAndFill(M))||void 0;y=y.append(En.from(l.createAndFill(null,P)||void 0));const H=a.before(a.depth-(S-1));n.replace(H,a.after(-E),new _f(y,4-S,0));let z=-1;n.doc.nodesBetween(H,n.doc.content.size,(j,$)=>{if(z>-1)return!1;j.isTextblock&&j.content.size===0&&(z=$+1)}),z>-1&&n.setSelection(at.near(n.doc.resolve(z))),n.scrollIntoView()}return!0}const f=c.pos===a.end()?d.contentMatchAt(0).defaultType:null,p={...yo(h,d.type.name,d.attrs),...t},m={...yo(h,a.node().type.name,a.node().attrs),...t};n.delete(a.pos,c.pos);const b=f?[{type:l,attrs:p},{type:f,attrs:m}]:[{type:l,attrs:p}];if(!ao(n.doc,a.pos,2))return!1;if(i){const{selection:y,storedMarks:S}=s,{splittableMarks:E}=o.extensionManager,M=S||y.$to.parentOffset&&y.$from.marks();if(n.split(a.pos,2,b).scrollIntoView(),!M||!i)return!0;const P=M.filter(H=>E.includes(H.type.name));n.ensureMarks(P)}return!0},Vr=(e,t)=>{const n=wl(r=>r.type===t)(e.selection);if(!n)return!0;const s=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(s===void 0)return!0;const i=e.doc.nodeAt(s);return n.node.type===(i==null?void 0:i.type)&&Aa(e.doc,n.pos)&&e.join(n.pos),!0},Ur=(e,t)=>{const n=wl(r=>r.type===t)(e.selection);if(!n)return!0;const s=e.doc.resolve(n.start).after(n.depth);if(s===void 0)return!0;const i=e.doc.nodeAt(s);return n.node.type===(i==null?void 0:i.type)&&Aa(e.doc,s)&&e.join(s),!0},B0=(e,t,n,s={})=>({editor:i,tr:o,state:r,dispatch:l,chain:a,commands:c,can:u})=>{const{extensions:d,splittableMarks:h}=i.extensionManager,f=Be(e,r.schema),p=Be(t,r.schema),{selection:m,storedMarks:b}=r,{$from:y,$to:S}=m,E=y.blockRange(S),M=b||m.$to.parentOffset&&m.$from.marks();if(!E)return!1;const P=wl(H=>tu(H.type.name,d))(m);if(E.depth>=1&&P&&E.depth-P.depth<=1){if(P.node.type===f)return c.liftListItem(p);if(tu(P.node.type.name,d)&&f.validContent(P.node.content)&&l)return a().command(()=>(o.setNodeMarkup(P.pos,f),!0)).command(()=>Vr(o,f)).command(()=>Ur(o,f)).run()}return!n||!M||!l?a().command(()=>u().wrapInList(f,s)?!0:c.clearNodes()).wrapInList(f,s).command(()=>Vr(o,f)).command(()=>Ur(o,f)).run():a().command(()=>{const H=u().wrapInList(f,s),z=M.filter(j=>h.includes(j.type.name));return o.ensureMarks(z),H?!0:c.clearNodes()}).wrapInList(f,s).command(()=>Vr(o,f)).command(()=>Ur(o,f)).run()},N0=(e,t={},n={})=>({state:s,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,r=On(e,s.schema);return xa(s,r,t)?i.unsetMark(r,{extendEmptyMarkRange:o}):i.setMark(r,t)},H0=(e,t,n={})=>({state:s,commands:i})=>{const o=Be(e,s.schema),r=Be(t,s.schema),l=Mi(s,o,n);let a;return s.selection.$anchor.sameParent(s.selection.$head)&&(a=s.selection.$anchor.parent.attrs),l?i.setNode(r,a):i.setNode(o,{...a,...n})},F0=(e,t={})=>({state:n,commands:s})=>{const i=Be(e,n.schema);return Mi(n,i,t)?s.lift(i):s.wrapIn(i,t)},W0=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let s=0;s<n.length;s+=1){const i=n[s];let o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){const r=e.tr,l=o.transform;for(let a=l.steps.length-1;a>=0;a-=1)r.step(l.steps[a].invert(l.docs[a]));if(o.text){const a=r.doc.resolve(o.from).marks();r.replaceWith(o.from,o.to,e.schema.text(o.text,a))}else r.delete(o.from,o.to)}return!0}}return!1},V0=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:s,ranges:i}=n;return s||t&&i.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0},U0=(e,t={})=>({tr:n,state:s,dispatch:i})=>{var o;const{extendEmptyMarkRange:r=!1}=t,{selection:l}=n,a=On(e,s.schema),{$from:c,empty:u,ranges:d}=l;if(!i)return!0;if(u&&r){let{from:h,to:f}=l;const p=(o=c.marks().find(b=>b.type===a))===null||o===void 0?void 0:o.attrs,m=bl(c,a,p);m&&(h=m.from,f=m.to),n.removeMark(h,f,a)}else d.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,a)});return n.removeStoredMark(a),!0},Y0=(e,t={})=>({tr:n,state:s,dispatch:i})=>{let o=null,r=null;const l=gr(typeof e=="string"?e:e.name,s.schema);return l?(l==="node"&&(o=Be(e,s.schema)),l==="mark"&&(r=On(e,s.schema)),i&&n.selection.ranges.forEach(a=>{const c=a.$from.pos,u=a.$to.pos;let d,h,f,p;n.selection.empty?s.doc.nodesBetween(c,u,(m,b)=>{o&&o===m.type&&(f=Math.max(b,c),p=Math.min(b+m.nodeSize,u),d=b,h=m)}):s.doc.nodesBetween(c,u,(m,b)=>{b<c&&o&&o===m.type&&(f=Math.max(b,c),p=Math.min(b+m.nodeSize,u),d=b,h=m),b>=c&&b<=u&&(o&&o===m.type&&n.setNodeMarkup(b,void 0,{...m.attrs,...t}),r&&m.marks.length&&m.marks.forEach(y=>{if(r===y.type){const S=Math.max(b,c),E=Math.min(b+m.nodeSize,u);n.addMark(S,E,r.create({...y.attrs,...t}))}}))}),h&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...h.attrs,...t}),r&&h.marks.length&&h.marks.forEach(m=>{r===m.type&&n.addMark(f,p,r.create({...m.attrs,...t}))}))}),!0):!1},X0=(e,t={})=>({state:n,dispatch:s})=>{const i=Be(e,n.schema);return wf(i,t)(n,s)},K0=(e,t={})=>({state:n,dispatch:s})=>{const i=Be(e,n.schema);return yf(i,t)(n,s)};var q0=Object.freeze({__proto__:null,blur:$S,clearContent:LS,clearNodes:IS,command:DS,createParagraphNear:zS,cut:jS,deleteCurrentNode:BS,deleteNode:NS,deleteRange:HS,deleteSelection:FS,enter:WS,exitCode:VS,extendMarkRange:US,first:YS,focus:KS,forEach:qS,insertContent:GS,insertContentAt:QS,joinBackward:n0,joinDown:t0,joinForward:s0,joinItemBackward:i0,joinItemForward:o0,joinTextblockBackward:r0,joinTextblockForward:a0,joinUp:e0,keyboardShortcut:c0,lift:u0,liftEmptyBlock:d0,liftListItem:h0,newlineInCode:f0,resetAttributes:p0,scrollIntoView:m0,selectAll:g0,selectNodeBackward:v0,selectNodeForward:b0,selectParentNode:y0,selectTextblockEnd:w0,selectTextblockStart:_0,setContent:S0,setMark:O0,setMeta:P0,setNode:$0,setNodeSelection:L0,setTextSelection:I0,sinkListItem:D0,splitBlock:z0,splitListItem:j0,toggleList:B0,toggleMark:N0,toggleNode:H0,toggleWrap:F0,undoInputRule:W0,unsetAllMarks:V0,unsetMark:U0,updateAttributes:Y0,wrapIn:X0,wrapInList:K0});const G0=Ye.create({name:"commands",addCommands(){return{...q0}}}),J0=Ye.create({name:"drop",addProseMirrorPlugins(){return[new kt({key:new rn("tiptapDrop"),props:{handleDrop:(e,t,n,s)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:s})}}})]}}),Z0=Ye.create({name:"editable",addProseMirrorPlugins(){return[new kt({key:new rn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Q0=new rn("focusEvents"),ex=Ye.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new kt({key:Q0,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const s=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(s),!1},blur:(t,n)=>{e.isFocused=!1;const s=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(s),!1}}}})]}}),tx=Ye.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:r})=>[()=>r.undoInputRule(),()=>r.command(({tr:l})=>{const{selection:a,doc:c}=l,{empty:u,$anchor:d}=a,{pos:h,parent:f}=d,p=d.parent.isTextblock&&h>0?l.doc.resolve(h-1):d,m=p.parent.type.spec.isolating,b=d.pos-d.parentOffset,y=m&&p.parent.childCount===1?b===d.pos:Nn.atStart(c).from===h;return!u||!f.type.isTextblock||f.textContent.length||!y||y&&d.parent.type.name==="paragraph"?!1:r.clearNodes()}),()=>r.deleteSelection(),()=>r.joinBackward(),()=>r.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:r})=>[()=>r.deleteSelection(),()=>r.deleteCurrentNode(),()=>r.joinForward(),()=>r.selectNodeForward()]),s={Enter:()=>this.editor.commands.first(({commands:r})=>[()=>r.newlineInCode(),()=>r.createParagraphNear(),()=>r.liftEmptyBlock(),()=>r.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...s},o={...s,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return yl()||pf()?o:i},addProseMirrorPlugins(){return[new kt({key:new rn("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(m=>m.getMeta("composition")))return;const s=e.some(m=>m.docChanged)&&!t.doc.eq(n.doc),i=e.some(m=>m.getMeta("preventClearDocument"));if(!s||i)return;const{empty:o,from:r,to:l}=t.selection,a=Nn.atStart(t.doc).from,c=Nn.atEnd(t.doc).to;if(o||!(r===a&&l===c)||!vr(n.doc))return;const h=n.tr,f=dr({state:n,transaction:h}),{commands:p}=new hr({editor:this.editor,state:f});if(p.clearNodes(),!!h.steps.length)return h}})]}}),nx=Ye.create({name:"paste",addProseMirrorPlugins(){return[new kt({key:new rn("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),sx=Ye.create({name:"tabindex",addProseMirrorPlugins(){return[new kt({key:new rn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class jn{get name(){return this.node.type.name}constructor(t,n,s=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=s,this.resolvedPos=t,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!==null&&t!==void 0?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,s=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,s=this.to-1}this.editor.commands.insertContentAt({from:n,to:s},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new jn(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new jn(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new jn(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,s)=>{const i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,r=this.pos+s+(o?0:1);if(r<0||r>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(r);if(!i&&l.depth<=this.depth)return;const a=new jn(l,this.editor,i,i?n:null);i&&(a.actualDepth=this.depth+1),t.push(new jn(l,this.editor,i,i?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let s=null,i=this.parent;for(;i&&!s;){if(i.node.type.name===t)if(Object.keys(n).length>0){const o=i.node.attrs,r=Object.keys(n);for(let l=0;l<r.length;l+=1){const a=r[l];if(o[a]!==n[a])break}}else s=i;i=i.parent}return s}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},s=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(r=>{s&&i.length>0||(r.node.type.name===t&&o.every(a=>n[a]===r.node.attrs[a])&&i.push(r),!(s&&i.length>0)&&(i=i.concat(r.querySelectorAll(t,n,s))))}),i}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}}const ix=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function ox(e,t,n){const s=document.querySelector("style[data-tiptap-style]");if(s!==null)return s;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute("data-tiptap-style",""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}let rx=class extends vS{constructor(t={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:s,moved:i})=>this.options.onDrop(n,s,i)),this.on("paste",({event:n,slice:s})=>this.options.onPaste(n,s)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=ox(ix,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,n){const s=af(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:s});return this.view.updateState(i),i}unregisterPlugin(t){if(this.isDestroyed)return;const n=this.state.plugins;let s=n;if([].concat(t).forEach(o=>{const r=typeof o=="string"?`${o}$`:o.key;s=s.filter(l=>!l.key.startsWith(r))}),n.length===s.length)return;const i=this.state.reconfigure({plugins:s});return this.view.updateState(i),i}createExtensionManager(){var t,n;const i=[...this.options.enableCoreExtensions?[Z0,PS.configure({blockSeparator:(n=(t=this.options.coreExtensionOptions)===null||t===void 0?void 0:t.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),G0,ex,tx,sx,J0,nx].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new is(i,this)}createCommandManager(){this.commandManager=new hr({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var t;let n;try{n=Sa(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(r){if(!(r instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(r.message))throw r;this.emit("contentError",{editor:this,error:r,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(l=>l.name!=="collaboration"),this.createExtensionManager()}}),n=Sa(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const s=hf(n,this.options.autofocus);this.view=new Yf(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)===null||t===void 0?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Xf.create({doc:n,selection:s||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(r=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(r)});return}const n=this.state.apply(t),s=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:t,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t}),s&&this.emit("selectionUpdate",{editor:this,transaction:t});const i=t.getMeta("focus"),o=t.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:t}),o&&this.emit("blur",{editor:this,event:o.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return A0(this.state,t)}isActive(t,n){const s=typeof t=="string"?t:null,i=typeof t=="string"?n:t;return T0(this.state,s,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return gl(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:s={}}=t||{};return C0(this.state.doc,{blockSeparator:n,textSerializers:{...cf(this.schema),...s}})}get isEmpty(){return vr(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const t=this.view.dom;t&&t.editor&&delete t.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}$node(t,n){var s;return((s=this.$doc)===null||s===void 0?void 0:s.querySelector(t,n))||null}$nodes(t,n){var s;return((s=this.$doc)===null||s===void 0?void 0:s.querySelectorAll(t,n))||null}$pos(t){const n=this.state.doc.resolve(t);return new jn(n,this)}get $doc(){return this.$pos(0)}};function ys(e){return new pr({find:e.find,handler:({state:t,range:n,match:s})=>{const i=re(e.getAttributes,void 0,s);if(i===!1||i===null)return null;const{tr:o}=t,r=s[s.length-1],l=s[0];if(r){const a=l.search(/\S/),c=n.from+l.indexOf(r),u=c+r.length;if(gf(n.from,n.to,t.doc).filter(f=>f.mark.type.excluded.find(m=>m===e.type&&m!==f.mark.type)).filter(f=>f.to>c).length)return null;u<n.to&&o.delete(u,n.to),c>n.from&&o.delete(n.from+a,c);const h=n.from+a+r.length;o.addMark(n.from+a,h,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}function ax(e){return new pr({find:e.find,handler:({state:t,range:n,match:s})=>{const i=re(e.getAttributes,void 0,s)||{},{tr:o}=t,r=n.from;let l=n.to;const a=e.type.create(i);if(s[1]){const c=s[0].lastIndexOf(s[1]);let u=r+c;u>l?u=l:l=u+s[1].length;const d=s[0][s[0].length-1];o.insertText(d,r+s[0].length-1),o.replaceWith(u,l,a)}else if(s[0]){const c=e.type.isInline?r:r-1;o.insert(c,e.type.create(i)).delete(o.mapping.map(r),o.mapping.map(l))}o.scrollIntoView()}})}function Ea(e){return new pr({find:e.find,handler:({state:t,range:n,match:s})=>{const i=t.doc.resolve(n.from),o=re(e.getAttributes,void 0,s)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,o)}})}function Ai(e){return new pr({find:e.find,handler:({state:t,range:n,match:s,chain:i})=>{const o=re(e.getAttributes,void 0,s)||{},r=t.tr.delete(n.from,n.to),a=r.doc.resolve(n.from).blockRange(),c=a&&bf(a,e.type,o);if(!c)return null;if(r.wrap(a,c),e.keepMarks&&e.editor){const{selection:d,storedMarks:h}=t,{splittableMarks:f}=e.editor.extensionManager,p=h||d.$to.parentOffset&&d.$from.marks();if(p){const m=p.filter(b=>f.includes(b.type.name));r.ensureMarks(m)}}if(e.keepAttributes){const d=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,o).run()}const u=r.doc.resolve(n.from-1).nodeBefore;u&&u.type===e.type&&Aa(r.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(s,u))&&r.join(n.from-1)}})}let Pt=class Ca{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=re(q(this,"addOptions",{name:this.name}))),this.storage=re(q(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Ca(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>mr(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new Ca(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=re(q(n,"addOptions",{name:n.name})),n.storage=re(q(n,"addStorage",{name:n.name,options:n.options})),n}};function ws(e){return new MS({find:e.find,handler:({state:t,range:n,match:s,pasteEvent:i})=>{const o=re(e.getAttributes,void 0,s,i);if(o===!1||o===null)return null;const{tr:r}=t,l=s[s.length-1],a=s[0];let c=n.to;if(l){const u=a.search(/\S/),d=n.from+a.indexOf(l),h=d+l.length;if(gf(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(b=>b===e.type&&b!==p.mark.type)).filter(p=>p.to>d).length)return null;h<n.to&&r.delete(h,n.to),d>n.from&&r.delete(n.from+u,d),c=n.from+u+l.length,r.addMark(n.from+u,c,e.type.create(o||{})),r.removeStoredMark(e.type)}}})}function lx(e,t){const{selection:n}=e,{$from:s}=n;if(n instanceof Ti){const o=s.index();return s.parent.canReplaceWith(o,o+1,t)}let i=s.depth;for(;i>=0;){const o=s.index(i);if(s.node(i).contentMatchAt(o).matchType(t))return!0;i-=1}return!1}const cx=e=>{if(!e.children.length)return;const t=e.querySelectorAll("span");t&&t.forEach(n=>{var s,i;const o=n.getAttribute("style"),r=(i=(s=n.parentElement)===null||s===void 0?void 0:s.closest("span"))===null||i===void 0?void 0:i.getAttribute("style");n.setAttribute("style",`${r};${o}`)})},su=Yt.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&cx(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",Ue(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(n,s)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(o=>!!o))||e.removeMark(s,s+n.nodeSize,this.type)}),!0}}}}),ux=Ye.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;return(t=e.style.color)===null||t===void 0?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Ma=Pt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",Ue(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),dx=Yt.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",Ue(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),hx=Ye.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new kt({key:new rn("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=t,i=[];if(!n)return null;const o=this.editor.isEmpty;return e.descendants((r,l)=>{const a=s>=l&&s<=l+r.nodeSize,c=!r.isLeaf&&vr(r);if((a||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];o&&u.push(this.options.emptyEditorClass);const d=Gf.node(l,l+r.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:r,pos:l,hasAnchor:a}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),Jf.create(e,i)}}})]}}),fx=/^\s*>\s$/,px=Pt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",Ue(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ai({find:fx,type:this.type})]}}),mx=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,gx=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,vx=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,bx=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,yx=Yt.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",Ue(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ys({find:mx,type:this.type}),ys({find:vx,type:this.type})]},addPasteRules(){return[ws({find:gx,type:this.type}),ws({find:bx,type:this.type})]}}),wx="listItem",iu="textStyle",ou=/^\s*([-+*])\s$/,_x=Pt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",Ue(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(wx,this.editor.getAttributes(iu)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Ai({find:ou,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Ai({find:ou,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(iu),editor:this.editor})),[e]}}),Sx=/(^|[^`])`([^`]+)`(?!`)/,xx=/(^|[^`])`([^`]+)`(?!`)/g,Ex=Yt.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",Ue(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ys({find:Sx,type:this.type})]},addPasteRules(){return[ws({find:xx,type:this.type})]}}),Cx=/^```([a-z]+)?[\s\n]$/,Mx=/^~~~([a-z]+)?[\s\n]$/,Ax=Pt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,o=[...((t=e.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(r=>r.startsWith(n)).map(r=>r.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",Ue(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type)return!1;const o=s.parentOffset===s.parent.nodeSize-2,r=s.parent.textContent.endsWith(`

`);return!o||!r?!1:e.chain().command(({tr:l})=>(l.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:s}=t,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0?!1:s.nodeAt(l)?e.commands.command(({tr:c})=>(c.setSelection(Nn.near(s.resolve(l))),!0)):e.commands.exitCode()}}},addInputRules(){return[Ea({find:Cx,type:this.type,getAttributes:e=>({language:e[1]})}),Ea({find:Mx,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new kt({key:new rn("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),s=t.clipboardData.getData("vscode-editor-data"),i=s?JSON.parse(s):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:r,schema:l}=e.state,a=l.text(n.replace(/\r\n?/g,`
`));return r.replaceSelectionWith(this.type.create({language:o},a)),r.selection.$from.parent.type!==this.type&&r.setSelection(at.near(r.doc.resolve(Math.max(0,r.selection.from-2)))),r.setMeta("paste",!0),e.dispatch(r),!0}}})]}}),Tx=Pt.create({name:"doc",topNode:!0,content:"block+"}),kx=Ye.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Zf(this.options)]}}),Rx=Ye.create({name:"gapCursor",addProseMirrorPlugins(){return[Qf()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=re(q(e,"allowGapCursor",n)))!==null&&t!==void 0?t:null}}}),Ox=Pt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",Ue(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:s})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:r}=this.options,{splittableMarks:l}=s.extensionManager,a=o||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&a&&r){const d=a.filter(h=>l.includes(h.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Px=Pt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,Ue(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>Ea({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),$x=Ye.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>np(e,t),redo:()=>({state:e,dispatch:t})=>tp(e,t)}},addProseMirrorPlugins(){return[ep(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),Lx=Pt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",Ue(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!lx(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$from:s,$to:i}=n,o=e();return s.parentOffset===0?o.insertContentAt({from:Math.max(s.pos-1,0),to:i.pos},{type:this.name}):k0(n)?o.insertContentAt(i.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:r,dispatch:l})=>{var a;if(l){const{$to:c}=r.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?r.setSelection(at.create(r.doc,c.pos+1)):c.nodeAfter.isBlock?r.setSelection(Ti.create(r.doc,c.pos)):r.setSelection(at.create(r.doc,c.pos));else{const d=(a=c.parent.type.contentMatch.defaultType)===null||a===void 0?void 0:a.create();d&&(r.insert(u,d),r.setSelection(at.create(r.doc,u+1)))}r.scrollIntoView()}return!0}).run()}}},addInputRules(){return[ax({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),Ix=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Dx=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,zx=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,jx=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Bx=Yt.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",Ue(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ys({find:Ix,type:this.type}),ys({find:zx,type:this.type})]},addPasteRules(){return[ws({find:Dx,type:this.type}),ws({find:jx,type:this.type})]}}),Nx="listItem",ru="textStyle",au=/^(\d+)\.\s$/,Hx=Pt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",Ue(this.options.HTMLAttributes,n),0]:["ol",Ue(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Nx,this.editor.getAttributes(ru)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Ai({find:au,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Ai({find:au,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(ru)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),Fx=Pt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",Ue(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Wx=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Vx=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Ux=Yt.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",Ue(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ys({find:Wx,type:this.type})]},addPasteRules(){return[ws({find:Vx,type:this.type})]}}),Yx=Pt.create({name:"text",group:"inline"}),Xx=Ye.create({name:"starterKit",addExtensions(){const e=[];return this.options.bold!==!1&&e.push(yx.configure(this.options.bold)),this.options.blockquote!==!1&&e.push(px.configure(this.options.blockquote)),this.options.bulletList!==!1&&e.push(_x.configure(this.options.bulletList)),this.options.code!==!1&&e.push(Ex.configure(this.options.code)),this.options.codeBlock!==!1&&e.push(Ax.configure(this.options.codeBlock)),this.options.document!==!1&&e.push(Tx.configure(this.options.document)),this.options.dropcursor!==!1&&e.push(kx.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&e.push(Rx.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&e.push(Ox.configure(this.options.hardBreak)),this.options.heading!==!1&&e.push(Px.configure(this.options.heading)),this.options.history!==!1&&e.push($x.configure(this.options.history)),this.options.horizontalRule!==!1&&e.push(Lx.configure(this.options.horizontalRule)),this.options.italic!==!1&&e.push(Bx.configure(this.options.italic)),this.options.listItem!==!1&&e.push(Ma.configure(this.options.listItem)),this.options.orderedList!==!1&&e.push(Hx.configure(this.options.orderedList)),this.options.paragraph!==!1&&e.push(Fx.configure(this.options.paragraph)),this.options.strike!==!1&&e.push(Ux.configure(this.options.strike)),this.options.text!==!1&&e.push(Yx.configure(this.options.text)),e}});function lu(e){return Nu((t,n)=>({get(){return t(),e},set(s){e=s,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class Kx extends rx{constructor(t={}){return super(t),this.contentComponent=null,this.appContext=null,this.reactiveState=lu(this.view.state),this.reactiveExtensionStorage=lu(this.extensionStorage),this.on("beforeTransaction",({nextState:n})=>{this.reactiveState.value=n,this.reactiveExtensionStorage.value=this.extensionStorage}),No(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(t,n){const s=super.registerPlugin(t,n);return this.reactiveState&&(this.reactiveState.value=s),s}unregisterPlugin(t){const n=super.unregisterPlugin(t);return this.reactiveState&&n&&(this.reactiveState.value=n),n}}const qx=Ha({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(e){const t=F(),n=Pi();return Ua(()=>{const s=e.editor;s&&s.options.element&&t.value&&on(()=>{if(!t.value||!s.options.element.firstChild)return;const i=B(t.value);t.value.append(...s.options.element.childNodes),s.contentComponent=n.ctx._,n&&(s.appContext={...n.appContext,provides:n.provides}),s.setOptions({element:i}),s.createNodeViews()})}),Vo(()=>{const s=e.editor;s&&(s.contentComponent=null,s.appContext=null)}),{rootEl:t}},render(){return qo("div",{ref:e=>{this.rootEl=e}})}});class Gx extends Kx{constructor(...t){super(...t)}apply(){return this.commands.insertContentAt(0,""),this}getContent(){return this.getHTML()}setContent(t){return this.commands.setContent(t),this}getExtension(t){const n=this.options.extensions.find(s=>s.name===t);if(!n)throw`Extension "${t}" is not found`;return n}setExtensionOptions(t,n){const s=this.getExtension(t);for(const[i,o]of Object.entries(n))s.options[i]=o;return this.apply()}}const Jx=({content:e,emit:t,props:n})=>{const s=$e("createDeferredTimer")(),i=F(!1),o=F(!1),r=I(()=>i.value||o.value),l=I(()=>n.placeholder!==null?n.placeholder:r.value?"Напиши текст...":"Кликни сюда и напиши текст..."),a=new Gx({extensions:[ux.configure({types:[su.name,Ma.name]}),su.configure({types:[Ma.name]}),hx.configure({placeholder:l.value}),dx,Xx],editorProps:{attributes:{spellcheck:"false"}},content:e.value,onUpdate({editor:d}){e.value=d.getContent(),t("update",e.value),s.start(1e3,()=>t("save",e.value))},onFocus({editor:d,event:h}){o.value=!0,d.setExtensionOptions("placeholder",{placeholder:l.value})},onBlur({editor:d,event:h}){o.value=!1,d.setExtensionOptions("placeholder",{placeholder:l.value})}}),c=()=>o.value&&(i.value=!0),u=()=>i.value=!1;return Vo(()=>a.destroy()),{editor:a,isFocused:r,isContentFocused:o,onPanelOver:c,onPanelLeave:u}},Zx=["disabled"],Qx={__name:"Button",props:{icon:String,color:{type:String,default:null},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},setup(e){const t=e,n=I(()=>t.active?"active":null),s=I(()=>`fas fa-${t.icon}`),i=I(()=>({color:t.color}));return(o,r)=>(x(),N("button",{class:ge(["ui-editor-button",n.value]),disabled:e.disabled},[T("span",{class:"ui-editor-button__icon icon",style:Rn(i.value)},[T("i",{class:ge(s.value)},null,2)],4)],10,Zx))}},zt=ve(Qx,[["__scopeId","data-v-fa9735cb"]]),eE={class:"ui-editor-panel"},tE={class:"ui-editor-panel__content"},nE={class:"ui-editor-panel__group"},sE={class:"ui-editor-panel__group"},iE={class:"ui-editor-panel__group"},oE={class:"ui-editor-panel__group"},rE={class:"ui-editor-panel__group"},aE={__name:"Panel",props:{editor:{type:Object},hasClose:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const n=t,s=e,i=I(()=>!s.editor.can().chain().focus().toggleBold().run()),o=I(()=>s.editor.isActive("bold")),r=()=>{s.editor.chain().focus().toggleBold().run()},l=I(()=>!s.editor.can().chain().focus().toggleItalic().run()),a=I(()=>s.editor.isActive("italic")),c=()=>{s.editor.chain().focus().toggleItalic().run()},u=I(()=>!s.editor.can().chain().focus().toggleUnderline().run()),d=I(()=>s.editor.isActive("underline")),h=()=>{s.editor.chain().focus().toggleUnderline().run()},f=I(()=>!s.editor.can().chain().focus().toggleStrike().run()),p=I(()=>s.editor.isActive("strike")),m=()=>{s.editor.chain().focus().toggleStrike().run()},b=I(()=>!s.editor.can().chain().focus().toggleBulletList().run()),y=I(()=>s.editor.isActive("bulletList")),S=()=>{s.editor.chain().focus().toggleBulletList().run()},E=I(()=>!s.editor.can().chain().focus().toggleOrderedList().run()),M=I(()=>s.editor.isActive("orderedList")),P=()=>{s.editor.chain().focus().toggleOrderedList().run()},H=I(()=>!s.editor.can().chain().focus().toggleHeading({level:1}).run()),z=I(()=>s.editor.isActive("heading",{level:1})),j=be=>{s.editor.chain().focus().toggleHeading({level:be}).run()},$=F({purple:"#5f00d7",pink:"#d1007c",green:"#d4ff38"});I(()=>!s.editor.can().chain().focus().setColor($.value.purple).run()),I(()=>s.editor.isActive("textStyle",{color:$.value.purple})),I(()=>!s.editor.can().chain().focus().setColor($.value.pink).run()),I(()=>s.editor.isActive("textStyle",{color:$.value.pink})),I(()=>!s.editor.can().chain().focus().setColor($.value.green).run()),I(()=>s.editor.isActive("textStyle",{color:$.value.green})),I(()=>!s.editor.can().chain().focus().toggleCodeBlock().run()),I(()=>s.editor.isActive("codeBlock")),I(()=>!s.editor.can().chain().focus().toggleBlockquote().run()),I(()=>s.editor.isActive("blockquote"));const Z=()=>{s.editor.chain().focus().setHorizontalRule().run()},oe=I(()=>!s.editor.can().chain().focus().undo().run()),U=()=>{s.editor.chain().focus().undo().run()};I(()=>!s.editor.can().chain().focus().redo().run());const ae=()=>s.editor.chain().blur()&&n("close");return(be,le)=>(x(),N("div",eE,[le[5]||(le[5]=T("div",{class:"ui-editor-panel__offset"},null,-1)),T("div",tE,[T("section",nE,[D(zt,{onClick:r,icon:"bold",disabled:i.value,active:o.value},null,8,["disabled","active"]),D(zt,{onClick:c,icon:"italic",disabled:l.value,active:a.value},null,8,["disabled","active"]),D(zt,{onClick:h,icon:"underline",disabled:u.value,active:d.value},null,8,["disabled","active"]),D(zt,{onClick:m,icon:"strikethrough",disabled:f.value,active:p.value},null,8,["disabled","active"])]),le[1]||(le[1]=T("div",{class:"ui-editor-panel__delimiter"},null,-1)),T("section",sE,[D(zt,{onClick:le[0]||(le[0]=he=>j(1)),icon:"heading",disabled:H.value,active:z.value},null,8,["disabled","active"])]),le[2]||(le[2]=T("div",{class:"ui-editor-panel__delimiter"},null,-1)),T("section",iE,[D(zt,{onClick:S,icon:"list-ul",disabled:b.value,active:y.value},null,8,["disabled","active"]),D(zt,{onClick:P,icon:"list-ol",disabled:E.value,active:M.value},null,8,["disabled","active"])]),le[3]||(le[3]=T("div",{class:"ui-editor-panel__delimiter"},null,-1)),T("section",oE,[D(zt,{onClick:Z,icon:"window-minimize"})]),le[4]||(le[4]=T("div",{class:"ui-editor-panel__delimiter"},null,-1)),T("section",rE,[D(zt,{onClick:U,icon:"undo",disabled:oe.value},null,8,["disabled"]),e.hasClose?(x(),K(zt,{key:0,onClick:ae,icon:"caret-down"})):Te("",!0)])])]))}},vf=ve(aE,[["__scopeId","data-v-1498af8b"]]),lE=e=>{e=e||{};const t=e.excludedElements||[],n=F(!1),s=F(0),i=F(0),o=()=>{const l=window.getSelection();if(!l||l.rangeCount===0){n.value=!1;return}const c=l.getRangeAt(0).getBoundingClientRect();if(!c||c.width===0&&c.height===0){n.value=!1;return}s.value=c.bottom+window.scrollY,i.value=c.left+window.scrollX,n.value=!0},r=({target:l})=>{t.some(a=>a&&a.contains(l))||(n.value=!1)};return St(()=>{document.addEventListener("mouseup",o),document.addEventListener("keyup",o),document.addEventListener("selectionchange",o),document.addEventListener("mousedown",r),document.addEventListener("touchstart",r)}),cn(()=>{document.removeEventListener("mouseup",o),document.removeEventListener("keyup",o),document.removeEventListener("selectionchange",o),document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}),{isSelectionActive:n,selectionTop:s,selectionLeft:i}},cE={class:"ui-editor-bouble-pamel__wrapper"},uE={__name:"BoublePanel",props:{editor:{type:Object},visible:{type:Boolean,default:!1}},emits:["mouseover","close"],setup(e,{emit:t}){const n=e,s=t,i=bt("wrapper"),{selectionTop:o}=lE({excludedElements:[i.value]}),r=I(()=>!i.value||!n.visible?{}:{top:Math.max(o.value+20,250)+"px"});return(l,a)=>(x(),K(qu,{to:"body"},[T("div",{ref_key:"wrapper",ref:i,class:ge(["ui-editor-bouble-pamel",{visible:e.visible}]),style:Rn(r.value),onMouseover:a[1]||(a[1]=c=>s("mouseover",c))},[T("div",cE,[D(vf,{editor:e.editor,hasClose:!0,onClose:a[0]||(a[0]=c=>s("close"))},null,8,["editor"])])],38)]))}},dE=ve(uE,[["__scopeId","data-v-2c4d2ccf"]]),hE={__name:"Editor",props:je({placeholder:{type:String,default:null}},{modelValue:{},modelModifiers:{}}),emits:je(["update","save"],["update:modelValue"]),setup(e,{emit:t}){const n=At(e,"modelValue"),s=t,i=e,o=Rt(),{editor:r,isFocused:l,onPanelOver:a,onPanelLeave:c}=Jx({content:n,emit:s,props:i});return(u,d)=>(x(),N("div",{class:ge(["ui-editor",{focused:B(l)}]),onMouseover:d[0]||(d[0]=(...h)=>B(a)&&B(a)(...h)),onMouseleave:d[1]||(d[1]=(...h)=>B(c)&&B(c)(...h))},[B(o).isSmall?(x(),K(dE,{key:0,visible:B(l),editor:B(r),onMouseover:B(a),onClose:B(c)},null,8,["visible","editor","onMouseover","onClose"])):(x(),K(vf,{key:1,class:ge(["ui-editor__panel",{hidden:!B(l)}]),editor:B(r)},null,8,["class","editor"])),D(B(qx),{class:"ui-editor__content wooj-content",editor:B(r)},null,8,["editor"])],34))}},fE={class:"topic-tags"},pE={__name:"TopicTags",props:je({topics:{type:Array}},{modelValue:{},modelModifiers:{}}),emits:je(["update","save"],["update:modelValue"]),setup(e,{emit:t}){const n=At(e,"modelValue"),s=e,i=t,o=$e("createDeferredTimer")(),r=F(n.value.reduce((c,u)=>(c[u]=!0,c),{})),l=I(()=>{const c={};return s.topics.forEach(u=>{c[u.id]=r.value[u.id]||!1}),c}),a=()=>{i("update",l.value),o.start(500,()=>i("save",l.value))};return Ve(r.value,a),(c,u)=>(x(),N("div",fE,[(x(!0),N(ke,null,An(s.topics,d=>(x(),K(Ja,{class:"topics__item",icon:"tag",text:d.name,clickable:!0,modelValue:r.value[d.id],"onUpdate:modelValue":h=>r.value[d.id]=h},null,8,["text","modelValue","onUpdate:modelValue"]))),256))]))}},mE=ve(pE,[["__scopeId","data-v-8feab01b"]]),gE={class:"wooj"},vE={key:0,class:"wooj__board"},bE={key:0,class:"wooj__actions"},yE={key:1,class:"wooj__actions"},wE={class:"wooj__paper"},_E={class:"wooj__title"},SE={class:"wooj__content"},xE={__name:"Wooj",props:je({topics:{type:Array,default:[]},loaded:{type:Boolean,default:!0},saving:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:je(["change-content","change-topics"],["update:modelValue"]),setup(e,{emit:t}){const n=At(e,"modelValue"),s=t,i=e,o=Qo(),r=Rt(),l=F(!1),a=I(()=>!!i.topics.length),c=()=>o.back(),u=()=>l.value=!l.value,d=h=>s("change-topics",h);return(h,f)=>(x(),N("div",gE,[i.loaded?(x(),N("div",vE,[B(r).isSmall?(x(),N("div",bE,[D(rt,{icon:"arrow-left",label:"Назад",scalable:!1,onClick:c}),a.value?(x(),K(rt,{key:0,icon:"tags",label:"Топики",scalable:!1,onClick:u})):Te("",!0)])):(x(),N("div",yE,[D(rt,{icon:"arrow-left",onClick:c}),a.value?(x(),K(rt,{key:0,icon:"tags",onClick:u})):Te("",!0)])),T("div",wE,[T("div",_E,[(x(),K(Za,{class:"wooj__title-field",placeholder:"Заголовок вуджа",modelValue:n.value.title,"onUpdate:modelValue":f[0]||(f[0]=p=>n.value.title=p),key:n.value.title,max:120,onChange:f[1]||(f[1]=p=>s("change-content",n.value))},null,8,["modelValue"]))]),T("div",SE,[D(hE,{modelValue:n.value.content,"onUpdate:modelValue":f[2]||(f[2]=p=>n.value.content=p),onSave:f[3]||(f[3]=p=>s("change-content",n.value))},null,8,["modelValue"])])])])):(x(),K(il,{key:1,type:"block-list",itemsNum:1,class:"wooj__skeleton"})),D(nr,{modelValue:l.value,"onUpdate:modelValue":f[5]||(f[5]=p=>l.value=p),title:"Топики",center:B(r).isSmall},{default:Ee(()=>[D(mE,{topics:e.topics,modelValue:n.value.topicIds,"onUpdate:modelValue":f[4]||(f[4]=p=>n.value.topicIds=p),onSave:d},null,8,["topics","modelValue"])]),_:1},8,["modelValue","center"])]))}},EE=ve(xE,[["__scopeId","data-v-89f25cce"]]),CE={class:"view-wooj"},ME={__name:"Wooj",props:["woojId"],setup(e){const t=e,{woojStore:n,onLoaded:s,setRouteListeners:i}=Xn(),o=Di(),r=Vt({id:null,title:"",content:"",topicIds:[]}),l=F(!1),a=()=>n.updateWooj(r.id,{title:r.title,content:r.content}),c=async h=>{const{topic_ids:f}=await n.setWoojTopics(r.id,h);r.topicIds=f},u=()=>{l.value=!0,o.setStatusBar({title:"Нет вуджа",icon:"magnifying-glass"})},d=()=>{n.activateWooj(t.woojId),n.hasActiveWooj&&(r.id=n.activeWooj.id,r.title=n.activeWooj.title,r.content=n.activeWooj.content,r.topicIds=n.activeWooj.topic_ids,o.setStatusBar({title:r.title||"Новый вудж",icon:"file-pen"}))};return Ve(()=>t.woojId,d),Ve(()=>r.title,()=>{o.setStatusBar({title:r.title||"Новый вудж",icon:"file-pen"})}),s(()=>{d(),n.hasActiveWooj||u()}),Yn(()=>{d(),i()}),cn(()=>{n.deactivateWooj(),o.unsetStatusBar()}),(h,f)=>(x(),N("div",CE,[l.value?(x(),K(of,{key:0,title:"Вудж не найден",text:"Используй поиск"})):(x(),K(EE,{modelValue:r,"onUpdate:modelValue":f[0]||(f[0]=p=>r=p),key:r.id,loaded:B(n).isLoaded,saving:B(n).isUpdatingWooj,topics:B(n).customTopics,onChangeContent:a,onChangeTopics:c},null,8,["modelValue","loaded","saving","topics"]))]))}},AE=ve(ME,[["__scopeId","data-v-5fa663ff"]]),VE=Object.freeze(Object.defineProperty({__proto__:null,default:AE},Symbol.toStringTag,{value:"Module"}));export{jE as A,NE as D,BE as P,HE as T,VE as W,DE as _,$E as a,OE as b,LE as c,PE as d,IE as e,FE as f};
